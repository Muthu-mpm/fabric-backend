(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{282:function(e,t,n){},376:function(e,t){},383:function(e,t){},385:function(e,t){},395:function(e,t){},397:function(e,t){},423:function(e,t){},425:function(e,t){},426:function(e,t){},431:function(e,t){},433:function(e,t){},439:function(e,t){},441:function(e,t){},460:function(e,t){},472:function(e,t){},475:function(e,t){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},505:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(26),o=n.n(r),s=n(167),c=n(33),l=n(47),d=n(39),h=n(29),u=n(207),f=n(95),b=(n(330),n(1));var m=function(){var e=Object(d.g)(),t=Object(d.h)(),n=Object(a.useState)(!1),r=Object(h.a)(n,2),o=r[0],s=r[1],c=Object(a.useState)(),l=Object(h.a)(c,2),m=l[0],j=l[1],g=[{title:"Clients",itemId:"/client",elemBefore:function(){return Object(b.jsx)(f.a,{name:"coffee"})}},{title:"Branches",itemId:"/Branches",elemBefore:function(){return Object(b.jsx)(f.a,{name:"user"})},subNav:[{title:"All Branches",itemId:"/Branches/AllBranches"},{title:"Files",itemId:"/Branches/Files"}]},{title:"Dashboard",itemId:"/another",subNav:[{title:"Dashboard",itemId:"/another/teams"},{title:"ProcessMessage",itemId:"/another/processmessage"}]},{title:"Oyna Viewer",itemId:"/oynaviewer",elemBefore:function(){return Object(b.jsx)(f.a,{name:"coffee"})}},{title:"Oyna Viewer Normal",itemId:"/oynaviewerNormal",elemBefore:function(){return Object(b.jsx)(f.a,{name:"coffee"})}},{title:"LaodBar",itemId:"/loadbar",elemBefore:function(){return Object(b.jsx)(f.a,{name:"coffee"})}}];return m||localStorage.getItem("token")&&("Super Admin"!==JSON.parse(localStorage.getItem("token")).role&&g.shift(),j(g)),Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)("div",{onClick:function(){return s(!1)},className:"fixed inset-0 z-20 block transition-opacity bg-black opacity-50 2xl:hidden ".concat(o?"block":"hidden")}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{style:{zIndex:1,position:"fixed"},className:"btn-menu",onClick:function(){return s(!0)},type:"button",children:Object(b.jsx)(f.a,{name:"burger",className:"w-6 h-6"})})}),Object(b.jsxs)("div",{className:"fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 ease-out transform translate-x-0 bg-white border-r-2 2xl:translate-x-0 2xl:static  2xl:inset-0\n       ".concat(o?"ease-out translate-x-0":"ease-in -translate-x-full"),children:[Object(b.jsx)("div",{className:"flex items-center justify-center",style:{width:200,margin:30},children:Object(b.jsx)("img",{src:"/logo512.png"})}),Object(b.jsx)("div",{className:"flex items-center justify-center mt-10 text-center py-6",children:Object(b.jsx)("span",{className:"mx-2 text-2xl font-semibold text-black",children:"Oyna Cloud"})}),Object(b.jsx)(u.Navigation,{activeItemId:t.pathname,onSelect:function(t){var n=t.itemId;e.push(n)},items:m||g}),Object(b.jsx)("div",{className:"absolute bottom-0 w-full my-8",children:Object(b.jsx)(u.Navigation,{activeItemId:t.pathname,items:[{title:"Logout",itemId:"/logout",elemBefore:function(){return Object(b.jsx)(f.a,{name:"activity"})}}],onSelect:function(t){var n=t.itemId;e.push(n)}})})]})]})},j=function(e){var t=e.children;return Object(b.jsx)("div",{className:"relative min-h-screen",children:Object(b.jsx)("main",{className:"w-full min-h-screen",children:t})})},g=n(31),p=n.n(g),O=(n(213),function(e){var t=e.children;return Object(b.jsxs)(j,{children:[Object(b.jsx)(p.a,{}),Object(b.jsxs)("div",{className:"flex h-screen bg-gray-200",children:[Object(b.jsx)(m,{}),Object(b.jsx)("div",{className:"flex flex-col flex-1 overflow-hidden",children:Object(b.jsx)("main",{className:"content",children:Object(b.jsx)("section",{className:"sm:flex-row flex flex-col flex-1",children:Object(b.jsx)("div",{className:"content-box",style:{flexGrow:2,flexBasis:"0%"},children:t})})})})]})]})}),x=function(){return Object(b.jsx)(O,{children:Object(b.jsx)("h2",{children:"Settings Page"})})},v=n(4),S=n(5),T=n(6),E=n(7),_=n(570),y=n(40),A=n(582),C=n(583),R=n(289),L=n(590),P=n(592),w=n(599),D=n(509),k=n(78),I=n.n(k),F=n(508),N=n(17),B=n(12),U=n(18),M=n(575),H=n(576),W=n(568),V=n(574),G=n(572),K=n(591),X=n(569),z=n(602),J=n(571),Y=n(573),q=n(597),Q=n(580),Z=n(581),$=n(116),ee=n.n($),te=n(115),ne=n.n(te);var ae=Object(U.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(W.a),ie=Object(U.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a);function re(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function oe(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var se=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(y.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ce=function(e){var t=se(),n=e.numSelected;e.Titlebar;return Object(b.jsxs)(J.a,{className:Object(B.a)(t.root,Object(N.a)({},t.highlight,n>0)),children:[n>0?Object(b.jsxs)(F.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(b.jsx)(F.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:e.Title}),e.Titlebar]})},le=(Object(_.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).handleRequestSort=function(e,t){var n=a.state.orderBy===t&&"asc"===a.state.order;a.setState({order:n?"desc":"asc"}),a.setState({orderBy:t})},a.handleSelectAllClick=function(e){if(e.target.checked){var t=a.props.tableData.map((function(e){return e.name}));a.setState({selected:t})}else a.setState({selected:[]})},a.componentWillMount=function(){},a.handleClick=function(e,t){},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:parseInt(e.target.value,10)}),a.setState({page:0})},a.handleChangeDense=function(e){a.setState({dense:e.target.checked})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.emptyRows=function(){return a.state.rowsPerPage-Math.min(a.state.rowsPerPage,a.props.tableData.length-a.state.page*a.state.rowsPerPage)},a.EnhancedTableHead=function(e){e.classes;var t=e.onSelectAllClick,n=e.order,i=e.orderBy,r=e.numSelected,o=e.rowCount,s=(e.onRequestSort,{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1});return Object(b.jsx)(G.a,{children:Object(b.jsxs)(ie,{children:[Object(b.jsx)(ae,{padding:"checkbox",children:Object(b.jsx)(q.a,{indeterminate:r>0&&r<o,checked:o>0&&r===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),a.props.headCells.map((function(e){var t,r;return Object(b.jsx)(ae,(t={align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&n},Object(N.a)(t,"align","left"),Object(N.a)(t,"children",Object(b.jsxs)(z.a,{align:"left",active:i===e.id,direction:i===e.id?n:"asc",onClick:(r=e.id,function(e){a.handleRequestSort(e,r)}),children:[e.label,i===e.id?Object(b.jsx)("span",{style:s,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})),t),e.id)})),Object(b.jsx)(ae,{children:"Actions"})]})})},a.state={show:e.show,dataget:void 0,order:"asc",orderBy:"calories",selected:[],page:0,dense:!1,rowsPerPage:5,classes:{root:{width:"100%"},paper:{width:"100%",marginBottom:2},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}},a}return Object(S.a)(n,[{key:"render",value:function(){var e,t,n=this;return Object(b.jsxs)("div",{children:[Object(b.jsxs)(Y.a,{children:[Object(b.jsx)(ce,{numSelected:this.state.selected.length,Title:this.props.Title,Titlebar:this.props.Titlebar}),Object(b.jsx)(V.a,{style:{maxHeight:500},children:Object(b.jsxs)(M.a,{"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table",children:[Object(b.jsx)(this.EnhancedTableHead,{numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.state.handleSelectAllClick,onRequestSort:this.state.handleRequestSort,rowCount:this.props.tableData.length}),Object(b.jsxs)(H.a,{children:[oe(this.props.tableData,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,n){return re(e,n,t)}:function(e,n){return-re(e,n,t)})).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(e,t){var a=n.isSelected(e.filename),i="enhanced-table-checkbox-".concat(t);return Object(b.jsxs)(ie,{hover:!0,onClick:function(t){return n.handleClick(t,e)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(b.jsx)(ae,{padding:"checkbox"}),n.props.headCells.map((function(t){return Object(b.jsx)(ae,{component:"th",id:i,scope:"row",align:"left",children:t.link?Object(b.jsxs)("a",{href:"",onClick:function(t){n.props.clickLink(t,e)},children:[" ",e[t.id]]}):Array.isArray(e[t.id])?e[t.id].map((function(e){return e.user})).join(", "):e[t.id]})})),Object(b.jsxs)(ae,{align:"center",children:[n.props.isedit&&Object(b.jsx)(D.a,{onClick:function(t){return n.props.edit(e)},children:Object(b.jsx)(ne.a,{})}),Object(b.jsx)(D.a,{onClick:function(t){return n.props.delete(e)},children:Object(b.jsx)(ee.a,{})})]})]},e._id)})),this.emptyRows>0&&Object(b.jsx)(ie,{style:{height:(this.state.dense?33:53)*this.emptyRows},children:Object(b.jsx)(W.a,{colSpan:6})})]})]})}),Object(b.jsx)(K.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.props.tableData.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})]}),Object(b.jsx)(Q.a,{control:Object(b.jsx)(Z.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"})]})}}]),n}(a.Component)),de=n(62),he=n.n(de);n(128).config();var ue=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(y.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),fe=function(e){var t=ue();return Object(b.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(b.jsx)(D.a,{onClick:e.clickfun,children:Object(b.jsx)(I.a,{style:{fontSize:40}})}),"Add Branch"]})},be=(Object(_.a)({table:{minWidth:700}}),[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!0},{id:"addressline2",numeric:!0,disablePadding:!1,label:"Address",link:!1},{id:"city",numeric:!0,disablePadding:!1,label:"City",link:!1},{id:"state",numeric:!0,disablePadding:!1,label:"State",link:!1}]),me=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0,showLoader:!0},e}return Object(S.a)(n,[{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/Allbranches",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"edit",value:function(e){this.setState({update:!0}),this.setState({show:!0}),this.setState({name:e.name}),this.setState({addr1:e.addressline1}),this.setState({addr2:e.addressline2}),this.setState({city:e.city}),this.setState({state:e.state}),this.setState({postcode:e.postcode}),this.setState({country:e.country}),this.setState({branchUsers:e.branchUsers}),this.setState({id:e._id})}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})},a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/deletebranch";fetch(a,n).then((function(e){return e.json()})).then((function(e){t.GetAllBranches(),g.store.addNotification({title:"Branch!",message:"Branch has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllBranches()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(b.jsxs)(O,{children:[Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsxs)(C.a,{fluid:!0,children:[Object(b.jsx)(A.a,{className:"offset-8"}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsxs)(A.a,{children:[Object(b.jsx)(he.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(b.jsx)(R.a,{xs:10,children:this.state.dataget&&Object(b.jsx)(le,{Title:"Branches",headCells:be,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!0,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:Object(b.jsx)(fe,{clickfun:function(){return e.setState({show:!0})}})})})]})]}),Object(b.jsx)(L.a,{show:this.state.show,onHide:t,children:Object(b.jsxs)(P.a,{onSubmit:function(t){e.setState({showLoader:!0});t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country,branchUsers:e.state.branchUsers,id:e.state.id})},a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/addbranch";e.state.update&&(a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/updatebranch"),fetch(a,n).then((function(e){return e.json()})).then((function(t){e.GetAllBranches(),g.store.addNotification({title:"Branch!",message:e.state.update?"Updated Branch":"Branch Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),e.setState({showLoader:!1})}))},children:[Object(b.jsx)(L.a.Header,{closeButton:!0,children:Object(b.jsx)(L.a.Title,{children:"New Branch"})}),Object(b.jsxs)(L.a.Body,{children:[Object(b.jsx)(P.a.Group,{controlId:"name",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Name"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Branch Name",name:"name",value:this.state.name})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"addressline1",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Address Line 1"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr1:t.target.value})},placeholder:"Address Line 1",name:"addressline1",value:this.state.addr1})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"addressline2",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Address Line 2"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr2:t.target.value})},placeholder:"Address Line 2",name:"addressline1",value:this.state.addr2})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"city",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"City"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",name:"city",value:this.state.city})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"state",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"State"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",name:"state",value:this.state.state})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"postcode",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Postcode"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"number",onChange:function(t){return e.setState({postcode:t.target.value})},placeholder:"Postcode",name:"postcode",value:this.state.postcode})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"country",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Country"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({country:t.target.value})},placeholder:"country",name:"postcode",value:this.state.country})," "]})]})})]}),Object(b.jsxs)(L.a.Footer,{children:[Object(b.jsx)(w.a,{variant:"secondary",onClick:t,children:"Close"}),Object(b.jsx)(w.a,{type:"submit",variant:"primary",onClick:t,children:this.state.update?"update":"Add Branch"})]})]})})]})}}]),n}(a.Component),je=Object(d.i)(me),ge=n(21),pe=n.n(ge),Oe=n(34);n(153),n(215),n(216),n(218),n(219);n(128).config();Object(U.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(W.a),Object(U.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a),Object(_.a)({table:{minWidth:700}});var xe=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!0},{id:"username",numeric:!0,disablePadding:!1,label:"Email",link:!1},{id:"apptype",numeric:!0,disablePadding:!1,label:"Application",link:!1}],ve=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(y.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Se=function(e){var t=ve();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(b.jsx)("input",{type:"file",onChange:e.showfilefun}),Object(b.jsx)(D.a,{variant:"h6",onClick:e.clickfun,children:Object(b.jsx)(I.a,{variant:"h6",style:{fontSize:40}})}),"Add Node"]})})},Te=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).showFile=function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,a.setState({reqfile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={show:!1,dataget:void 0,showLoader:!0},a}return Object(S.a)(n,[{key:"GetBrancheUsers",value:function(){var e=this,t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/GetUsers",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetBrancheUsers()}},{key:"addNewNodeToBranch",value:function(){var e=this;this.setState({showLoader:!0});var t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id,reqfile:this.state.reqfile}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/adduser",t).then((function(e){return e.json()})).then((function(t){e.GetBrancheUsers(),g.store.addNotification({title:"User!",message:"New User Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),e.setState({showLoader:!1})}))}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})},a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/deleteuser";fetch(a,n).then((function(e){return e.json()})).then((function(e){t.GetBrancheUsers(),g.store.addNotification({title:"User!",message:"User has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)(O,{children:Object(b.jsxs)(C.a,{fluid:!0,children:[Object(b.jsx)(A.a,{style:{height:60}}),Object(b.jsx)(A.a,{children:Object(b.jsxs)(R.a,{xs:10,children:[Object(b.jsx)(he.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.dataget&&Object(b.jsx)(le,{Title:"Nodes",headCells:xe,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/users/"+n._id)},Titlebar:Object(b.jsx)(Se,{clickfun:function(t){return e.addNewNodeToBranch()},showfilefun:function(t){return e.showFile(t)}})})]})})]})})}}]),n}(a.Component),Ee=Object(d.i)(Te),_e=n(600),ye=n(593);n(219);n(128).config();var Ae=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={show:!1,dataget:void 0,branches:[],nodes:[],selectedNodes:[],selectedBranches:[],currentUserid:void 0,showLoader:!0},a}return Object(S.a)(n,[{key:"GetUserInfo",value:function(){var e=this,t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/GetUserInfo",t).then((function(e){return e.json()})).then((function(t){t.length>0&&e.setState({currentUserid:t[0].id}),e.setState({showLoader:!1})}))}},{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/Allbranches",t).then((function(e){return e.json()})).then((function(t){e.setState({branches:t})}))}},{key:"GetSavedFlow",value:function(){var e=this,t={method:"POST",body:JSON.stringify({userid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/Allbranchesnew",t).then((function(e){return e.json()})).then((function(t){if(t.r){t.db.forEach((function(e,n){var a=t.r.filter((function(t){return t._id===e}))[0];a&&(a.selected=!0)})),e.setState({branches:t.r});var n=0;t.db.forEach((function(a,i){e.GetBrancheUsers(a).then((function(){++n===t.db.length&&(t.dn.forEach((function(t,n){var a=e.state.nodes.filter((function(e){return e._id===t.id}))[0];a&&(a.selected=!0)})),e.setState({nodes:e.state.nodes}))}))}))}else e.GetAllBranches()}))}},{key:"GetBrancheUsers",value:function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n,a=this;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify({branchid:t}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/GetUsers",n).then((function(e){return e.json()})).then((function(e){return a.state.nodes.length>0&&a.state.nodes.forEach((function(t,n){e.push(t)})),a.setState({nodes:e}),!0}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.GetUserInfo(),this.GetSavedFlow(),this.GetBrancheUsers()}},{key:"getLicfromServer",value:function(){var e=this;this.setState({showLoader:!0});var t={method:"POST",body:JSON.stringify({userid:this.state.currentUserid}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/GetUsersLicense",t).then((function(e){return e.json()})).then((function(t){e.setState({lickey:t.lickey});var n=new Blob([e.state.lickey],{type:"text/plain"}),a=URL.createObjectURL(n),i=document.createElement("a");i.download="License.ylic",i.href=a,i.click(),e.setState({showLoader:!1})}))}},{key:"SaveFlow",value:function(){var e=this;this.setState({showLoader:!0});var t=this.state.nodes.filter((function(e){return e.selected})).map((function(e){return{user:e.name,id:e._id}})),n=this.state.branches.filter((function(e){return e.selected})).map((function(e){return e._id})),a={method:"POST",body:JSON.stringify({sourceId:this.state.currentUserid,destinationId:t,destinationBranch:n}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/addflow",a).then((function(e){return e.json()})).then((function(t){e.setState({showLoader:!1})}))}},{key:"BranchSelect",value:function(e,t){var n=this;if(t.selected=e.target.checked,t.selected)this.GetBrancheUsers(t._id);else{var a=this.state.nodes;t.branchUsers.forEach((function(e,t){var i=n.state.nodes.filter((function(t){return e.user===t._id}))[0],r=a.indexOf(i);r>-1&&a.splice(r,1)})),this.setState({nodes:a})}}},{key:"SelectNode",value:function(e,t){t.selected=e.target.checked,this.setState({nodes:this.state.nodes})}},{key:"render",value:function(){var e=this;return this.state.branches?Object(b.jsxs)(O,{children:[Object(b.jsx)("h2",{style:{paddingLeft:"2rem"},children:"Node Flow Information"}),Object(b.jsxs)(C.a,{fluid:!0,children:[Object(b.jsx)(A.a,{className:"offset-4"}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsxs)(A.a,{children:[Object(b.jsx)(he.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(b.jsxs)(R.a,{xs:2,children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(_e.a,{children:Object(b.jsx)(_e.a.Body,{children:" Node Flow "})})]}),Object(b.jsxs)(R.a,{xs:3,children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)(_e.a,{border:"primary",style:{width:"23rem"},children:[Object(b.jsx)(_e.a.Header,{children:" Branches"}),Object(b.jsx)(ye.a,{variant:"flush",children:this.state.branches.map((function(t){return Object(b.jsx)(ye.a.Item,{children:Object(b.jsx)(P.a.Check,{type:"checkbox",id:t._id,label:t.name,checked:t.selected,onChange:function(n){e.BranchSelect(n,t)}})})}))})]})]}),Object(b.jsxs)(R.a,{xs:3,style:{alignItems:"left"},children:[Object(b.jsx)(w.a,{variant:"primary",onClick:function(t){return e.getLicfromServer()},children:" Download License"}),Object(b.jsxs)(_e.a,{border:"success",style:{width:"23rem"},children:[Object(b.jsx)(_e.a.Header,{children:" Nodes"}),Object(b.jsx)(ye.a,{variant:"flush",children:this.state.nodes.length>0&&this.state.nodes.map((function(t){return Object(b.jsx)(ye.a.Item,{children:Object(b.jsx)(P.a.Check,{type:"checkbox",id:t._id,label:t.username,checked:t.selected,onChange:function(n){e.SelectNode(n,t)}})})}))})]}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsx)(w.a,{variant:"success",onClick:function(t){return e.SaveFlow()},children:"Save"})]})]})]})]}):Object(b.jsxs)(O,{children:[Object(b.jsx)("h2",{children:"All Nodes"}),Object(b.jsx)("h2",{children:"Loading"})]})}}]),n}(a.Component),Ce=Ae,Re=function(){return Object(b.jsx)(O,{children:Object(b.jsx)("h2",{children:"Members Page"})})},Le=n(27),Pe=n(143),we=n.n(Pe),De=n(291),ke=n.n(De);n(128).config();Object(U.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(W.a),Object(U.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a),Object(_.a)({table:{minWidth:700}});var Ie=[{id:"filename",numeric:!1,disablePadding:!0,label:"filename",link:!0},{id:"created",numeric:!0,disablePadding:!1,label:"Date",link:!1},{id:"assigned",numeric:!0,disablePadding:!1,label:"Assigned Nodes",link:!1},{id:"delivered",numeric:!0,disablePadding:!1,label:"Deleivered Nodes",link:!1}],Fe=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(y.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ne=function(e){var t=Fe();return Object(b.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(b.jsx)(D.a,{onClick:e.clickfun,children:Object(b.jsx)(ke.a,{style:{fontSize:40}})}),"Upload File"]})},Be=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={show:!1,datafiles:void 0,file:null,branches:[],nodes:[],showLoader:!0},a.onFormSubmit=a.onFormSubmit.bind(Object(Le.a)(a)),a.onChange=a.onChange.bind(Object(Le.a)(a)),a}return Object(S.a)(n,[{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();var n=new FormData;n.append("oynafile",this.state.file);var a=[];this.state.nodes.forEach((function(e){!0===e.selected&&a.push({user:e.name,id:e._id})})),n.append("users",JSON.stringify(a));var i=this.state.file;this.setState({progress:0}),this.setState({currentFile:i});var r={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("token")).token},onUploadProgress:function(e){t.setState({progress:Math.round(100*e.loaded/e.total)})}};we.a.post("/uploadfile",n,r).then((function(e){t.setState({progress:0}),t.setState({currentFile:null}),g.store.addNotification({title:"File!",message:"Uploaded successfully",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.GetAllFiles()})).catch((function(e){}))}},{key:"onChange",value:function(e){this.setState({files:e.target.files}),this.setState({file:e.target.files[0]})}},{key:"branchChange",value:function(e){var t=this.state.branches.filter((function(t){return t.name===e.target.value}))[0];t&&(this.setState({branch:e.target.value}),this.GetBrancheUsers(t._id))}},{key:"GetBrancheUsers",value:function(e){var t=this,n={method:"POST",body:JSON.stringify({branchid:e}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/GetUsers",n).then((function(e){return e.json()})).then((function(e){t.setState({nodes:e})}))}},{key:"download_File",value:function(e,t){var n={method:"POST",body:JSON.stringify({branchid:""}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/avatarGeneration",n).then((function(e){return e.json()})).then((function(e){console.log("return response")}))}},{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/Allbranches",t).then((function(e){return e.json()})).then((function(t){t.length>0&&e.GetBrancheUsers(t[0]._id),e.setState({branches:t})}))}},{key:"GetAllFiles",value:function(){var e=this,t={method:"POST",body:JSON.stringify({}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/allfiles",t).then((function(e){return e.json()})).then((function(t){e.setState({datafiles:t}),e.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllFiles(),this.GetAllBranches()}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id,path:e.filepath+"/"+e.fileid})},a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/deletefile";fetch(a,n).then((function(e){return e.json()})).then((function(e){t.GetAllFiles(),g.store.addNotification({title:"File!",message:"File has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"selecting",value:function(e){}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(b.jsxs)(O,{children:[Object(b.jsxs)(C.a,{fluid:!0,children:[Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsx)(A.a,{className:"",children:Object(b.jsx)(R.a,{xs:10,children:this.state.currentFile&&Object(b.jsx)("div",{className:"progress",children:Object(b.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":this.state.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.progress+"%"},children:[this.state.progress,"%"]})})})}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsx)(A.a,{children:Object(b.jsxs)(R.a,{xs:10,children:[Object(b.jsx)(he.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.datafiles&&Object(b.jsx)(le,{Title:"All Files",headCells:Ie,tableData:this.state.datafiles,selecting:this.selecting,delete:function(t){return e.delete(t)},isedit:!1,clickLink:function(t,n){e.download_File(t,n)},Titlebar:Object(b.jsx)(Ne,{clickfun:function(){return e.setState({show:!0})}})})]})})]}),Object(b.jsx)(L.a,{show:this.state.show,onHide:t,children:Object(b.jsxs)(P.a,{onSubmit:this.onFormSubmit,children:[Object(b.jsx)(L.a.Header,{closeButton:!0,children:Object(b.jsx)(L.a.Title,{children:"New Node"})}),Object(b.jsxs)(L.a.Body,{children:[Object(b.jsx)(P.a.Group,{children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"File"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)("input",{type:"file",name:"myImage",onChange:this.onChange})," "]})]})}),Object(b.jsx)(P.a.Group,{children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Branch "})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{as:"select",onChange:function(t){e.branchChange(t)},placeholder:"Select",name:"branch",children:this.state.branches.map((function(e){return Object(b.jsx)("option",{children:e.name})}))})," "]})]})}),Object(b.jsx)(P.a.Group,{children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Nodes"})," "]}),Object(b.jsx)(R.a,{xs:8,children:this.state.nodes.map((function(e){return Object(b.jsx)(P.a.Check,{type:"checkbox",id:e._id,label:e.name,onChange:function(t){e.selected=t.target.checked}})}))})]})})]}),Object(b.jsxs)(L.a.Footer,{children:[Object(b.jsx)(w.a,{variant:"secondary",onClick:t,children:"Close"}),Object(b.jsx)(w.a,{type:"submit",variant:"primary",onClick:t,children:"Upload"})]})]})})]})}}]),n}(a.Component),Ue=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={show:!1,dataget:void 0},a}return Object(S.a)(n,[{key:"componentWillMount",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){return Object(b.jsx)(d.a,{to:"/"})}}]),n}(a.Component),Me=function(){return Object(b.jsx)(O,{children:Object(b.jsx)("h2",{children:"About Page"})})},He=n(146),We=n(37),Ve=n(28),Ge=n(10),Ke=n(595),Xe=["text","style"],ze=["hoverIndex"],Je=["state"],Ye=["data","text","style"],qe=function(e,t){return function(n){var a=n.text,i=n.style,r=Object(He.a)(n,Xe);return Object(b.jsx)(We.j.Label,Object(c.a)({text:"".concat(a," ").concat(e),style:Object(c.a)({fill:t},i)},r))}},Qe=qe("$","#fcd45a"),Ze=qe("k","#41c0f0"),$e=function(e){var t=e.hoverIndex,n=Object(He.a)(e,ze);return Object(c.a)({state:n.index===t?"hovered":null},n)},et=function(e){return Object(b.jsx)(We.c.Point,Object(c.a)({},$e(e)))},tt={size:7},nt=function(e){var t,n=$e(e);return Object(b.jsx)(We.f.Point,Object(c.a)({point:(t=n.state,t?{size:7}:{size:0})},n))},at=function(e){e.state;var t=Object(He.a)(e,Je);return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(We.a.Path,Object(c.a)({},t)),Object(b.jsx)(We.f.Path,Object(c.a)({},t))]})},it=function(e){return Object(b.jsx)(We.f.Point,Object(c.a)({point:tt},$e(e)))},rt=function(e){return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(We.g.Path,Object(c.a)({},e)),Object(b.jsx)(We.f.Path,Object(c.a)({},e))]})},ot=[{name:"import",key:"import",color:"#08abbd"},{name:"Scan",key:"scan",color:"#d4d67e"},{name:"Routine",key:"routine",color:"#78bc97"}],st={display:"flex",margin:"auto",flexDirection:"row"},ct=function(e){return Object(b.jsx)(We.e.Root,Object(c.a)(Object(c.a)({},e),{},{style:st}))},lt={flexDirection:"column",marginLeft:"-2px",marginRight:"-2px"},dt=function(e){return Object(b.jsx)(We.e.Item,Object(c.a)(Object(c.a)({},e),{},{style:lt}))},ht={whiteSpace:"nowrap"},ut=function(e){return Object(b.jsx)(We.e.Label,Object(c.a)(Object(c.a)({},e),{},{style:ht}))},ft=Object(Ke.a)(".1f"),bt=function(e){var t=e.data,n=(e.text,e.style),a=Object(He.a)(e,Ye),i=Object(c.a)(Object(c.a)({},n),{},{paddingLeft:"10px"}),r=ot.map((function(e){var n=e.name,r=e.key,o=e.color,s=t[r];return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("svg",{width:"10",height:"10",children:Object(b.jsx)("circle",{cx:"5",cy:"5",r:"5",fill:o})})}),Object(b.jsx)("td",{children:Object(b.jsx)(We.i.Content,Object(c.a)({style:i,text:n},a))}),Object(b.jsx)("td",{align:"right",children:Object(b.jsx)(We.i.Content,Object(c.a)({style:i,text:s?ft(s):"N/A"},a))})]},r)}));return Object(b.jsx)("table",{children:r})},mt=[{series:ot.filter((function(e){return!e.type})).map((function(e){return e.name}))}],jt=function(e){return[e[0],2200]},gt=function(){return[0,110]},pt=function(e){var t=e.target;return t?t.point:-1},Ot=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).showFile=function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({showLoader:!0}),(n=new FileReader).onload=function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,a.csvJSON(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],target:null,showLoader:!1},a.changeHover=function(e){a.setState({target:e?{series:"Routine",point:e.point}:null})},a.createComponents(),a.createSeries(),a}return Object(S.a)(n,[{key:"componentDidUpdate",value:function(e,t){pt(t)!==pt(this.state)&&(this.BarPoint.update(),this.SplinePoint.update(),this.AreaPoint.update(),this.TooltipContent.update())}},{key:"createComponents",value:function(){var e=this,t=function(){return{hoverIndex:pt(e.state)}};this.BarPoint=Object(Ge.j)(et,t),this.SplinePoint=Object(Ge.j)(it,t),this.AreaPoint=Object(Ge.j)(nt,t),this.TooltipContent=Object(Ge.j)(bt,(function(){var t=e.state,n=t.data,a=t.target;return{data:a?n[a.point]:null}}))}},{key:"createSeries",value:function(){var e=this;this.series=ot.map((function(t){var n=t.name,i=t.key,r=t.color,o=t.type,s={key:n,name:n,valueField:i,argumentField:"date",color:r,scaleName:t.scale||"oil",pointComponent:e.BarPoint};return o===We.a?(s.seriesComponent=at,s.pointComponent=e.AreaPoint):o&&(s.seriesComponent=rt,s.pointComponent=e.SplinePoint),a.createElement(o||We.c,s)}))}},{key:"csvJSON",value:function(e){for(var t=e.split("\n"),n=[],a=1;a<t.length;a++){var i=t[a].split(","),r=i[0].split("  "),o=new Date(r[1]),s=this.getDateFormat(o);switch(n[s]||(n[s]={date:s,import:0,routine:0,scan:0}),i[6]){case"Import Process":n[s].import++;break;case"Get Fabric for Routine":n[s].routine++;break;case"Get Fabric for On Qr Scan":n[s].scan++}}for(var c=[],l=0,d=Object.entries(n);l<d.length;l++){var u=Object(h.a)(d[l],2),f=(u[0],u[1]);0===f.routine&&0===f.scan&&0===f.import||c.push(f)}c.sort((function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}));return g.store.addNotification({title:"Chart!",message:"Csv Loaded",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),this.setState({data:c}),this.setState({showLoader:!1}),[]}},{key:"getDateFormat",value:function(e){var t=["Jan","Feb","Mar","Aprl","May","Jun","July","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=String(e.getDate()).padStart(2,"0");e.getFullYear();return t+"-"+n}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.target;return Object(b.jsxs)(O,{children:[Object(b.jsx)("h2",{children:"Dashboard"}),Object(b.jsx)(A.a,{className:"offset-4",children:Object(b.jsx)("input",{type:"file",onChange:function(t){return e.showFile(t)}})}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsx)(he.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(b.jsx)(Y.a,{children:Object(b.jsxs)(We.d,{data:n,children:[Object(b.jsx)(Ve.q,{name:"oil",modifyDomain:jt}),Object(b.jsx)(Ve.q,{name:"price",modifyDomain:gt}),Object(b.jsx)(We.b,{}),Object(b.jsx)(We.j,{scaleName:"oil",labelComponent:Ze}),Object(b.jsx)(We.j,{scaleName:"price",position:"right",labelComponent:Qe}),Object(b.jsx)(We.h,{text:"Machine Performance"}),this.series,Object(b.jsx)(Ve.m,{stacks:mt}),Object(b.jsx)(Ve.g,{}),Object(b.jsx)(Ve.h,{hover:a,onHoverChange:this.changeHover}),Object(b.jsx)(We.i,{targetItem:a,contentComponent:this.TooltipContent}),Object(b.jsx)(Ve.a,{}),Object(b.jsx)(We.e,{position:"bottom",rootComponent:ct,itemComponent:dt,labelComponent:ut})]})})]})}}]),n}(a.PureComponent);n(128).config();Object(U.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(W.a),Object(U.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a),Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(y.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Object(_.a)({table:{minWidth:700}});var xt,vt=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!1},{id:"store",numeric:!0,disablePadding:!1,label:"Store",link:!1},{id:"date",numeric:!0,disablePadding:!1,label:"Date",link:!1},{id:"processType",numeric:!0,disablePadding:!1,label:"Process Type",link:!1},{id:"result",numeric:!0,disablePadding:!1,label:"Message",link:!1}],St=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0,showLoader:!0},e}return Object(S.a)(n,[{key:"GetAllMessages",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/AllMessages",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})},a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/deletemessage";fetch(a,n).then((function(e){return e.json()})).then((function(e){t.GetAllMessages(),g.store.addNotification({title:"Branch!",message:"Branch has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllMessages()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(b.jsxs)(O,{children:[Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsxs)(C.a,{fluid:!0,children:[Object(b.jsx)(A.a,{className:"offset-8"}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsx)(A.a,{children:Object(b.jsxs)(R.a,{xs:10,children:[Object(b.jsx)(he.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.dataget&&Object(b.jsx)(le,{Title:"All Messages",headCells:vt,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:""})]})})]}),Object(b.jsx)(L.a,{show:this.state.show,onHide:t,children:Object(b.jsxs)(P.a,{onSubmit:function(t){t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country,branchUsers:e.state.branchUsers,id:e.state.id})},a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/addbranch";e.state.update&&(a=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/updatebranch"),fetch(a,n).then((function(e){return e.json()})).then((function(t){e.GetAllMessages(),g.store.addNotification({title:"Branch!",message:e.state.update?"Updated Branch":"Branch Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}})}))},children:[Object(b.jsx)(L.a.Header,{closeButton:!0,children:Object(b.jsx)(L.a.Title,{children:"New Branch"})}),Object(b.jsxs)(L.a.Body,{children:[Object(b.jsx)(P.a.Group,{controlId:"name",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Name"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Branch Name",name:"name",value:this.state.name})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"addressline1",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Address Line 1"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr1:t.target.value})},placeholder:"Address Line 1",name:"addressline1",value:this.state.addr1})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"addressline2",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Address Line 2"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr2:t.target.value})},placeholder:"Address Line 2",name:"addressline1",value:this.state.addr2})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"city",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"City"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",name:"city",value:this.state.city})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"state",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"State"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",name:"state",value:this.state.state})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"postcode",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Postcode"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"number",onChange:function(t){return e.setState({postcode:t.target.value})},placeholder:"Postcode",name:"postcode",value:this.state.postcode})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"country",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Country"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({country:t.target.value})},placeholder:"country",name:"postcode",value:this.state.country})," "]})]})})]}),Object(b.jsxs)(L.a.Footer,{children:[Object(b.jsx)(w.a,{variant:"secondary",onClick:t,children:"Close"}),Object(b.jsx)(w.a,{type:"submit",variant:"primary",onClick:t,children:this.state.update?"update":"Add Branch"})]})]})})]})}}]),n}(a.Component),Tt=Object(d.i)(St),Et=(Object(U.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(W.a),Object(U.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a),Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(y.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}))),_t=function(e){var t=Et();return Object(b.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(b.jsx)(D.a,{onClick:e.clickfun,children:Object(b.jsx)(I.a,{style:{fontSize:40}})}),"Add Client"]})},yt=(Object(_.a)({table:{minWidth:700}}),[{id:"name",numeric:!1,disablePadding:!0,label:"Client Name",link:!1},{id:"username",numeric:!1,disablePadding:!0,label:"Email",link:!1}]),At=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0},e}return Object(S.a)(n,[{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/AllStores",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t})}))}},{key:"componentWillMount",value:function(){this.GetAllBranches()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(b.jsxs)(O,{children:[Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsxs)(C.a,{fluid:!0,children:[Object(b.jsx)(A.a,{className:"offset-8"}),Object(b.jsx)(A.a,{style:{height:30}}),Object(b.jsx)(A.a,{children:Object(b.jsx)(R.a,{xs:10,children:this.state.dataget&&Object(b.jsx)(le,{Title:"All Clients",headCells:yt,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:Object(b.jsx)(_t,{clickfun:function(){return e.setState({show:!0})}})})})})]}),Object(b.jsx)(L.a,{show:this.state.show,onHide:t,children:Object(b.jsxs)(P.a,{onSubmit:function(t){t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,username:e.state.username,password:e.state.password,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country})};fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/addclient",n).then((function(e){return e.json()})).then((function(t){e.GetAllBranches(),g.store.addNotification({title:"Clint!",message:"New Client Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}})}))},children:[Object(b.jsx)(L.a.Header,{closeButton:!0,children:Object(b.jsx)(L.a.Title,{children:"New Client"})}),Object(b.jsxs)(L.a.Body,{children:[Object(b.jsx)(P.a.Group,{controlId:"name",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:" Name"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Store Name",name:"name"})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"username",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"User Name"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"email",onChange:function(t){return e.setState({username:t.target.value})},placeholder:"Email",name:"username"})," "]})]})}),Object(b.jsx)(P.a.Group,{controlId:"password",children:Object(b.jsxs)(A.a,{children:[Object(b.jsxs)(R.a,{xs:4,children:[" ",Object(b.jsx)(P.a.Label,{children:"Password"})," "]}),Object(b.jsxs)(R.a,{xs:8,children:[" ",Object(b.jsx)(P.a.Control,{type:"password",onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Passsword",name:"password"})," "]})]})})]}),Object(b.jsxs)(L.a.Footer,{children:[Object(b.jsx)(w.a,{variant:"secondary",onClick:t,children:"Close"}),Object(b.jsx)(w.a,{type:"submit",variant:"primary",onClick:t,children:"Add Client"})]})]})})]})}}]),n}(a.Component),Ct=n(20),Rt=function e(t){var n=this;Object(v.a)(this,e),this.GetProjectionMatrix=function(){return n.perspectiveMatrix(n.fov,n.AspectRatio,10,200)},this.GetViewMatrix=function(){var e=Ct.a.create(),t=Ct.c.create();return Ct.c.add(t,n.Position,n._front),Ct.a.lookAt(e,n.Position,t,n._up),e},this.GetModelMatrix=function(){var e=Ct.a.create(),t=Ct.a.create(),a=Ct.a.create(),i=Ct.a.create();return Ct.a.fromXRotation(n.rotateXMatrix,.2),Ct.a.fromYRotation(n.rotateYMatrix,-n.yawAngle),Ct.a.multiply(e,n.rotateXMatrix,n.rotateYMatrix),Ct.a.fromTranslation(t,n.Translational),Ct.a.multiply(a,t,e),Ct.a.fromScaling(i,Ct.c.fromValues(.5,.5,.5)),Ct.a.multiply(n.model,i,a),n.model},this.MouseMove=function(e){if(e.preventDefault(),e.stopPropagation(),1==e.buttons){n.pitchAngle+=n.DegreetoRadians(e.pageY-n.prevLocation[1]),n.yawAngle+=n.DegreetoRadians(e.pageX-n.prevLocation[0]);var t=2*Math.PI;n.pitchAngle<0?n.pitchAngle+=t:n.pitchAngle>t&&(n.pitchAngle-=t),n.prevLocation=Ct.b.fromValues(e.pageX,e.pageY)}else 2==e.buttons&&(n.Translational[1]-=n.DegreetoRadians(e.pageY-n.prevLocation[1]),n.Translational[0]+=n.DegreetoRadians(e.pageX-n.prevLocation[0]),n.prevLocation=Ct.b.fromValues(e.pageX,e.pageY))},this.MouseWheel=function(e){n.fov-=n.DegreetoRadians(e.wheelDelta*(1/120)),n.fov<.01?n.fov=.01:n.fov>2.5&&(n.fov=2.5)},this.TouchStart=function(e){e.preventDefault(),e.touches.length>=2?(n.MultiPrev[0]=Ct.b.fromValues(e.touches[0].pageX,e.touches[0].pageY),n.MultiPrev[1]=Ct.b.fromValues(e.touches[1].pageX,e.touches[1].pageY)):n.prevLocation=Ct.b.fromValues(e.touches[0].pageX,e.touches[0].pageY)},this.TouchEnd=function(e){e.preventDefault(),e.touches.length>=2?(n.MultiPrev[0]=Ct.b.fromValues(0,0),n.MultiPrev[1]=Ct.b.fromValues(0,0)):n.prevLocation=Ct.b.fromValues(0,0)},this.TouchMove=function(e){if(e.preventDefault(),e.touches.length>=2){var t=e.touches[0].pageY-n.MultiPrev[0][1];t+=e.touches[1].pageY-n.MultiPrev[1][1],t+=e.touches[0].pageX-n.MultiPrev[0][0],t=1/12*-(t+=e.touches[1].pageX-n.MultiPrev[1][0]),n.fov-=n.DegreetoRadians(t),n.fov<.01?n.fov=.01:n.fov>2.5&&(n.fov=2.5),n.MultiPrev[0]=Ct.b.fromValues(e.touches[0].pageX,e.touches[0].pageY),n.MultiPrev[1]=Ct.b.fromValues(e.touches[1].pageX,e.touches[1].pageY)}else{if(0==n.prevLocation[0]&&0==n.prevLocation[1])return;n.pitchAngle+=n.DegreetoRadians(e.touches[0].pageY-n.prevLocation[1]),n.yawAngle+=n.DegreetoRadians(e.touches[0].pageX-n.prevLocation[0]);var a=2*Math.PI;n.pitchAngle<0?n.pitchAngle+=a:n.pitchAngle>a&&(n.pitchAngle-=a)}n.prevLocation=Ct.b.fromValues(e.touches[0].pageX,e.touches[0].pageY)},this.perspectiveMatrix=function(e,t,n,a){var i=1/Math.tan(e/2),r=1/(n-a);return[i/t,0,0,0,0,i,0,0,0,0,(n+a)*r,-1,0,0,n*a*r*2,0]},this.clamp=function(e,t,n){return e<=t?t:e>=n?n:e},this.RadianstoDegrees=function(e){return e*(180/Math.PI)},this.DegreetoRadians=function(e){return e*(Math.PI/180)},this.pitchAngle=0,this.yawAngle=0,this.Translational=Ct.c.fromValues(0,-80,0),this.prevLocation=Ct.b.create(),this.MultiPrev=[],this.model=Ct.a.create(),this.modelMatrix=Ct.a.create(),this.rotateXMatrix=Ct.a.create(),this.rotateYMatrix=Ct.a.create(),this.projMatrix=Ct.a.create(),this.angleX=0,this.angleY=0,this.fov=1.57079637,this.yaw=-1.57079637,this.AspectRatio=0,this._front=Ct.c.fromValues(0,0,-1),this._up=Ct.c.fromValues(0,1,0),this.Position=Ct.c.fromValues(0,0,100),this.AspectRatio=t,this.fov=this.DegreetoRadians(57)},Lt=function e(t,n){var a=this;Object(v.a)(this,e),this.BindTexture=function(e,t){var n=new Image;n.src=t;var i=function(t){return new Promise((function(i){t.onload=function(t){null==a.TextureId&&(a.TextureId=e.createTexture()),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.TextureId),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.src=t.src}))};function r(){return(r=Object(Oe.a)(pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return r.apply(this,arguments)})().then((function(e){console.log(e)})).catch(console.error)},this.Use=function(e){e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.TextureId)},this.Use2=function(e){e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,a.TextureId)},this.Name=t,this.TextureId=null},Pt=(n(126),function e(t,n,a,i){var r=this;Object(v.a)(this,e),this.setAttributes=function(e){var t=new Float32Array(r.ToPosition(r.vertices));r.PositionBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.PositionBuff),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);var n=new Float32Array(r.ToNormal(r.vertices));r.NormalBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.NormalBuff),e.bufferData(e.ARRAY_BUFFER,n,e.DYNAMIC_DRAW);var a=new Float32Array(r.ToTexture(r.vertices));r.TextureBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.TextureBuff),e.bufferData(e.ARRAY_BUFFER,a,e.DYNAMIC_DRAW);var i=new Uint32Array(r.Tofaces(r.Faces));r.IndexBuff=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.IndexBuff),e.bufferData(e.ELEMENT_ARRAY_BUFFER,i,e.DYNAMIC_DRAW),r.numVerts=i.length},this.Update=function(e,t,n){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.IndexBuff),n.bind(t);var a=n.gDirectionalLightbasecolor;new Float32Array(0,0,0);n.gDirectionalLightbasecolor=r.gDirectionalLightbasecolor,n.UpdateLighting(t,r.gDirectionalLightbasecolor);var i=n.getAttLoc("aPos"),o=n.getAttLoc("aNormal"),s=n.getAttLoc("aTexCoords");if(-1!=i&&(t.bindBuffer(t.ARRAY_BUFFER,r.PositionBuff),t.vertexAttribPointer(i,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i)),-1!=o&&(t.bindBuffer(t.ARRAY_BUFFER,r.NormalBuff),t.vertexAttribPointer(o,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o)),-1!=s&&(t.bindBuffer(t.ARRAY_BUFFER,r.TextureBuff),r.isColor?t.vertexAttribPointer(s,3,t.FLOAT,!1,0,0):t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s)),"LFA_IRIS"===r.Name.toUpperCase()){var c=n.getUniformLoc("LightOff");t.uniform1i(c,1)}var l=n.getUniformLoc("model");t.uniformMatrix4fv(l,!0,e.GetModelMatrix());var d=n.getUniformLoc("projection");if(t.uniformMatrix4fv(d,!0,e.GetProjectionMatrix()),t.drawElements(t.TRIANGLES,r.numVerts,t.UNSIGNED_INT,0),t.disableVertexAttribArray(i),t.disableVertexAttribArray(o),t.disableVertexAttribArray(s),"LFA_IRIS"===r.Name.toUpperCase()){c=n.getUniformLoc("LightOff");t.uniform1i(c,0)}n.gDirectionalLightbasecolor=a},this.cnvrttoarr=function(e){var t,n=[];for(t=0;t<e.length;t++){n.push(e[t].X),n.push(e[t].Y),n.push(e[t].Z),n.push(e[t].Normal.X),n.push(e[t].Normal.Y),n.push(e[t].Normal.Z),r.isColor?(n.push(e[t].Color.X),n.push(e[t].Color.Y),n.push(e[t].Color.Z)):null!=e[t].Texture?(n.push(e[t].Texture.X),n.push(e[t].Texture.Y)):(0==e[t].X?n.push(0):n.push(e[t].X),0==e[t].Y?n.push(0):n.push(e[t].Y));for(var a=0;a<10;a++)null!=e[t].BoneMap&&a<e[t].BoneMap.length?n.push(e[t].BoneMap[a]):n.push(0);for(var i=0;i<10;i++)0==i?n.push(1):n.push(0)}return n},this.ToPosition=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Position.length;a++)t.push(e[n].Position[a]);return t},this.ToNormal=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Normal.length;a++)t.push(e[n].Normal[a]);return t},this.ToTexture=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Texture.length;a++)t.push(e[n].Texture[a]);return t},this.Tofaces=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},this.vertices=[],this.Faces=null,this.sProgram=null,this.numVerts=null,this.vertBuff=null,this.textBuff=null,this.Name="",this.isColor=null,this.PositionBuff=null,this.NormalBuff=null,this.TextureBuff=null,this.IndexBuff=null,this.gDirectionalLightbasecolor=[.937,.921,.847],this._attributes={},this.vertices=t,this.Faces=n,this.numVerts=this.vertices.length,this.isColor=a,this.setAttributes(i)}),wt=function e(t,n,a){var i=this;Object(v.a)(this,e),this.compileShader=function(e){var t=i._getShader(e,i._fragment,e.FRAGMENT_SHADER),n=i._getShader(e,i._vertex,e.VERTEX_SHADER);i.program=e.createProgram(),e.attachShader(i.program,n),e.attachShader(i.program,t),e.linkProgram(i.program),e.getProgramParameter(i.program,e.LINK_STATUS)||alert("Unable to initialize the shader program."),e.useProgram(i.program),i._loadUniforms(e),i._loadAttributes(e)},this._getShader=function(e,t,n){var a=e.createShader(n);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(a)),null)},this.bind=function(e){e.useProgram(i.program)},this._loadUniforms=function(e){var t,n,a=e.getProgramParameter(i.program,e.ACTIVE_UNIFORMS);for(n=0;n<a;n++)t=e.getActiveUniform(i.program,n).name,i._uniform[t]=e.getUniformLocation(i.program,t)},this._loadAttributes=function(e){var t,n,a=e.getProgramParameter(i.program,e.ACTIVE_ATTRIBUTES);for(n=0;n<a;n++)t=e.getActiveAttrib(i.program,n).name,i._attributes[t]=e.getAttribLocation(i.program,t)},this.getUniformLoc=function(e){if(null!==i._uniform[e])return i._uniform[e]},this.getAttLoc=function(e){if(null!==i._attributes[e])return i._attributes[e]},this.EnableButtonLight=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Direction");e.uniform3fv(t,[0,0,5]);var n=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,[1,1,1]);var a=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(a,1);var r=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(r,1)},this.DisableButtonLight=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Direction");i.isColor?e.uniform3fv(t,[0,0,1]):e.uniform3fv(t,[0,0,-1]);var n=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,i.gDirectionalLightDirectionBaseColor);var a=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(a,.7);var r=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(r,.7)},this.setUnifromLocations=function(e,t){t.useProgram(i.program);var n=i.getUniformLoc("projection");t.uniformMatrix4fv(n,!0,e.GetProjectionMatrix());var a=i.getUniformLoc("view");t.uniformMatrix4fv(a,!0,e.GetViewMatrix());var r=Ct.a.create(),o=i.getUniformLoc("model");t.uniformMatrix4fv(o,!0,r);var s=i.getUniformLoc("viewPos");t.uniform3fv(s,[0,0,100]);var c=i.getUniformLoc("gNumSpotLights");t.uniform1i(c,0);var l=i.getUniformLoc("gNumPointLights");t.uniform1i(l,0);var d=i.getUniformLoc("gColorMap");t.uniform1i(d,0);var h=i.getUniformLoc("gDirectionalLight.Direction");i.isColor?t.uniform3fv(h,[0,0,1]):t.uniform3fv(h,[0,0,-1]);var u=i.getUniformLoc("gDirectionalLight.Base.Color");t.uniform3fv(u,i.gDirectionalLightDirectionBaseColor);var f=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");t.uniform1f(f,.5);var b=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");t.uniform1f(b,.7);var m=i.getUniformLoc("gSpecularPower");t.uniform1f(m,0);var j=i.getUniformLoc("gMatSpecularIntensity");t.uniform1f(j,0)},this.SareeLighting=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(t,i.gDirectionalLightDirectionBaseColor);var n=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(n,.8);var a=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(a,.8);var r=i.getUniformLoc("gSpecularPower");e.uniform1f(r,50);var o=i.getUniformLoc("gMatSpecularIntensity");e.uniform1f(o,0)},this.DisableSareeLighting=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(t,i.gDirectionalLightDirectionBaseColor);var n=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(n,.7);var a=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(a,.7);var r=i.getUniformLoc("gSpecularPower");e.uniform1f(r,10);var o=i.getUniformLoc("gMatSpecularIntensity");e.uniform1f(o,0)},this.UpdateLighting=function(e,t){e.useProgram(i.program);var n=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,t)},this.program=null,this._id=t,this._vertex=n,this._fragment=a,this._uniform={},this._attributes={},this.gDirectionalLightDirectionBaseColor=[.937,.921,.847]},Dt=(n(497),n(498),n(172)),kt=n.n(Dt),It=n(293),Ft=n.n(It),Nt=n(145),Bt=n.n(Nt),Ut=(n(499),n(500),function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(S.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{id:"menu",children:[Object(b.jsx)("a",{class:"menu-button icon-plus",href:"#menu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(b.jsx)("span",{class:"fas fa-share-alt"})}),Object(b.jsx)("a",{class:"menu-button icon-minus",href:"#0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(b.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(b.jsx)("div",{class:"menu-item",children:e.img})}))]})})}}]),n}(i.a.Component)),Mt=(n(501),function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(S.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{id:"skinmenu",children:[Object(b.jsx)("a",{class:"skinmenu-button icon-plus",href:"#skinmenu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(b.jsx)("span",{class:"fas fa-share-alt"})}),Object(b.jsx)("a",{class:"skinmenu-button icon-minus",href:"#skinmenu0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(b.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(b.jsx)("div",{class:"skinmenu-item",children:e.img})}))]})})}}]),n}(i.a.Component)),Ht=(n(282),n(294)),Wt=n(41),Vt=n(603),Gt=n(601),Kt=n(604),Xt=n(596),zt=n(594),Jt=Object(Wt.a)(zt.a)(xt||(xt=Object(Ht.a)(["width: 80px;"])));function Yt(e){var t=e.value;return Object(b.jsxs)(Vt.a,{sx:{flexGrow:1},children:[Object(b.jsx)(Kt.a,{id:"input-slider",gutterBottom:!0,children:e.label}),Object(b.jsx)(Gt.a,{item:!0,xs:6,md:8,children:Object(b.jsx)(Xt.a,{value:"number"===typeof t?t:0,onChange:function(t,n){e.setValue(n)},min:e.Min,max:e.Max,"aria-labelledby":"input-slider"})}),Object(b.jsx)(Gt.a,{item:!0,xs:6,md:4,children:Object(b.jsx)(Jt,{value:t,style:{color:"white"},size:"small",onChange:function(t){e.setValue(""===t.target.value?"":Number(t.target.value))},onBlur:function(){t<e.Min?e.setValue(0):t>e.Max&&e.setValue(100)},inputProps:{step:10,min:e.Min,max:e.Max,type:"number","aria-labelledby":"input-slider"}})})]})}var qt=n(205),Qt=n.n(qt),Zt=n(3),$t=n(299),en=n(300),tn=(n(506),function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).windowwidth=window.innerWidth,a.windowheight=window.innerHeight,a.renderer=null,a.scene=null,a.camera=null,a.cube=null,a.Logo=null,a.light=null,a.controls=null,a.mixer=null,a.clock=null,a.animate=a.animate.bind(Object(Le.a)(a)),a}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.clock=new Zt.i;var e=document.getElementById("webglCanvas");this.scene=new Zt.kb,this.camera=new Zt.bb(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new Zt.Bb({antialias:!0,canvas:e}),this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.controls=new $t.a(this.camera,this.renderer.domElement),this.camera.position.set(0,0,100),this.controls.update();var t=new Zt.e(1,1,1),n=new Zt.P({color:65280});this.Logo=new en.a;var a=this;this.Logo.load("/Logo2.glb",(function(e){e.scene.scale.set(5,5,5),e.scene.position.x=5,e.scene.position.y=5,e.scene.position.z=5,a.scene.add(e.scene),a.animate()}),void 0,(function(e){console.error(e)})),this.cube=new Zt.O(t,n),this.camera.position.z=5,this.renderer.setSize(this.windowwidth,this.windowheight),this.renderer.setClearColor(14540253,1),document.body.appendChild(this.renderer.domElement),this.camera.position.z=50,this.scene.add(this.camera);this.light=new Zt.l(16777215,.5),this.light.position.set(0,0,1),this.light.position.multiplyScalar(100),this.scene.add(this.light)}},{key:"animate",value:function(){requestAnimationFrame(this.animate);var e=this.clock.getDelta();this.mixer&&this.mixer.update(e),this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){return Object(b.jsx)("canvas",{id:"webglCanvas"})}}]),n}(i.a.Component)),nn=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={height:165,weight:45,hairStyle:"custom",imagePath:"../icons/profile.png"},a.webcamRef=i.a.createRef(),a.uploadImage=a.uploadImage.bind(Object(Le.a)(a)),a}return Object(S.a)(n,[{key:"uploadImage",value:function(){console.log("Upload Image"),document.getElementById("chooseImage").click(),this.setState({isCameraOn:!1})}},{key:"captureImage",value:function(){var e=this.webcamRef.current.getScreenshot({width:1920,height:1080});console.log(e),this.setState({isCameraOn:!1}),this.props.setImageFile(e)}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"",id:"addbranchmodal",role:"dialog","aria-labelledby":"addbranchmodal",children:Object(b.jsx)("form",{style:{position:"absolute",width:!0===this.props.isMobile?"100%":"25%",right:!0===this.props.isMobile?"0%":"5%",top:!0===this.props.isMobile?"0%":"5%",backgroundColor:!0===this.props.isMobile?"#1A1C3E":"transparent"},id:"subscribe-email-form",className:"form-horizontal formborder",role:"form",method:"post",children:Object(b.jsx)("div",{className:"",role:"document",children:Object(b.jsx)("div",{className:"modal-form",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-header",children:[Object(b.jsx)("h6",{className:"titlebar",id:"exampleModalCenterTitle",children:"Oyna Profile Shoot - SAREE"}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.props.close()},children:Object(b.jsx)("h5",{className:"closetitle",children:" x"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:this.state.isCameraOn?Object(b.jsx)(Qt.a,{audio:!1,id:"videoid",ref:this.webcamRef,videoConstraints:{width:200,height:200,facingMode:"user"},style:{clipPath:"circle(50% at 50% 50%)",width:"200px",height:"200px",transform:"translateX(0%) translateY(0%)"}}):Object(b.jsx)("img",{style:{clipPath:"circle(50% at 50% 50%)",width:"200px",height:"200px",transform:"translateX(0%) translateY(0%)"},src:this.props.imageFile?this.props.imageFile:"../icons/profile.png",id:"uploadimg",name:"uploadimg"})}),Object(b.jsxs)("div",{className:"defaulticon",children:[Object(b.jsx)("input",{style:{visibility:"hidden",display:"none"},id:"chooseImage",type:"file",accept:"image/*",onChange:this.props.showFile}),Object(b.jsx)("img",{src:"../icons/folder.png",className:"col-3",style:{cursor:"pointer"},onClick:function(){return e.uploadImage()}}),Object(b.jsx)("img",{src:"../icons/webcam.png",className:"col-3",style:{cursor:"pointer"},onClick:function(){e.state.isCameraOn?(e.captureImage(),e.setState({isCameraOn:!1})):e.setState({isCameraOn:!0})}}),Object(b.jsx)("img",{src:"../icons/submit.png",className:"col-3",style:{cursor:"pointer"},onClick:function(){return e.props.proceedGenerate(e.state)}})]}),Object(b.jsxs)("div",{className:"defaulticon",children:[Object(b.jsx)(Yt,{value:this.state.weight,setValue:function(t){return e.setState({weight:t})},Min:45,Max:100,label:"Weight"}),Object(b.jsx)(Yt,{value:this.state.height,setValue:function(t){return e.setState({height:t})},Min:140,Max:200,label:"Height"})]}),Object(b.jsx)("h6",{className:"titlebar",id:"exampleModalCenterTitle",style:{marginTop:"2%"},children:"HairStyle"}),Object(b.jsxs)("div",{className:"bottombuttons",children:[Object(b.jsx)("div",{className:"selectbtn",id:"custom",name:"custom",style:{borderColor:"custom"===this.state.hairStyle?"green":"#F14FC5",width:!0===this.props.isMobile?"70px":"100px",height:!0===this.props.isMobile?"70px":"100px"},onClick:function(){return e.setState({hairStyle:"custom"})},children:Object(b.jsx)("img",{src:"../icons/hair1.png"})}),Object(b.jsx)("div",{className:"selectbtn",id:"ponytail_with_bangs",name:"ponytail_with_bangs",style:{borderColor:"ponytail_with_bangs"===this.state.hairStyle?"green":"#F14FC5",width:!0===this.props.isMobile?"70px":"100px",height:!0===this.props.isMobile?"70px":"100px"},onClick:function(){return e.setState({hairStyle:"ponytail_with_bangs"})},children:Object(b.jsx)("img",{src:"../icons/hair2.png"})}),Object(b.jsx)("div",{className:"selectbtn",id:"long_wavy",name:"long_wavy",style:{borderColor:"long_wavy"===this.state.hairStyle?"green":"#F14FC5",width:!0===this.props.isMobile?"70px":"100px",height:!0===this.props.isMobile?"70px":"100px"},onClick:function(){return e.setState({hairStyle:"long_wavy"})},children:Object(b.jsx)("img",{src:"../icons/hair3.png"})})]})]})})]})})})})})}}]),n}(i.a.Component),an=n.p+"static/media/girl.6166a39a.png",rn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAA0CAIAAACGg7ZXAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADlSURBVFhH7ZNNCoMwGERzlBYsUjW2h6gVEz2I1Cbq/RedYski3WYgkMDbZCK8fD+KubtYJXfdGC2trtnsutqHWrz6Egejqm2S69iwsWNrx7tYHqdN4QntpuSqWyooD2I0Vcx9AT8ig+jvu7AYfYMFTcVcz/Cj3G36PoTKPlwhwjTF+1mivdimo3wuqBijVVIsXXFEOPzu+CRrPX5kHjFZXcomW9kka/UWPTgxWV3KJlvZJGv1Fj04MVldyiZb2SRr9RY9ODFZXcomW9kka/UWPTgxWV3KJlvZJGv1Fj04MVldymVsPvWEJU66FTfVAAAAAElFTkSuQmCC",on=n.p+"static/media/pause.31070d48.png",sn=n.p+"static/media/add1.a5a9ba64.png",cn=n.p+"static/media/LFA_POSE.7dfb3824.png",ln=n.p+"static/media/play.ac34b2e7.png",dn=function(e){Object(T.a)(n,e);var t=Object(E.a)(n);function n(e){var i;return Object(v.a)(this,n),(i=t.call(this,e)).setTextures=function(e){var t=Object(Le.a)(i),n=t.gl,a=(t.CurrntPose,t.Textures);t.textures;a.SAREE.BindTexture(n,e.sareeImg),a.PALLU.BindTexture(n,e.palluImg),a.BLOUSE.BindTexture(n,e.blouseImg)},i.ChangetoCurrent=function(){var e=Object(Le.a)(i),t=e.gl,n=(e.CurrntPose,e.Textures),a=(e.textures,document.getElementById("saree-image-value").value),r=document.getElementById("pallu-image-value").value,o=document.getElementById("blouse-image-value").value;a&&""!==a&&r&&""!==r&&o&&""!==o&&(n.SAREE.BindTexture(t,a),n.PALLU.BindTexture(t,r),n.BLOUSE.BindTexture(t,o),i.setState({curSareeGetted:!0}),document.getElementById("saree-image-value").value="",document.getElementById("pallu-image-value").value="",document.getElementById("blouse-image-value").value="")},i.resizeEvent=function(){i.gl.viewport(0,0,i.canvas.width,i.canvas.height)},i.intEvents=function(){var e=Object(Le.a)(i),t=(e.gl,e.canvas),n=e.camera;t.addEventListener("touchstart",(function(e){n.TouchStart(e)}),!1),t.addEventListener("touchend",(function(e){n.TouchEnd(e)}),!1),t.addEventListener("touchmove",(function(e){n.TouchMove(e)}),!1);Object(Le.a)(i);t.onwheel=function(e){n.MouseWheel(e)},t.onmousedown=function(e){e.preventDefault(),n.prevLocation=Ct.b.fromValues(e.x,e.y)},t.onmousemove=function(e){0===n.prevLocation[0]&&0===n.prevLocation[1]||n.MouseMove(e)}},i.changeskintone=function(){i.mannq=i.Mannequins[i.CurrntPose];for(var e=Ct.c.fromValues(i.pixelvalue[0],i.pixelvalue[1],i.pixelvalue[2]),t=0;t<i.mannq.length;t++)i.mannq[t].Name.toUpperCase().includes("BODY")&&(i.mannq[t].gDirectionalLightbasecolor=e);i.Mannequins[i.CurrntPose]=i.mannq},i.startTimer=function(){i.timerInterval=setInterval((function(){i.camera.yawAngle+=.03,i.draw()}),100)},i.ClickOnScreen=function(e){var t=Object(Le.a)(i),n=t.gl,a=(t.canvas,t.camera),r=t.fboPicking,o=t.shaderNormal,s=t.sphere,c=t.Buttons,l=t.shaderColor,d=t.logobtn,h=t.closebtn;n.bindFramebuffer(n.FRAMEBUFFER,r),n.drawBuffers([n.COLOR_ATTACHMENT0,n.COLOR_ATTACHMENT1]),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),o.bind(n);for(var u=0;u<c.length;u++)i.buttonClick(c[u],e);if(null!=d.eventClick&&i.buttonClick(d,e),null!=h.eventClick&&i.buttonClick(h,e),null!=s&&null!=s.eventClick){n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),l.setUnifromLocations(a,n),l.EnableButtonLight(n),l.bind(n),s.Update(a,n,l),n.readBuffer(n.COLOR_ATTACHMENT0);var f=new Float32Array(4);n.readPixels(e[0],i.width-e[1],1,1,n.RGBA,n.FLOAT,f),100!==f[3]&&s.eventClick(f)}n.bindFramebuffer(n.FRAMEBUFFER,null)},i.buttonClick=function(e,t){var n=Object(Le.a)(i),a=n.gl,r=n.canvas,o=n.camera,s=n.fboPicking,c=n.shaderNormal;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT),e.Update(o,a,c),a.bindFramebuffer(a.READ_FRAMEBUFFER,s),a.readBuffer(a.COLOR_ATTACHMENT1);var l=new Float32Array(4);a.readPixels(t[0],r.height-t[1],1,1,a.RGBA,a.FLOAT,l),0!==l[3]&&null!==e.eventClick&&e.eventClick()},i.draw=function(){var e=Object(Le.a)(i),t=e.gl,n=e.Mannequins,a=e.camera,r=e.shaderNormal,o=e.CurrntPose,s=(e.Buttons,e.Textures,e.logobtn,e.closebtn,i.state),c=s.DoRender,l=s.curSareeGetted,d=s.reqframe;s.collapsebtn;if(c)if(l){if(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.clearColor(20/255,26/255,62/255,1),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),r.setUnifromLocations(a,t),r.bind(t),i.mannq=n[o],i.mannq)for(var h=0;h<i.mannq.length;h++){if(i.Textures[i.mannq[h].Name].Use(t),i.mannq[h].IsAlphaMap){i.Textures["alpha"+i.mannq[h].Name].Use2(t);var u=r.getUniformLoc("isalphamap");t.uniform1i(u,1);var f=r.getUniformLoc("alphamap");t.uniform1i(f,1)}else{u=r.getUniformLoc("isalphamap");t.uniform1i(u,0)}i.mannq[h].Update(a,t,r)}u=r.getUniformLoc("isalphamap");t.uniform1i(u,0),d&&requestAnimationFrame(i.draw)}else requestAnimationFrame(i.draw)},i.initPickingBuffers=function(){var e=Object(Le.a)(i),t=e.gl,n=e.canvas,a=(e.mannq,e.shaderNormal,e.CurrntPose,e.Buttons,e.Textures,e.logobtn,e.closebtn,e.textures,e.collapsebtn,i.state),r=(a.DoRender,a.curSareeGetted,a.reqframe,n.width),o=n.height;i.renderbuffer=t.createRenderbuffer(),i.fboPicking=t.createFramebuffer(),i.PostionText=t.createTexture(),i.FragTexture=t.createTexture(),t.bindFramebuffer(t.FRAMEBUFFER,i.fboPicking),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.PostionText),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,r,o,0,t.RGBA,t.FLOAT,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_BASE_LEVEL,0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAX_LEVEL,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.FragTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,r,o,0,t.RGBA,t.FLOAT,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_BASE_LEVEL,0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAX_LEVEL,0),t.bindRenderbuffer(t.RENDERBUFFER,i.renderbuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.PostionText,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT1,t.TEXTURE_2D,i.FragTexture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,i.renderbuffer),t.bindRenderbuffer(t.RENDERBUFFER,null),t.readBuffer(t.NONE),t.drawBuffers([t.COLOR_ATTACHMENT0,t.COLOR_ATTACHMENT1]);var s=t.checkFramebufferStatus(t.FRAMEBUFFER);s!==t.FRAMEBUFFER_COMPLETE&&console.log("Problem with framebuffer "+s+". Should be "+t.FRAMEBUFFER_COMPLETE),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},i.showFile=function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("Show File"),i.setState({file:t.target.files[0]}),(n=new FileReader).onload=function(){var e=Object(Oe.a)(pe.a.mark((function e(t){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,i.setState({Imagefile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.target.files[0]&&n.readAsDataURL(t.target.files[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.canvasClciked=function(){console.log("init event"),i.state.init||(i.setState({init:!0}),i.Init())},console.log(e),i.state={collapsebtn:!0,isplay:!1,reqframe:!1,ModalShow:!1,init:!1,file:null},i.gl=null,i.canvas=null,i.width=null,i.height=null,i.camera=null,i.shaderNormal=null,i.renderbuffer=null,i.fboPicking=null,i.PostionText=null,i.FragTexture=null,i.Mannequins={},i.Textures={},i.collapsebtn=!0,i.logobtn=null,i.closebtn=null,i.DoRender=!0,i.LFAPose="LFA",i.LAOPose="LAO",i.CurrntPose=null,i.assigned_var_3=null,i.curSareeGetted=!1,i.timePassed=0,i.timeLeft=0,i.timerInterval=null,i.reqframe=!0,i.oynaPanel=document.getElementById("oyna_panel"),i.serverURL=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_IP+":3000/",i.urlicon=i.serverURL+"Icons/",i.HostUrl=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST,i.mannq=[],i.Buttons=[],i.canvasRef=a.createRef(),i}return Object(S.a)(n,[{key:"componentWillMount",value:function(){console.log("will mount")}},{key:"Init",value:function(){var e=Object(Oe.a)(pe.a.mark((function e(){var t,n,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("INIT",window,document.body.clientWidth,document.body.clientHeight),this.canvas=document.getElementById("webglcanvas"),this.canvas.width=document.body.clientWidth>0?document.body.clientWidth:this.state.sareetextures.width,this.canvas.height=document.body.clientHeight>0?document.body.clientHeight:this.state.sareetextures.height,this.width=this.canvas.width,this.height=this.canvas.height,this.gl=this.canvas.getContext("webgl2",{alpha:!1,antialias:!0}),this.gl||(console.error("WebGL 2 not available"),document.body.innerHTML="This Module requires WebGL 2 which is unavailable on this system."),this.gl.getExtension("EXT_color_buffer_float"),this.gl.viewport(0,0,this.width,this.height),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),this.camera=new Rt(this.width/this.height),this.shaderNormal=new wt("Normal Rendering","#version 300 es\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aNormal;\nlayout (location = 2) in vec2 aTexCoords;\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nout vec3 Normal;\nout vec3 FragPos;\nout vec2 TexCoords;\nout vec4 OriginalPos;\n\nuniform int WithoutModel;\nvoid main()\n{\n  if(WithoutModel==0)\n  OriginalPos = vec4(aPos, 1.0)*model;\n  else\n  OriginalPos = vec4(aPos, 1.0) ;\n  vec4 PosL   = vec4(aPos, 1.0);\n  gl_Position  =PosL*model* view * projection ;// *projection ;\n  TexCoords = aTexCoords;\n  vec4 NormalL =vec4(aNormal, 0.0) ;\n  Normal=(NormalL*model).xyz;\n  FragPos = (PosL*model).xyz;\n  //gl_Position = vec4(aPos, 1.0) * model*inverse(BoneTransform)* view * projection;\n  //FragPos = vec3(vec4(aPos, 1.0)  * model);\n  //Normal = aNormal * mat3(transpose(inverse(model )));\n  //TexCoords = aTexCoords;\n}","#version 300 es\nprecision highp float;\nconst int MAX_POINT_LIGHTS = 2;\nconst int MAX_SPOT_LIGHTS = 2;\n\nin vec2 TexCoords;\nin vec3 Normal;                                                                   \nin vec3 FragPos;  \nin vec4 OriginalPos;\n\nstruct VSOutput\n{\n    vec2 TexCoord;\n    vec3 Normal;                                                                   \n    vec3 WorldPos;                                                                 \n};\n\n\nstruct BaseLight\n{\n    vec3 Color;\n    float AmbientIntensity;\n    float DiffuseIntensity;\n};\n\nstruct DirectionalLight\n{\n    BaseLight Base;\n    vec3 Direction;\n};\n                                                                                    \nstruct Attenuation                                                                  \n{                                                                                   \n    float Constant;                                                                 \n    float Linear;                                                                   \n    float Exp;                                                                      \n};                                                                                  \n                                                                                    \nstruct PointLight                                                                           \n{                                                                                           \n    BaseLight Base;                                                                  \n    vec3 Position;                                                                          \n    Attenuation Atten;                                                                      \n};                                                                                          \n                                                                                            \nstruct SpotLight                                                                            \n{                                                                                           \n    PointLight Base;                                                                 \n    vec3 Direction;                                                                         \n    float Cutoff;                                                                           \n};                                                                                          \n                                                                                            \nuniform int gNumPointLights;                                                                \nuniform int gNumSpotLights;                                                                 \nuniform DirectionalLight gDirectionalLight;        \nuniform DirectionalLight gDirectionalLight2;    \nuniform PointLight gPointLights[MAX_POINT_LIGHTS];                                          \nuniform SpotLight gSpotLights[MAX_SPOT_LIGHTS];                                             \nuniform sampler2D gColorMap;    \nuniform sampler2D alphamap; \nuniform int isalphamap; \nuniform vec3 viewPos;                                                                  \nuniform float gMatSpecularIntensity;                                                        \nuniform float gSpecularPower; \nuniform int LightOff; \nlayout(location = 0) out vec4 FragColor;\nlayout(location = 1) out vec4 position;\nlayout(location = 2) out vec4 normal;\n\nvec4 CalcLightInternal(BaseLight Light, vec3 LightDirection, VSOutput In)            \n{                                                                                           \n    vec4 AmbientColor = vec4(Light.Color * Light.AmbientIntensity, 1.0);\n    float DiffuseFactor = dot(In.Normal, -LightDirection);                                     \n                                                                                            \n    vec4 DiffuseColor  = vec4(0, 0, 0, 0);                                                  \n    vec4 SpecularColor = vec4(0, 0, 0, 0);                                                  \n                                                                                            \n    if (DiffuseFactor > 0.0) {                                                                \n        DiffuseColor = vec4(Light.Color * Light.DiffuseIntensity * DiffuseFactor, 1.0);\n                                                                                            \n        vec3 VertexToEye = normalize(viewPos - In.WorldPos);                             \n        vec3 LightReflect = normalize(reflect(LightDirection, In.Normal));                     \n        float SpecularFactor = dot(VertexToEye, LightReflect);                                      \n        if (SpecularFactor > 0.0) {                                                         \n            SpecularFactor = pow(SpecularFactor, gSpecularPower);\n            SpecularColor = vec4(Light.Color * gMatSpecularIntensity * SpecularFactor, 1.0);\n        }                                                                                   \n    }                                                                                       \n                                                                                            \n    return (AmbientColor + DiffuseColor + SpecularColor);                                   \n}                                                                                           \n                                                                                            \nvec4 CalcDirectionalLight(VSOutput In ,DirectionalLight dirlight)                                                      \n{                                                                                           \n    return CalcLightInternal(dirlight.Base, dirlight.Direction, In);  \n}                                                                                           \n                                                                                            \nvec4 CalcPointLight(PointLight l, VSOutput In)                                       \n{                                                                                           \n    vec3 LightDirection = In.WorldPos - l.Position;                                           \n    float Distance = length(LightDirection);                                                \n    LightDirection = normalize(LightDirection);                                             \n                                                                                            \n    vec4 Color = CalcLightInternal(l.Base, LightDirection, In);                         \n    float Attenuation =  l.Atten.Constant +                                                 \n                         l.Atten.Linear * Distance +                                        \n                         l.Atten.Exp * Distance * Distance;                                 \n                                                                                            \n    return Color / Attenuation;                                                             \n}                                                                                           \n                                                                                            \nvec4 CalcSpotLight(SpotLight l, VSOutput In)                                         \n{                                                                                           \n    vec3 LightToPixel = normalize(In.WorldPos - l.Base.Position);                             \n    float SpotFactor = dot(LightToPixel, l.Direction);                                      \n                                                                                            \n    if (SpotFactor > l.Cutoff) {                                                            \n        vec4 Color = CalcPointLight(l.Base, In);                                        \n        return Color * (1.0 - (1.0 - SpotFactor) * 1.0/(1.0 - l.Cutoff));                   \n    }                                                                                                                                                                            \n}                                                                                           \n                            \n\n                                                                \nvoid main()\n{                                    \n    VSOutput In;\n    In.TexCoord = TexCoords;\n    In.Normal   = normalize(Normal);\n    In.WorldPos = FragPos;\n    position = OriginalPos;\n    normal= vec4(normalize(Normal),0.0);\n    vec4 TotalLight = CalcDirectionalLight(In,gDirectionalLight);                                         \n    TotalLight += CalcDirectionalLight(In,gDirectionalLight2);                                                                                  \n    for (int i = 0 ; i < gNumPointLights ; i++) {                                           \n        TotalLight += CalcPointLight(gPointLights[i], In);                              \n    }                                                                                       \n                                                                                            \n    for (int i = 0 ; i < gNumSpotLights ; i++) {                                            \n        TotalLight += CalcSpotLight(gSpotLights[i], In);                                \n    }                                                                                       \n    // TotalLight *=  vec4(1);      \n    if(isalphamap==1)\n    {\n    //vec4 texcolor=texture(gColorMap, In.TexCoord.xy)*TotalLight ;\n    //vec4 aphacolor=texture(gColorMap, In.TexCoord.xy) ;\n    //FragColor = vec4(0.0,0.0,0.0, aphacolor.r);\n    vec4 texcolor=texture(gColorMap, In.TexCoord.xy);\n    vec4 aphacolor=texture(alphamap, In.TexCoord.xy) ;\n  if(aphacolor.r<0.1)\n   discard;\n    FragColor = vec4(texcolor.x,texcolor.y,texcolor.z,aphacolor.r);//*TotalLight;\n   \n    }\n    else\n    {\n        if(LightOff==1)\n        {\n         vec4 finalcolor =texture(gColorMap, In.TexCoord.xy);  \n        FragColor = vec4(finalcolor.x,finalcolor.y,finalcolor.z,1.0);\n        }\n    else\n    {\n    vec4 finalcolor =texture(gColorMap, In.TexCoord.xy)*TotalLight ;  \n        FragColor = finalcolor ;\n    }\n        \n    }\n\n}\n"),this.shaderNormal.compileShader(this.gl),this.shaderNormal.bind(this.gl),this.shaderNormal.setUnifromLocations(this.camera,this.gl),window.addEventListener("resize",this.resizeEvent),console.log("cache"),e.next=21,Bt.a.getItem("Model");case 21:return(t=e.sent)?this.LoadModel(t,this.LFAPose):(n=this,new kt.a.external.Promise((function(e,t){Ft.a.getBinaryContent(n.serverURL+"Models/lao.zip",(function(n,a){n?t(n):e(a)}))})).then((function(e){return kt.a.loadAsync(e)})).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){n.LoadModel(e,n.LFAPose),Bt.a.setItem("Model",e)}),(function(e){}))),e.next=25,Bt.a.getItem("Real_Model");case 25:(a=e.sent)&&this.LoadModel(a,this.LAOPose),this.InitWindow();case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.props.normalLoad?this.Init():window.addEventListener("message",(function(t){"sendValue"==t.data.call&&(console.log("send value",t),e.state.sareetextures||(e.setState({sareetextures:t.data}),e.Init()))}),!1)}},{key:"ColorToImg",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=400,t.height=400;return n.fillStyle="rgba("+255*e[0]+","+255*e[1]+","+255*e[2]+", 0.8)",n.fillRect(0,0,t.width,t.height),t.toDataURL()}},{key:"playpause",value:function(){this.state.isplay?(clearInterval(this.timerInterval),this.setState({reqframe:!0}),this.draw()):(this.setState({reqframe:!0}),this.startTimer()),this.setState({isplay:!this.state.isplay})}},{key:"LoadModel",value:function(e,t){var n=this.gl,a=(this.LFAPose,this.urlicon,this.timerInterval,this.state),i=(a.collapsebtn,a.isplay,a.reqframe,JSON.parse(e));this.CurrntPose=t,this.mannq=[],this.Buttons=[];for(var r=0;r<i.meshes.length;r++){var o=new Pt(i.meshes[r].vertices,i.meshes[r].Faces,i.meshes[r].IsColor,n);o.Name=i.meshes[r].Name,o.IsAlphaMap=i.meshes[r].IsAlphaMap,this.mannq.push(o)}this.Mannequins[t]=this.mannq;for(r=0;r<i.Textures.length;r++){var s=new Lt(i.Textures[r].Name,n);"SAREE"!==s.Name.toUpperCase()&&"PALLU"!==s.Name.toUpperCase()&&"BLOUSE"!==s.Name.toUpperCase()&&s.BindTexture(n,"data:image/"+i.Textures[r].Extention+";base64,"+i.Textures[r].ImgByte),this.Textures[i.Textures[r].Name]=s}}},{key:"ProfileShot",value:function(){var e=this;return Object(b.jsx)("div",{style:{backgroundColor:"white",zIndex:15,position:"absolute"},id:"addbranchmodal",role:"dialog","aria-labelledby":"addbranchmodal","aria-hidden":"true",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"This is New Feature"}),Object(b.jsx)("input",{type:"file",onChange:function(t){return e.showFile(t)}}),Object(b.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:function(){e.setState({showModal:!1})},children:"Close"})]})})}},{key:"dataURLtoFile",value:function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],i=atob(n[1]),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);return new File([o],t,{type:a})}},{key:"GetAvatar",value:function(){var e=Object(Oe.a)(pe.a.mark((function e(t,n){var a,i,r,o,s=this;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new FormData,console.log(t),i=this.dataURLtoFile(this.state.Imagefile,"profile.png"),a.append("avatarfile",i),a.append("height",n.height),a.append("weight",n.weight),a.append("hairstyle",n.hairStyle),r=this,o={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("token")).token},responseType:"arraybuffer",onUploadProgress:function(e){console.log({progress:Math.round(100*e.loaded/e.total)}),s.setState({progress:Math.round(100*e.loaded/e.total)})}},we.a.post(r.HostUrl+"AvatarGenerator",a,o).then(function(){var e=Object(Oe.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),kt.a.loadAsync(t.data).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){console.log(e),r.LoadModel(e,r.LAOPose),Bt.a.setItem("Real_Model",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"InitWindow",value:function(){var e=this;this.intEvents(),this.state.sareetextures&&this.setTextures(this.state.sareetextures),this.draw(),setTimeout((function(){console.log("Changes"),e.canvas.style.display="block",e.setState({DoRender:!0,curSareeGetted:!0,reqframe:!0}),e.draw()}),2e3)}},{key:"proceedGenerate",value:function(e){this.GetAvatar(this.state.file,e)}},{key:"render",value:function(){var e=this,t={width:"100%",height:"100%",clipPath:"circle(80% at center)"},n=[{img:Object(b.jsx)("img",{src:rn,onClick:function(){e.pixelvalue=Ct.c.fromValues(180/255,140/255,120/255),e.changeskintone()},style:t})},{img:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAxCAIAAADWTifkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADjSURBVFhH5dHrCcMwDARgz908RrHadRqHrtSTj2iDEwLDYZ/y58NKu/px2T7e2+g4j9t8VKeBmdiGEzNOeexs/sTuPma827/OL7r8bHP1/pxQv92f66P5nnUZ/TU3/EizTFsZbLT59fxOlIRfC6KFxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyqjy2/wGf4TsTb9Sa1gAAAABJRU5ErkJggg==",onClick:function(){e.pixelvalue=Ct.c.fromValues(220/255,180/255,160/255),e.changeskintone()},style:t})},{img:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAuCAIAAADVxcwnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACzSURBVFhH7ZNbCsQgDEXd/1ps7WMhxtnHVO0KetNAmc5/8mPgEASFkxtJqLTWkjppM3Va75p63k+aQs/x/UIFZGtlO2iG+0tLpT1IF7hQ5WRr5ENGH5w+HAUTeHWnRMtz+yxyQEXihG+WOz0gQ2h254iZc+K/F0pgwvhgmTkqpg2x0aiF28oYJX5wsRkuNuNX7HusiovNGFvse6yKi80YW+x7rIqLzRhb7HusiovNGFZM6QKfK4WsSHFITgAAAABJRU5ErkJggg==",onClick:function(){e.pixelvalue=Ct.c.fromValues(240/255,240/255,240/255),e.changeskintone()},style:t})},{img:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAuCAIAAAA6B6cZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADtSURBVFhH7ZPNDoIwDID3/kcTNTBk8RGAsPIwyoCNn7MG49GyxEm8Nxxo8qVZu8PX/VS8x3udR32Z2lI2IHtQnZa2vFDjSimek2uy4wDSQuoqhdW2SrADTGnRSryHm80PFmJMLCTfPVzQ0oIS82RMdkbfUF2xhEd32l9AaJCKRDwm0xWR7wWVl0Wvl7WvEOIgxr9m8L0Xq1b4zP7EuLdukIQWUvGaTFOclr+HeRWvxL8eafDuNj99ZX+Rlt2657HepZv/GrtDpGVTN883u0Okhd0buHm+2R0iLezewM3zze4QaWH3Bm6e7x25If0Ao1VsX0WtqG8AAAAASUVORK5CYII=",onClick:function(){e.pixelvalue=Ct.c.fromValues(230/255,210/255,180/255),e.changeskintone()},style:t})}],a=[{img:Object(b.jsxs)("div",{role:"button",href:"#0",onClick:function(){e.CurrntPose=e.LFAPose,e.draw(),window.location=window.location.href.replace("#menu","#0")},children:[" ",Object(b.jsx)("img",{src:cn,style:t})]})},{img:Object(b.jsx)("div",{role:"button",onClick:function(){e.CurrntPose=e.LAOPose,e.draw(),window.location=window.location.href.replace("#menu","#0")},children:Object(b.jsx)("img",{src:this.state.Imagefile?this.state.Imagefile:sn,style:t})})},{img:Object(b.jsx)("div",{role:"button",onClick:function(){e.setState({showModal:!0}),window.location=window.location.href.replace("#menu","#0")},children:Object(b.jsx)("img",{role:"button",src:sn,style:t})})}];return Object(b.jsx)("div",{children:Object(b.jsx)(O,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("canvas",{className:"canvas-container",style:{height:"100%",position:"fixed",top:0,left:0,width:"100%"},id:"webglcanvas"}),!this.state.showModal&&Object(b.jsx)("div",{style:{right:10,top:20,position:"fixed",color:"white"},children:Object(b.jsx)("button",{onClick:function(){return e.playpause()},children:this.state.isplay?Object(b.jsx)("img",{src:on,alt:"Avatar",style:{width:"70px"}}):Object(b.jsx)("img",{src:ln,alt:"Avatar",style:{width:"70px"}})})}),this.state.showModal&&Object(b.jsx)("div",{style:{zIndex:20},children:Object(b.jsx)(nn,{showFile:function(t){return e.showFile(t)},imageFile:this.state.Imagefile,isMobile:this.props.isMobile,setImageFile:function(t){return e.setState({Imagefile:t})},proceedGenerate:function(t){return e.proceedGenerate(t)},close:function(){return e.setState({showModal:!1})}})}),!this.state.showModal&&Object(b.jsx)("div",{style:{right:20,top:160,zIndex:15,position:"fixed",color:"white"},children:Object(b.jsx)(Ut,{name:"models",MenuButtons:a,MenuIcon:Object(b.jsx)("img",{src:an,style:{backgroundColor:"rgb(20,26,62)",width:"100%",height:"100%"}})})}),!this.state.showModal&&Object(b.jsx)("div",{style:{right:20,top:240,position:"fixed",color:"white"},children:Object(b.jsx)(Mt,{name:"skintone",MenuButtons:n,MenuIcon:Object(b.jsx)("img",{src:rn,style:{width:"100%",height:"100%"}})})})]})})})}}]),n}(a.Component),hn=dn,un=function(e){return Object(b.jsx)(l.a,{children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/Branches/Users",children:Object(b.jsx)(Re,{})}),Object(b.jsx)(d.b,{path:"/Branches/Files",component:Be}),Object(b.jsx)(d.b,{path:"/Branches/AllBranches",children:Object(b.jsx)(je,{})}),Object(b.jsx)(d.b,{path:"/about",children:Object(b.jsx)(Me,{})}),Object(b.jsx)(d.b,{path:"/another/teams",children:Object(b.jsx)(Ot,{})}),Object(b.jsx)(d.b,{path:"/another/processmessage",children:Object(b.jsx)(Tt,{})}),Object(b.jsx)(d.b,{path:"/settings",children:Object(b.jsx)(x,{})}),Object(b.jsx)(d.b,{path:"/client",children:Object(b.jsx)(At,{})}),Object(b.jsx)(d.b,{path:"/logout",component:Ue}),Object(b.jsx)(d.b,{path:"/branch/:id",component:Ee}),Object(b.jsx)(d.b,{path:"/users/:id",component:Ce}),Object(b.jsx)(d.b,{path:"/oynaviewer",children:Object(b.jsx)(hn,Object(c.a)({},e))}),Object(b.jsx)(d.b,{path:"/oynaviewerNormal",children:Object(b.jsx)(hn,Object(c.a)({normalLoad:!0},e))}),Object(b.jsx)(d.b,{path:"/loadbar",children:Object(b.jsx)(tn,{})}),Object(b.jsx)(d.b,{path:"/",children:Object(b.jsx)(Ot,{})})]})})};n(502),new(n(302).a);function fn(e){return bn.apply(this,arguments)}function bn(){return(bn=Object(Oe.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_HOST+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e){var t=e.setToken,n=Object(a.useState)(),i=Object(h.a)(n,2),r=i[0],o=i[1],c=Object(a.useState)(),l=Object(h.a)(c,2),d=l[0],u=l[1],f=function(){var e=Object(Oe.a)(pe.a.mark((function e(n){var a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fn({username:r,password:d});case 3:a=e.sent,console.log(a),a.sucess||g.store.addNotification({title:"Login!",message:a.msg,type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),console.log(a),t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useMediaQuery)({query:"(min-width: 1224px)"});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(p.a,{}),Object(b.jsxs)("div",{class:"container mt-5",children:[Object(b.jsx)("h1",{class:"offset-md-5",children:"Login"}),Object(b.jsx)("div",{class:"row",children:Object(b.jsx)("div",{class:"col-sm-4 offset-md-4",children:Object(b.jsx)("div",{class:"card",children:Object(b.jsx)("div",{class:"card-body",children:Object(b.jsxs)("form",{onSubmit:f,children:[Object(b.jsxs)("div",{class:"form-group",children:[Object(b.jsx)("label",{for:"email",children:"Email"}),Object(b.jsx)("input",{type:"text",class:"form-control",onChange:function(e){return o(e.target.value)}})]}),Object(b.jsxs)("div",{class:"form-group",children:[Object(b.jsx)("label",{for:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",class:"form-control",onChange:function(e){return u(e.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{type:"submit",class:"btn btn-dark",children:"Submit"}),Object(b.jsx)("a",{class:"btn btn-light",href:"/register",type:"button",children:"Register"})]})]})})})})})]})]})}var jn=function(){var e=Object(s.useMediaQuery)({query:"(max-width: 1224px)"}),t=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return console.log("get token",t),null===t||void 0===t?void 0:t.token}()),t=Object(h.a)(e,2),n=t[0],i=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),i(e.token)},token:n}}(),n=t.token,i=t.setToken;return n?Object(b.jsx)(un,{isMobile:e}):Object(b.jsx)(mn,{setToken:i})};n(503),n(504);o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(jn,{})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.33e2ab8d.chunk.js.map