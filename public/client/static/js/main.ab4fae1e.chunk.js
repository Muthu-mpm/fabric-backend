(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{193:function(e,t){},336:function(e,t,n){},340:function(e,t,n){},438:function(e,t){},440:function(e,t){},451:function(e,t){},453:function(e,t){},479:function(e,t){},481:function(e,t){},482:function(e,t){},487:function(e,t){},489:function(e,t){},495:function(e,t){},497:function(e,t){},516:function(e,t){},528:function(e,t){},531:function(e,t){},552:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){},560:function(e,t,n){},562:function(e,t,n){},563:function(e,t,n){},564:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),s=n.n(i),o=n(209),c=n(46),l=n(41),d=n(26),u=n(12),h=n(251),p=n(129),g=(n(387),n(1));var f=function(){var e=Object(l.g)(),t=Object(l.h)(),n=Object(a.useState)(!1),i=Object(u.a)(n,2),s=i[0],o=i[1],c=Object(a.useState)(),f=Object(u.a)(c,2),j=f[0],m=f[1],x=[{title:"Clients",itemId:"/client",elemBefore:function(){return Object(g.jsx)(p.a,{name:"coffee"})}},{title:"Branches",itemId:"/Branches",elemBefore:function(){return Object(g.jsx)(p.a,{name:"user"})},subNav:[{title:"All Branches",itemId:"/Branches/AllBranches"},{title:"Files",itemId:"/Branches/Files"}]},{title:"Dashboard",itemId:"/another",subNav:[{title:"Dashboard",itemId:"/another/teams"},{title:"ProcessMessage",itemId:"/another/processmessage"}]}],b=[{title:"Oyna Viewer",itemId:"/oynaviewer",elemBefore:function(){return Object(g.jsx)(p.a,{name:"coffee"})}},{title:"Products",itemId:"/products",elemBefore:function(){return Object(g.jsx)(p.a,{name:"user"})},subNav:[{title:"All Products",itemId:"/products/allproducts"},{title:"Add Products",itemId:"/products/addproducts"}]}];return x=[].concat(Object(d.a)(x),b),j||localStorage.getItem("token")&&("Super Admin"!==JSON.parse(localStorage.getItem("token")).role&&x.shift(),m(x)),Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)("div",{onClick:function(){return o(!1)},className:"fixed inset-0 z-20 block transition-opacity bg-black opacity-50 2xl:hidden ".concat(s?"block":"hidden")}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{style:{zIndex:1,position:"fixed"},className:"btn-menu",onClick:function(){return o(!0)},type:"button",children:Object(g.jsx)(p.a,{name:"burger",className:"w-6 h-6"})})}),Object(g.jsxs)("div",{className:"fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 ease-out transform translate-x-0 bg-white border-r-2 2xl:translate-x-0 2xl:static  2xl:inset-0\n       ".concat(s?"ease-out translate-x-0":"ease-in -translate-x-full"),children:[Object(g.jsx)("div",{className:"flex items-center justify-center",style:{width:200,margin:30},children:Object(g.jsx)("img",{src:"/logo512.png"})}),Object(g.jsx)("div",{className:"flex items-center justify-center mt-10 text-center py-6",children:Object(g.jsx)("span",{className:"mx-2 text-2xl font-semibold text-black",children:"Oyna Cloud"})}),Object(g.jsx)(h.Navigation,{activeItemId:t.pathname,onSelect:function(t){var n=t.itemId;e.push(n)},items:j||x}),Object(g.jsx)("div",{className:"absolute bottom-0 w-full my-8",children:Object(g.jsx)(h.Navigation,{activeItemId:t.pathname,items:[{title:"Logout",itemId:"/logout",elemBefore:function(){return Object(g.jsx)(p.a,{name:"activity"})}}],onSelect:function(t){var n=t.itemId;e.push(n)}})})]})]})},j=function(e){var t=e.children;return Object(g.jsx)("div",{className:"relative min-h-screen",children:Object(g.jsx)("main",{className:"w-full min-h-screen",children:t})})},m=n(37),x=n.n(m),b=(n(272),function(e){var t=e.children;return Object(g.jsxs)(j,{children:[Object(g.jsx)(x.a,{}),Object(g.jsxs)("div",{className:"flex h-screen bg-gray-200",children:[Object(g.jsx)(f,{}),Object(g.jsx)("div",{className:"flex flex-col flex-1 overflow-hidden",children:Object(g.jsx)("main",{className:"content",children:Object(g.jsx)("section",{className:"sm:flex-row flex flex-col flex-1",children:Object(g.jsx)("div",{className:"content-box",style:{flexGrow:2,flexBasis:"0%"},children:t})})})})]})]})}),v=function(){return Object(g.jsx)(b,{children:Object(g.jsx)("h2",{children:"Settings Page"})})},O=n(17),y=n(16),w=n(23),C=n(24),k=n(656),S=n(48),A=n(668),L=n(669),T=n(346),N=n(678),P=n(681),I=n(670),_=n(567),R=n(93),E=n.n(R),F=n(566),M=n(6),B=n(3),D=n(18),U=n(661),z=n(662),G=n(654),q=n(660),W=n(658),J=n(679),H=n(655),V=n(706),X=n(657),Y=n(659),Q=n(693),K=n(666),Z=n(667),$=n(141),ee=n.n($),te=n(140),ne=n.n(te);var ae=Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(G.a),re=Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a);function ie(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function se(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var oe=Object(k.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ce=function(e){var t=oe(),n=e.numSelected;e.Titlebar;return Object(g.jsxs)(X.a,{className:Object(B.a)(t.root,Object(M.a)({},t.highlight,n>0)),children:[n>0?Object(g.jsxs)(F.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(g.jsx)(F.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:e.Title}),e.Titlebar]})},le=(Object(k.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).handleRequestSort=function(e,t){var n=a.state.orderBy===t&&"asc"===a.state.order;a.setState({order:n?"desc":"asc"}),a.setState({orderBy:t})},a.handleSelectAllClick=function(e){if(e.target.checked){var t=a.props.tableData.map((function(e){return e.name}));a.setState({selected:t})}else a.setState({selected:[]})},a.componentWillMount=function(){},a.handleClick=function(e,t){},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:parseInt(e.target.value,10)}),a.setState({page:0})},a.handleChangeDense=function(e){a.setState({dense:e.target.checked})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.emptyRows=function(){return a.state.rowsPerPage-Math.min(a.state.rowsPerPage,a.props.tableData.length-a.state.page*a.state.rowsPerPage)},a.EnhancedTableHead=function(e){e.classes;var t=e.onSelectAllClick,n=e.order,r=e.orderBy,i=e.numSelected,s=e.rowCount,o=(e.onRequestSort,{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1});return Object(g.jsx)(W.a,{children:Object(g.jsxs)(re,{children:[Object(g.jsx)(ae,{padding:"checkbox",children:Object(g.jsx)(Q.a,{indeterminate:i>0&&i<s,checked:s>0&&i===s,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),a.props.headCells.map((function(e){var t,i;return Object(g.jsx)(ae,(t={align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},Object(M.a)(t,"align","left"),Object(M.a)(t,"children",Object(g.jsxs)(V.a,{align:"left",active:r===e.id,direction:r===e.id?n:"asc",onClick:(i=e.id,function(e){a.handleRequestSort(e,i)}),children:[e.label,r===e.id?Object(g.jsx)("span",{style:o,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})),t),e.id)})),Object(g.jsx)(ae,{children:"Actions"})]})})},a.state={show:e.show,dataget:void 0,order:"asc",orderBy:"calories",selected:[],page:0,dense:!1,rowsPerPage:5,classes:{root:{width:"100%"},paper:{width:"100%",marginBottom:2},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}},a}return Object(y.a)(n,[{key:"render",value:function(){var e,t,n=this;return Object(g.jsxs)("div",{children:[Object(g.jsxs)(Y.a,{children:[Object(g.jsx)(ce,{numSelected:this.state.selected.length,Title:this.props.Title,Titlebar:this.props.Titlebar}),Object(g.jsx)(q.a,{style:{maxHeight:500},children:Object(g.jsxs)(U.a,{"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table",children:[Object(g.jsx)(this.EnhancedTableHead,{numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.state.handleSelectAllClick,onRequestSort:this.state.handleRequestSort,rowCount:this.props.tableData.length}),Object(g.jsxs)(z.a,{children:[se(this.props.tableData,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,n){return ie(e,n,t)}:function(e,n){return-ie(e,n,t)})).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(e,t){var a=n.isSelected(e.filename),r="enhanced-table-checkbox-".concat(t);return Object(g.jsxs)(re,{hover:!0,onClick:function(t){return n.handleClick(t,e)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(g.jsx)(ae,{padding:"checkbox"}),n.props.headCells.map((function(t){return Object(g.jsx)(ae,{component:"th",id:r,scope:"row",align:"left",children:t.link?Object(g.jsxs)("a",{href:"",onClick:function(t){n.props.clickLink(t,e)},children:[" ",e[t.id]]}):Array.isArray(e[t.id])?e[t.id].map((function(e){return e.user})).join(", "):e[t.id]})})),Object(g.jsxs)(ae,{align:"center",children:[n.props.isedit&&Object(g.jsx)(_.a,{onClick:function(t){return n.props.edit(e)},children:Object(g.jsx)(ne.a,{})}),Object(g.jsx)(_.a,{onClick:function(t){return n.props.delete(e)},children:Object(g.jsx)(ee.a,{})})]})]},e._id)})),this.emptyRows>0&&Object(g.jsx)(re,{style:{height:(this.state.dense?33:53)*this.emptyRows},children:Object(g.jsx)(G.a,{colSpan:6})})]})]})}),Object(g.jsx)(J.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.props.tableData.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})]}),Object(g.jsx)(K.a,{control:Object(g.jsx)(Z.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"})]})}}]),n}(a.Component)),de=n(70),ue=n.n(de);n(158).config();var he=Object(k.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),pe=function(e){var t=he();return Object(g.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(g.jsx)(_.a,{onClick:e.clickfun,children:Object(g.jsx)(E.a,{style:{fontSize:40}})}),"Add Branch"]})},ge=(Object(k.a)({table:{minWidth:700}}),[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!0},{id:"addressline2",numeric:!0,disablePadding:!1,label:"Address",link:!1},{id:"city",numeric:!0,disablePadding:!1,label:"City",link:!1},{id:"state",numeric:!0,disablePadding:!1,label:"State",link:!1}]),fe=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0,showLoader:!0},e}return Object(y.a)(n,[{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/Allbranches",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"edit",value:function(e){this.setState({update:!0}),this.setState({show:!0}),this.setState({name:e.name}),this.setState({addr1:e.addressline1}),this.setState({addr2:e.addressline2}),this.setState({city:e.city}),this.setState({state:e.state}),this.setState({postcode:e.postcode}),this.setState({country:e.country}),this.setState({branchUsers:e.branchUsers}),this.setState({id:e._id})}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})};fetch("http://localhost:3001/deletebranch",n).then((function(e){return e.json()})).then((function(e){t.GetAllBranches(),m.store.addNotification({title:"Branch!",message:"Branch has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllBranches()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(g.jsxs)(b,{children:[Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsxs)(L.a,{fluid:!0,children:[Object(g.jsx)(A.a,{className:"offset-8"}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(ue.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(g.jsx)(T.a,{xs:10,children:this.state.dataget&&Object(g.jsx)(le,{Title:"Branches",headCells:ge,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!0,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:Object(g.jsx)(pe,{clickfun:function(){return e.setState({show:!0})}})})})]})]}),Object(g.jsx)(N.a,{show:this.state.show,onHide:t,children:Object(g.jsxs)(P.a,{onSubmit:function(t){e.setState({showLoader:!0});t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country,branchUsers:e.state.branchUsers,id:e.state.id})},a="http://localhost:3001/addbranch";e.state.update&&(a="http://localhost:3001/updatebranch"),fetch(a,n).then((function(e){return e.json()})).then((function(t){e.GetAllBranches(),m.store.addNotification({title:"Branch!",message:e.state.update?"Updated Branch":"Branch Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),e.setState({showLoader:!1})}))},children:[Object(g.jsx)(N.a.Header,{closeButton:!0,children:Object(g.jsx)(N.a.Title,{children:"New Branch"})}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(P.a.Group,{controlId:"name",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Name"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Branch Name",name:"name",value:this.state.name})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"addressline1",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Address Line 1"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr1:t.target.value})},placeholder:"Address Line 1",name:"addressline1",value:this.state.addr1})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"addressline2",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Address Line 2"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr2:t.target.value})},placeholder:"Address Line 2",name:"addressline1",value:this.state.addr2})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"city",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"City"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",name:"city",value:this.state.city})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"state",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"State"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",name:"state",value:this.state.state})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"postcode",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Postcode"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"number",onChange:function(t){return e.setState({postcode:t.target.value})},placeholder:"Postcode",name:"postcode",value:this.state.postcode})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"country",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Country"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({country:t.target.value})},placeholder:"country",name:"postcode",value:this.state.country})," "]})]})})]}),Object(g.jsxs)(N.a.Footer,{children:[Object(g.jsx)(I.a,{variant:"secondary",onClick:t,children:"Close"}),Object(g.jsx)(I.a,{type:"submit",variant:"primary",onClick:t,children:this.state.update?"update":"Add Branch"})]})]})})]})}}]),n}(a.Component),je=Object(l.i)(fe),me=n(14),xe=n(7),be=n.n(xe);n(184),n(274);n(158).config();Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(G.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a),Object(k.a)({table:{minWidth:700}});var ve=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!0},{id:"username",numeric:!0,disablePadding:!1,label:"Email",link:!1},{id:"apptype",numeric:!0,disablePadding:!1,label:"Application",link:!1}],Oe=Object(k.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ye=function(e){var t=Oe();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(g.jsx)("input",{type:"file",onChange:e.showfilefun}),Object(g.jsx)(_.a,{variant:"h6",onClick:e.clickfun,children:Object(g.jsx)(E.a,{variant:"h6",style:{fontSize:40}})}),"Add Node"]})})},we=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).showFile=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,a.setState({reqfile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={show:!1,dataget:void 0,showLoader:!0},a}return Object(y.a)(n,[{key:"GetBrancheUsers",value:function(){var e=this,t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/GetUsers",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetBrancheUsers()}},{key:"addNewNodeToBranch",value:function(){var e=this;this.setState({showLoader:!0});var t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id,reqfile:this.state.reqfile}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/adduser",t).then((function(e){return e.json()})).then((function(t){e.GetBrancheUsers(),m.store.addNotification({title:"User!",message:"New User Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),e.setState({showLoader:!1})}))}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})};fetch("http://localhost:3001/deleteuser",n).then((function(e){return e.json()})).then((function(e){t.GetBrancheUsers(),m.store.addNotification({title:"User!",message:"User has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"render",value:function(){var e=this;return Object(g.jsx)(b,{children:Object(g.jsxs)(L.a,{fluid:!0,children:[Object(g.jsx)(A.a,{style:{height:60}}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(T.a,{xs:10,children:[Object(g.jsx)(ue.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.dataget&&Object(g.jsx)(le,{Title:"Nodes",headCells:ve,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/users/"+n._id)},Titlebar:Object(g.jsx)(ye,{clickfun:function(t){return e.addNewNodeToBranch()},showfilefun:function(t){return e.showFile(t)}})})]})})]})})}}]),n}(a.Component),Ce=Object(l.i)(we),ke=n(690),Se=n(682);n(274);n(158).config();var Ae=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={show:!1,dataget:void 0,branches:[],nodes:[],selectedNodes:[],selectedBranches:[],currentUserid:void 0,showLoader:!0},a}return Object(y.a)(n,[{key:"GetUserInfo",value:function(){var e=this,t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/GetUserInfo",t).then((function(e){return e.json()})).then((function(t){t.length>0&&e.setState({currentUserid:t[0].id}),e.setState({showLoader:!1})}))}},{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/Allbranches",t).then((function(e){return e.json()})).then((function(t){e.setState({branches:t})}))}},{key:"GetSavedFlow",value:function(){var e=this,t={method:"POST",body:JSON.stringify({userid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/Allbranchesnew",t).then((function(e){return e.json()})).then((function(t){if(t.r){t.db.forEach((function(e,n){var a=t.r.filter((function(t){return t._id===e}))[0];a&&(a.selected=!0)})),e.setState({branches:t.r});var n=0;t.db.forEach((function(a,r){e.GetBrancheUsers(a).then((function(){++n===t.db.length&&(t.dn.forEach((function(t,n){var a=e.state.nodes.filter((function(e){return e._id===t.id}))[0];a&&(a.selected=!0)})),e.setState({nodes:e.state.nodes}))}))}))}else e.GetAllBranches()}))}},{key:"GetBrancheUsers",value:function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify({branchid:t}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,fetch("http://localhost:3001/GetUsers",n).then((function(e){return e.json()})).then((function(e){return a.state.nodes.length>0&&a.state.nodes.forEach((function(t,n){e.push(t)})),a.setState({nodes:e}),!0}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.GetUserInfo(),this.GetSavedFlow(),this.GetBrancheUsers()}},{key:"getLicfromServer",value:function(){var e=this;this.setState({showLoader:!0});var t={method:"POST",body:JSON.stringify({userid:this.state.currentUserid}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/GetUsersLicense",t).then((function(e){return e.json()})).then((function(t){e.setState({lickey:t.lickey});var n=new Blob([e.state.lickey],{type:"text/plain"}),a=URL.createObjectURL(n),r=document.createElement("a");r.download="License.ylic",r.href=a,r.click(),e.setState({showLoader:!1})}))}},{key:"SaveFlow",value:function(){var e=this;this.setState({showLoader:!0});var t=this.state.nodes.filter((function(e){return e.selected})).map((function(e){return{user:e.name,id:e._id}})),n=this.state.branches.filter((function(e){return e.selected})).map((function(e){return e._id})),a={method:"POST",body:JSON.stringify({sourceId:this.state.currentUserid,destinationId:t,destinationBranch:n}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/addflow",a).then((function(e){return e.json()})).then((function(t){e.setState({showLoader:!1})}))}},{key:"BranchSelect",value:function(e,t){var n=this;if(t.selected=e.target.checked,t.selected)this.GetBrancheUsers(t._id);else{var a=this.state.nodes;t.branchUsers.forEach((function(e,t){var r=n.state.nodes.filter((function(t){return e.user===t._id}))[0],i=a.indexOf(r);i>-1&&a.splice(i,1)})),this.setState({nodes:a})}}},{key:"SelectNode",value:function(e,t){t.selected=e.target.checked,this.setState({nodes:this.state.nodes})}},{key:"render",value:function(){var e=this;return this.state.branches?Object(g.jsxs)(b,{children:[Object(g.jsx)("h2",{style:{paddingLeft:"2rem"},children:"Node Flow Information"}),Object(g.jsxs)(L.a,{fluid:!0,children:[Object(g.jsx)(A.a,{className:"offset-4"}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsxs)(A.a,{children:[Object(g.jsx)(ue.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(g.jsxs)(T.a,{xs:2,children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(ke.a,{children:Object(g.jsx)(ke.a.Body,{children:" Node Flow "})})]}),Object(g.jsxs)(T.a,{xs:3,children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)(ke.a,{border:"primary",style:{width:"23rem"},children:[Object(g.jsx)(ke.a.Header,{children:" Branches"}),Object(g.jsx)(Se.a,{variant:"flush",children:this.state.branches.map((function(t){return Object(g.jsx)(Se.a.Item,{children:Object(g.jsx)(P.a.Check,{type:"checkbox",id:t._id,label:t.name,checked:t.selected,onChange:function(n){e.BranchSelect(n,t)}})})}))})]})]}),Object(g.jsxs)(T.a,{xs:3,style:{alignItems:"left"},children:[Object(g.jsx)(I.a,{variant:"primary",onClick:function(t){return e.getLicfromServer()},children:" Download License"}),Object(g.jsxs)(ke.a,{border:"success",style:{width:"23rem"},children:[Object(g.jsx)(ke.a.Header,{children:" Nodes"}),Object(g.jsx)(Se.a,{variant:"flush",children:this.state.nodes.length>0&&this.state.nodes.map((function(t){return Object(g.jsx)(Se.a.Item,{children:Object(g.jsx)(P.a.Check,{type:"checkbox",id:t._id,label:t.username,checked:t.selected,onChange:function(n){e.SelectNode(n,t)}})})}))})]}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsx)(I.a,{variant:"success",onClick:function(t){return e.SaveFlow()},children:"Save"})]})]})]})]}):Object(g.jsxs)(b,{children:[Object(g.jsx)("h2",{children:"All Nodes"}),Object(g.jsx)("h2",{children:"Loading"})]})}}]),n}(a.Component),Le=Ae,Te=function(){return Object(g.jsx)(b,{children:Object(g.jsx)("h2",{children:"Members Page"})})},Ne=n(29),Pe=n(40),Ie=n.n(Pe),_e=n(351),Re=n.n(_e);n(158).config();Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(G.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a),Object(k.a)({table:{minWidth:700}});var Ee=[{id:"filename",numeric:!1,disablePadding:!0,label:"filename",link:!0},{id:"created",numeric:!0,disablePadding:!1,label:"Date",link:!1},{id:"assigned",numeric:!0,disablePadding:!1,label:"Assigned Nodes",link:!1},{id:"delivered",numeric:!0,disablePadding:!1,label:"Deleivered Nodes",link:!1}],Fe=Object(k.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Me=function(e){var t=Fe();return Object(g.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(g.jsx)(_.a,{onClick:e.clickfun,children:Object(g.jsx)(Re.a,{style:{fontSize:40}})}),"Upload File"]})},Be=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={show:!1,datafiles:void 0,file:null,branches:[],nodes:[],showLoader:!0},a.onFormSubmit=a.onFormSubmit.bind(Object(Ne.a)(a)),a.onChange=a.onChange.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault();var n=new FormData;n.append("oynafile",this.state.file);var a=[];this.state.nodes.forEach((function(e){!0===e.selected&&a.push({user:e.name,id:e._id})})),n.append("users",JSON.stringify(a));var r=this.state.file;this.setState({progress:0}),this.setState({currentFile:r});var i={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("token")).token},onUploadProgress:function(e){t.setState({progress:Math.round(100*e.loaded/e.total)})}};Ie.a.post("/uploadfile",n,i).then((function(e){t.setState({progress:0}),t.setState({currentFile:null}),m.store.addNotification({title:"File!",message:"Uploaded successfully",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.GetAllFiles()})).catch((function(e){}))}},{key:"onChange",value:function(e){this.setState({files:e.target.files}),this.setState({file:e.target.files[0]})}},{key:"branchChange",value:function(e){var t=this.state.branches.filter((function(t){return t.name===e.target.value}))[0];t&&(this.setState({branch:e.target.value}),this.GetBrancheUsers(t._id))}},{key:"GetBrancheUsers",value:function(e){var t=this,n={method:"POST",body:JSON.stringify({branchid:e}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/GetUsers",n).then((function(e){return e.json()})).then((function(e){t.setState({nodes:e})}))}},{key:"download_File",value:function(e,t){var n={method:"POST",body:JSON.stringify({branchid:""}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/avatarGeneration",n).then((function(e){return e.json()})).then((function(e){console.log("return response")}))}},{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/Allbranches",t).then((function(e){return e.json()})).then((function(t){t.length>0&&e.GetBrancheUsers(t[0]._id),e.setState({branches:t})}))}},{key:"GetAllFiles",value:function(){var e=this,t={method:"POST",body:JSON.stringify({}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/allfiles",t).then((function(e){return e.json()})).then((function(t){e.setState({datafiles:t}),e.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllFiles(),this.GetAllBranches()}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id,path:e.filepath+"/"+e.fileid})};fetch("http://localhost:3001/deletefile",n).then((function(e){return e.json()})).then((function(e){t.GetAllFiles(),m.store.addNotification({title:"File!",message:"File has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"selecting",value:function(e){}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(g.jsxs)(b,{children:[Object(g.jsxs)(L.a,{fluid:!0,children:[Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsx)(A.a,{className:"",children:Object(g.jsx)(T.a,{xs:10,children:this.state.currentFile&&Object(g.jsx)("div",{className:"progress",children:Object(g.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":this.state.progress,"aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.progress+"%"},children:[this.state.progress,"%"]})})})}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(T.a,{xs:10,children:[Object(g.jsx)(ue.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.datafiles&&Object(g.jsx)(le,{Title:"All Files",headCells:Ee,tableData:this.state.datafiles,selecting:this.selecting,delete:function(t){return e.delete(t)},isedit:!1,clickLink:function(t,n){e.download_File(t,n)},Titlebar:Object(g.jsx)(Me,{clickfun:function(){return e.setState({show:!0})}})})]})})]}),Object(g.jsx)(N.a,{show:this.state.show,onHide:t,children:Object(g.jsxs)(P.a,{onSubmit:this.onFormSubmit,children:[Object(g.jsx)(N.a.Header,{closeButton:!0,children:Object(g.jsx)(N.a.Title,{children:"New Node"})}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(P.a.Group,{children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"File"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)("input",{type:"file",name:"myImage",onChange:this.onChange})," "]})]})}),Object(g.jsx)(P.a.Group,{children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Branch "})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{as:"select",onChange:function(t){e.branchChange(t)},placeholder:"Select",name:"branch",children:this.state.branches.map((function(e){return Object(g.jsx)("option",{children:e.name})}))})," "]})]})}),Object(g.jsx)(P.a.Group,{children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Nodes"})," "]}),Object(g.jsx)(T.a,{xs:8,children:this.state.nodes.map((function(e){return Object(g.jsx)(P.a.Check,{type:"checkbox",id:e._id,label:e.name,onChange:function(t){e.selected=t.target.checked}})}))})]})})]}),Object(g.jsxs)(N.a.Footer,{children:[Object(g.jsx)(I.a,{variant:"secondary",onClick:t,children:"Close"}),Object(g.jsx)(I.a,{type:"submit",variant:"primary",onClick:t,children:"Upload"})]})]})})]})}}]),n}(a.Component),De=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={show:!1,dataget:void 0},a}return Object(y.a)(n,[{key:"componentWillMount",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){return Object(g.jsx)(l.a,{to:"/"})}}]),n}(a.Component),Ue=function(){return Object(g.jsx)(b,{children:Object(g.jsx)("h2",{children:"About Page"})})},ze=n(9),Ge=n(4),qe=n(44),We=n(34),Je=n(10),He=n(684),Ve=["text","style"],Xe=["hoverIndex"],Ye=["state"],Qe=["data","text","style"],Ke=function(e,t){return function(n){var a=n.text,r=n.style,i=Object(Ge.a)(n,Ve);return Object(g.jsx)(qe.j.Label,Object(ze.a)({text:"".concat(a," ").concat(e),style:Object(ze.a)({fill:t},r)},i))}},Ze=Ke("$","#fcd45a"),$e=Ke("k","#41c0f0"),et=function(e){var t=e.hoverIndex,n=Object(Ge.a)(e,Xe);return Object(ze.a)({state:n.index===t?"hovered":null},n)},tt=function(e){return Object(g.jsx)(qe.c.Point,Object(ze.a)({},et(e)))},nt={size:7},at=function(e){var t,n=et(e);return Object(g.jsx)(qe.f.Point,Object(ze.a)({point:(t=n.state,t?{size:7}:{size:0})},n))},rt=function(e){e.state;var t=Object(Ge.a)(e,Ye);return Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(qe.a.Path,Object(ze.a)({},t)),Object(g.jsx)(qe.f.Path,Object(ze.a)({},t))]})},it=function(e){return Object(g.jsx)(qe.f.Point,Object(ze.a)({point:nt},et(e)))},st=function(e){return Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(qe.g.Path,Object(ze.a)({},e)),Object(g.jsx)(qe.f.Path,Object(ze.a)({},e))]})},ot=[{name:"import",key:"import",color:"#08abbd"},{name:"Scan",key:"scan",color:"#d4d67e"},{name:"Routine",key:"routine",color:"#78bc97"}],ct={display:"flex",margin:"auto",flexDirection:"row"},lt=function(e){return Object(g.jsx)(qe.e.Root,Object(ze.a)(Object(ze.a)({},e),{},{style:ct}))},dt={flexDirection:"column",marginLeft:"-2px",marginRight:"-2px"},ut=function(e){return Object(g.jsx)(qe.e.Item,Object(ze.a)(Object(ze.a)({},e),{},{style:dt}))},ht={whiteSpace:"nowrap"},pt=function(e){return Object(g.jsx)(qe.e.Label,Object(ze.a)(Object(ze.a)({},e),{},{style:ht}))},gt=Object(He.a)(".1f"),ft=function(e){var t=e.data,n=(e.text,e.style),a=Object(Ge.a)(e,Qe),r=Object(ze.a)(Object(ze.a)({},n),{},{paddingLeft:"10px"}),i=ot.map((function(e){var n=e.name,i=e.key,s=e.color,o=t[i];return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("svg",{width:"10",height:"10",children:Object(g.jsx)("circle",{cx:"5",cy:"5",r:"5",fill:s})})}),Object(g.jsx)("td",{children:Object(g.jsx)(qe.i.Content,Object(ze.a)({style:r,text:n},a))}),Object(g.jsx)("td",{align:"right",children:Object(g.jsx)(qe.i.Content,Object(ze.a)({style:r,text:o?gt(o):"N/A"},a))})]},i)}));return Object(g.jsx)("table",{children:i})},jt=[{series:ot.filter((function(e){return!e.type})).map((function(e){return e.name}))}],mt=function(e){return[e[0],2200]},xt=function(){return[0,110]},bt=function(e){var t=e.target;return t?t.point:-1},vt=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).showFile=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({showLoader:!0}),(n=new FileReader).onload=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,a.csvJSON(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],target:null,showLoader:!1},a.changeHover=function(e){a.setState({target:e?{series:"Routine",point:e.point}:null})},a.createComponents(),a.createSeries(),a}return Object(y.a)(n,[{key:"componentDidUpdate",value:function(e,t){bt(t)!==bt(this.state)&&(this.BarPoint.update(),this.SplinePoint.update(),this.AreaPoint.update(),this.TooltipContent.update())}},{key:"createComponents",value:function(){var e=this,t=function(){return{hoverIndex:bt(e.state)}};this.BarPoint=Object(Je.j)(tt,t),this.SplinePoint=Object(Je.j)(it,t),this.AreaPoint=Object(Je.j)(at,t),this.TooltipContent=Object(Je.j)(ft,(function(){var t=e.state,n=t.data,a=t.target;return{data:a?n[a.point]:null}}))}},{key:"createSeries",value:function(){var e=this;this.series=ot.map((function(t){var n=t.name,r=t.key,i=t.color,s=t.type,o={key:n,name:n,valueField:r,argumentField:"date",color:i,scaleName:t.scale||"oil",pointComponent:e.BarPoint};return s===qe.a?(o.seriesComponent=rt,o.pointComponent=e.AreaPoint):s&&(o.seriesComponent=st,o.pointComponent=e.SplinePoint),a.createElement(s||qe.c,o)}))}},{key:"csvJSON",value:function(e){for(var t=e.split("\n"),n=[],a=1;a<t.length;a++){var r=t[a].split(","),i=r[0].split("  "),s=new Date(i[1]),o=this.getDateFormat(s);switch(n[o]||(n[o]={date:o,import:0,routine:0,scan:0}),r[6]){case"Import Process":n[o].import++;break;case"Get Fabric for Routine":n[o].routine++;break;case"Get Fabric for On Qr Scan":n[o].scan++}}for(var c=[],l=0,d=Object.entries(n);l<d.length;l++){var h=Object(u.a)(d[l],2),p=(h[0],h[1]);0===p.routine&&0===p.scan&&0===p.import||c.push(p)}c.sort((function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}));return m.store.addNotification({title:"Chart!",message:"Csv Loaded",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),this.setState({data:c}),this.setState({showLoader:!1}),[]}},{key:"getDateFormat",value:function(e){var t=["Jan","Feb","Mar","Aprl","May","Jun","July","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=String(e.getDate()).padStart(2,"0");e.getFullYear();return t+"-"+n}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.target;return Object(g.jsxs)(b,{children:[Object(g.jsx)("h2",{children:"Dashboard"}),Object(g.jsx)(A.a,{className:"offset-4",children:Object(g.jsx)("input",{type:"file",onChange:function(t){return e.showFile(t)}})}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsx)(ue.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(g.jsx)(Y.a,{children:Object(g.jsxs)(qe.d,{data:n,children:[Object(g.jsx)(We.q,{name:"oil",modifyDomain:mt}),Object(g.jsx)(We.q,{name:"price",modifyDomain:xt}),Object(g.jsx)(qe.b,{}),Object(g.jsx)(qe.j,{scaleName:"oil",labelComponent:$e}),Object(g.jsx)(qe.j,{scaleName:"price",position:"right",labelComponent:Ze}),Object(g.jsx)(qe.h,{text:"Machine Performance"}),this.series,Object(g.jsx)(We.m,{stacks:jt}),Object(g.jsx)(We.g,{}),Object(g.jsx)(We.h,{hover:a,onHoverChange:this.changeHover}),Object(g.jsx)(qe.i,{targetItem:a,contentComponent:this.TooltipContent}),Object(g.jsx)(We.a,{}),Object(g.jsx)(qe.e,{position:"bottom",rootComponent:lt,itemComponent:ut,labelComponent:pt})]})})]})}}]),n}(a.PureComponent);n(158).config();Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(G.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a),Object(k.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Object(k.a)({table:{minWidth:700}});var Ot=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!1},{id:"store",numeric:!0,disablePadding:!1,label:"Store",link:!1},{id:"date",numeric:!0,disablePadding:!1,label:"Date",link:!1},{id:"processType",numeric:!0,disablePadding:!1,label:"Process Type",link:!1},{id:"result",numeric:!0,disablePadding:!1,label:"Message",link:!1}],yt=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0,showLoader:!0},e}return Object(y.a)(n,[{key:"GetAllMessages",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/AllMessages",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})};fetch("http://localhost:3001/deletemessage",n).then((function(e){return e.json()})).then((function(e){t.GetAllMessages(),m.store.addNotification({title:"Branch!",message:"Branch has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllMessages()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(g.jsxs)(b,{children:[Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsxs)(L.a,{fluid:!0,children:[Object(g.jsx)(A.a,{className:"offset-8"}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(T.a,{xs:10,children:[Object(g.jsx)(ue.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.dataget&&Object(g.jsx)(le,{Title:"All Messages",headCells:Ot,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:""})]})})]}),Object(g.jsx)(N.a,{show:this.state.show,onHide:t,children:Object(g.jsxs)(P.a,{onSubmit:function(t){t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country,branchUsers:e.state.branchUsers,id:e.state.id})},a="http://localhost:3001/addbranch";e.state.update&&(a="http://localhost:3001/updatebranch"),fetch(a,n).then((function(e){return e.json()})).then((function(t){e.GetAllMessages(),m.store.addNotification({title:"Branch!",message:e.state.update?"Updated Branch":"Branch Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}})}))},children:[Object(g.jsx)(N.a.Header,{closeButton:!0,children:Object(g.jsx)(N.a.Title,{children:"New Branch"})}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(P.a.Group,{controlId:"name",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Name"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Branch Name",name:"name",value:this.state.name})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"addressline1",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Address Line 1"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr1:t.target.value})},placeholder:"Address Line 1",name:"addressline1",value:this.state.addr1})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"addressline2",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Address Line 2"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({addr2:t.target.value})},placeholder:"Address Line 2",name:"addressline1",value:this.state.addr2})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"city",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"City"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",name:"city",value:this.state.city})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"state",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"State"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",name:"state",value:this.state.state})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"postcode",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Postcode"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"number",onChange:function(t){return e.setState({postcode:t.target.value})},placeholder:"Postcode",name:"postcode",value:this.state.postcode})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"country",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Country"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({country:t.target.value})},placeholder:"country",name:"postcode",value:this.state.country})," "]})]})})]}),Object(g.jsxs)(N.a.Footer,{children:[Object(g.jsx)(I.a,{variant:"secondary",onClick:t,children:"Close"}),Object(g.jsx)(I.a,{type:"submit",variant:"primary",onClick:t,children:this.state.update?"update":"Add Branch"})]})]})})]})}}]),n}(a.Component),wt=Object(l.i)(yt),Ct=(Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(G.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a),Object(k.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(S.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}))),kt=function(e){var t=Ct();return Object(g.jsxs)(F.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(g.jsx)(_.a,{onClick:e.clickfun,children:Object(g.jsx)(E.a,{style:{fontSize:40}})}),"Add Client"]})},St=(Object(k.a)({table:{minWidth:700}}),[{id:"name",numeric:!1,disablePadding:!0,label:"Client Name",link:!1},{id:"username",numeric:!1,disablePadding:!0,label:"Email",link:!1}]),At=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0},e}return Object(y.a)(n,[{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("http://localhost:3001/AllStores",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t})}))}},{key:"componentWillMount",value:function(){this.GetAllBranches()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(g.jsxs)(b,{children:[Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsxs)(L.a,{fluid:!0,children:[Object(g.jsx)(A.a,{className:"offset-8"}),Object(g.jsx)(A.a,{style:{height:30}}),Object(g.jsx)(A.a,{children:Object(g.jsx)(T.a,{xs:10,children:this.state.dataget&&Object(g.jsx)(le,{Title:"All Clients",headCells:St,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:Object(g.jsx)(kt,{clickfun:function(){return e.setState({show:!0})}})})})})]}),Object(g.jsx)(N.a,{show:this.state.show,onHide:t,children:Object(g.jsxs)(P.a,{onSubmit:function(t){t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,username:e.state.username,password:e.state.password,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country})};fetch("http://localhost:3001/addclient",n).then((function(e){return e.json()})).then((function(t){e.GetAllBranches(),m.store.addNotification({title:"Clint!",message:"New Client Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}})}))},children:[Object(g.jsx)(N.a.Header,{closeButton:!0,children:Object(g.jsx)(N.a.Title,{children:"New Client"})}),Object(g.jsxs)(N.a.Body,{children:[Object(g.jsx)(P.a.Group,{controlId:"name",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:" Name"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Store Name",name:"name"})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"username",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"User Name"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"email",onChange:function(t){return e.setState({username:t.target.value})},placeholder:"Email",name:"username"})," "]})]})}),Object(g.jsx)(P.a.Group,{controlId:"password",children:Object(g.jsxs)(A.a,{children:[Object(g.jsxs)(T.a,{xs:4,children:[" ",Object(g.jsx)(P.a.Label,{children:"Password"})," "]}),Object(g.jsxs)(T.a,{xs:8,children:[" ",Object(g.jsx)(P.a.Control,{type:"password",onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Passsword",name:"password"})," "]})]})})]}),Object(g.jsxs)(N.a.Footer,{children:[Object(g.jsx)(I.a,{variant:"secondary",onClick:t,children:"Close"}),Object(g.jsx)(I.a,{type:"submit",variant:"primary",onClick:t,children:"Add Client"})]})]})})]})}}]),n}(a.Component),Lt=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",x:"0px",y:"0px",viewBox:"7 7 20 26",fill:"gray",children:[Object(g.jsx)("g",{id:"Layer_4"}),Object(g.jsx)("g",{id:"Layer_2",children:Object(g.jsxs)("g",{children:[Object(g.jsx)("path",{class:"st0",d:"M9.5,26.9l1.5-4.7c0,0,0.6,2.5,0.7,4.7h10.8c0,0,0-3.8,0.2-4.2l1.5,4.2h3.4c0,0-0.1-3.9-0.2-4.1\r c-0.1-0.3-0.7-2.6-1-3.6c-0.3-1-2-5.8-2-5.8s0.5-1.9-0.2-2.2c-0.7-0.2-4.6-1.5-4.6-1.5s-0.3-1.2-0.6-1.3l-2.9,1.9l-0.5,2.4\r c0,0-0.4,0.2-0.3-0.3c0-0.5,0.2-2.1,0.2-2.1s-0.7-1.5-0.9-1.5s-0.6,0.7-0.7,1c0,0-4.4,1.5-4.5,1.7c-0.1,0.2-0.6,3.5-0.6,4.5\r c0,0-1.6,3.3-2,5.2c-0.4,2-0.7,5.5-0.7,5.5H9.5z"}),Object(g.jsxs)("g",{children:[Object(g.jsx)("circle",{class:"st1",cx:"15.4",cy:"14.5",r:"0.2"}),Object(g.jsx)("circle",{class:"st1",cx:"15.4",cy:"16.4",r:"0.2"}),Object(g.jsx)("circle",{class:"st1",cx:"15.4",cy:"18.4",r:"0.2"})]})]})})]})})}}]),n}(a.Component),Tt=Lt,Nt="http://localhost:3001/products/",Pt="http://localhost:3001/products/",It="http://localhost:3001/products/",_t="http://localhost:3001/",Rt="/",Et=function(){return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}}},Ft={login:function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.next=3,Ie.a.post(_t+"login",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getProducts:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.get(It+"get_all_products/"+t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get_images:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(It+"get_images",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addProduct:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(It+"addproduct",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateProduct:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(It+"update-products",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteProduct:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(It+"delete-product",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get_alltype:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.get(Nt+"alltype/"+t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),add_type:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Nt+"addtype",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update_type:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Nt+"updatetype",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete_type:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Nt+"deletetype",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get_Categories:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Pt+"category",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),add_Categories:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Pt+"addcategory",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update_Categories:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Pt+"updatecategory",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete_Categories:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.post(Pt+"deletecategory",t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get_Type:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.get(Nt+"gettype/"+t,Et());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Mt=Ft,Bt=(a.Component,n(247)),Dt=n.n(Bt),Ut=function(e){return console.log(e),e.charAt(0).toUpperCase()+e.slice(1)};n.p,n(552),n(683),n(688),n(258);var zt,Gt=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={products:a.props.products,types:[],category:[],selectCategory:[],favourites:[],tempCategory:[],origin:"",currentCategory:"All",categoryTitle:"Select Category"},a}return Object(y.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.products.length>0&&0===this.state.products.length&&this.setState({products:e.products})}},{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("token")).token;this.setState({products:this.props.products}),this.LoadData()}},{key:"LoadData",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i,s,o=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,Mt.get_alltype(this.props.origin);case 3:t=(t=e.sent).filter((function(e,t){return o.props.origin===e.origin})),n=[],a=[],r=0;case 8:if(!(r<t.length)){e.next=19;break}return i={_id:t[r]._id},a.push(t[r].name),e.next=13,Mt.get_Categories(i);case 13:s=e.sent,t[r].category=s,n.push(s);case 16:r++,e.next=8;break;case 19:void 0!==n[0]&&this.setState({category:[{name:"All"}].concat(Object(d.a)(n[0])),tempCategory:[{name:"All"},n[0]]}),void 0!==t&&this.setState({types:[{name:"All"},{name:"Favourites"}].concat(Object(d.a)(t))});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectCategory",value:function(e,t){if(this.setState({categoryTitle:this.GetCategoryName(e.name)}),this.setState({currentCategory:e.name}),"All"!==e.name&&e.name)if("Favourites"!==e.name&&e.name){var n=this.state.category.filter((function(t,n){var a;return(null===t||void 0===t||null===(a=t.type)||void 0===a?void 0:a._id)===e._id}));this.setState({selectCategory:n,isCategoryShow:!0});var a=this.props.products.filter((function(t,n){return t.category.type===e._id}));this.setState({products:a})}else this.setState({products:this.state.products,isCategoryShow:!1});else this.setState({products:this.props.products,isCategoryShow:!1})}},{key:"selectCategoryFab",value:function(e,t){if(this.setState({categoryTitle:this.GetCategoryName(e.name)}),this.setState({currentCategory:e.name}),"All"!==e.name&&e.name){var n=this.props.products.filter((function(t,n){return console.log(t,e._id),t.category._id===e._id}));this.setState({products:n})}else this.setState({products:this.props.products,isCategoryShow:!1})}},{key:"GetCategoryName",value:function(e){if(void 0!==e&&""!==e){if(e.includes("_")){var t=e.split("_");return Ut(t[1])}return e}}},{key:"SelectFav",value:function(e,t){var n=this.state.products;n[t].isFav=!e.isFav,this.setState({products:n}),this.forceUpdate()}},{key:"card",value:function(e,t){var n=this;if("Favourites"!==this.state.currentCategory||e.isFav)return Object(g.jsx)("div",{class:"max-w-md w-full shadow-lg rounded-xl p-3 hover:bg-gray-500 cursor-pointer",style:{backgroundColor:"#4c4c6e"},children:Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsxs)("div",{class:"",children:[Object(g.jsxs)("div",{class:"relative",children:[Object(g.jsx)("div",{class:"absolute flex flex-col top-0 right-0 p-3",children:Object(g.jsx)("button",{class:"transition ease-in duration-300 bg-gray-800  hover:text-purple-500 shadow hover:shadow-md text-gray-500 rounded-full w-8 h-8 text-center p-1",children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-pressed":"false",onClick:function(a){n.SelectFav(e,t)},children:Object(g.jsx)("path",{"stroke-linecap":"round",fill:e.isFav?"red":"transparent","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),Object(g.jsx)("img",{src:e.img,alt:"Just a flower",class:"h-48 w-full object-fill rounded-2xl",onClick:function(t){return n.props.SelectProduct(t,e)}})]}),Object(g.jsxs)("div",{class:"flex-auto justify-evenly",children:[Object(g.jsxs)("div",{class:"flex flex-wrap ",children:[Object(g.jsx)("div",{class:"w-full flex-none text-sm flex items-center text-gray-600",children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),Object(g.jsxs)("div",{class:"flex items-center w-full  justify-between min-w-0",children:[Object(g.jsx)("h2",{class:"text-base mr-auto font-semibold cursor-pointer text-gray-200 hover:text-purple-400 truncate ",children:e.name}),Object(g.jsx)("div",{class:"flex items-center bg-indigo-500 font-medium text-xxs text-white px-1 py-1 ml-3 rounded-lg",children:"Instock"})]})]}),Object(g.jsx)("div",{class:"flex flex-wrap ",children:Object(g.jsxs)("div",{class:"flex items-center w-2/3 justify-between min-w-0",children:[Object(g.jsxs)("h2",{class:"text-base mr-auto cursor-pointer text-gray-200 hover:text-purple-400 truncate font-bold",children:["\u20b9",e.price]}),Object(g.jsx)("div",{class:" items-center bg-pink-600 text-white text-xs px-2 py-1 ml-3 rounded-2xl",children:Object(g.jsx)("span",{children:Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5",fill:"none",viewBox:"2 0 71 24",stroke:"currentColor",children:[Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}),Object(g.jsx)("text",{x:"27",y:"17","font-size":"14",fill:"white",stroke:"white","stroke-width":"0.06",children:"View"})]})})})]})})]})]})})})}},{key:"render",value:function(){var e=this;return console.log("this.state.selectCategory",this.state.types),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{class:"overflow-y-hidden h-full border-r-2 border-gray-400",children:[Object(g.jsxs)("div",{className:"flex w-full grid-cols-2 pt-2 pb-2",style:{backgroundColor:"#141a3e"},children:[Object(g.jsx)("div",{class:"text-lg font-bold w-full px-3 text-white",children:this.props.isMen?"Men Fabrics":"Women Fabrics"}),Object(g.jsx)("div",{class:"relative w-full",children:Object(g.jsx)("div",{className:"absolute right-1 rounded-full border-2 h-5 w-5 mt-1  bg-red-700 py-1 cursor-pointer",onClick:function(t){return e.props.Close()},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"",viewBox:"-2 4 24 24",fill:"white",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]}),Object(g.jsx)("div",{className:"lg:flex lg:flex-row py-1 border-2 border-gray-400 border-opacity-5 px-3",style:{backgroundColor:"#454d7e"},children:void 0===this.state.category[1]?Object(g.jsx)("div",{}):Object(g.jsx)("ul",{class:"top-level-menu z-10 rounded-full",children:Object(g.jsxs)("li",{className:"rounded-sm",children:[Object(g.jsx)("a",{className:"rounded-full  cursor-default",children:"Select Category"}),Object(g.jsx)("ul",{class:"second-level-menu",children:this.state.types&&this.state.types.map((function(t,n){return Object(g.jsxs)("li",{onClick:function(){e.selectCategory(t,n)},children:[Object(g.jsx)("a",{children:Ut(t.name)}),Object(g.jsx)("ul",{className:"third-level-menu",children:t.category&&t.category.map((function(t,n){return Object(g.jsx)("li",{className:"cursor-pointer",children:Object(g.jsx)("a",{onClick:function(){e.selectCategoryFab(t,n)},children:e.GetCategoryName(t.name)})})}))})]})}))})]})})}),Object(g.jsx)("div",{className:"flex flex-auto h-full overflow-y-visible",style:{backgroundColor:"#141a3e"},children:Object(g.jsx)("div",{class:"max-w-screen-xl w-full py-8 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(g.jsx)("div",{class:"grid overflow-visible gap-y-10 sm:grid-cols-1 gap-x-6 xl:grid-cols-4 xl:gap-x-1",children:this.state.products.map((function(t,n){return Object(g.jsx)(g.Fragment,{children:e.card(t,n)})}))})})})]})})}}]),n}(a.PureComponent),qt=Gt,Wt=n(25),Jt=n(85),Ht=n.n(Jt),Vt=n(147),Xt=n.n(Vt),Yt=n(152),Qt=n.n(Yt),Kt=(n(553),function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{id:"menu",children:[Object(g.jsx)("a",{class:"menu-button icon-plus",href:"#menu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(g.jsx)("span",{class:"fas fa-share-alt"})}),Object(g.jsx)("a",{class:"menu-button icon-minus",href:"#0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(g.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(g.jsx)("div",{class:"menu-item",children:e.img})}))]})})}}]),n}(r.a.Component)),Zt=(n(554),function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{id:"skinmenu",children:[Object(g.jsx)("a",{class:"skinmenu-button icon-plus",href:"#skinmenu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(g.jsx)("span",{class:"fas fa-share-alt"})}),Object(g.jsx)("a",{class:"skinmenu-button icon-minus",href:"#skinmenu0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(g.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(g.jsx)("div",{class:"skinmenu-item",children:e.img})}))]})})}}]),n}(r.a.Component)),$t=(n(336),n(685)),en=n(128),tn=n(13),nn=n(700),an=(n(695),n(701)),rn=n(699);Object(tn.a)(rn.a)(zt||(zt=Object(en.a)(["width: 80px;"])));var sn=n.p+"static/media/profile.05aaebe7.png",on=n.p+"static/media/folder.b88d3da4.png",cn=n.p+"static/media/webcam.12fe78bf.png",ln=(n.p,n.p+"static/media/hair1.2b256a15.png"),dn=n.p+"static/media/hair2.f834fc22.png",un=n.p+"static/media/hair3.2f651080.png",hn=n(249),pn=n.n(hn),gn=n(193),fn=n.n(gn),jn=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={height:165,weight:45,hairStyle:"custom",imagePath:{profile:sn}},a.webcamRef=r.a.createRef(),a.uploadImage=a.uploadImage.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"uploadImage",value:function(){console.log("Upload Image"),document.getElementById("chooseImage").click(),this.setState({isCameraOn:!1})}},{key:"componentDidMount",value:function(){}},{key:"captureImage",value:function(){var e=this.webcamRef.current.getScreenshot({width:1920,height:1080});console.log(e),this.setState({isCameraOn:!1}),this.props.setImageFile(e)}},{key:"page",value:function(){var e=this;return Object(g.jsxs)("div",{class:"relative right-10 rounded-2xl bg-gradient-to-tr from-blue-900",children:[Object(g.jsxs)("div",{class:"w-full flex flex-row",children:[Object(g.jsx)("p",{class:"text-left px-3 mt-2 py-1 font-bold text-white text-lg w-10/12",children:"PROFILE SHOOT"}),Object(g.jsx)("div",{class:"items-center py-3 px-3",onClick:function(){return e.props.close()},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 transform hover:border-blue-600 transition duration-500 hover:scale-125 cursor-pointer",viewBox:"0 0 20 20",fill:"red",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",fill:"red",clipRule:"evenodd"})})})]}),Object(g.jsxs)("div",{className:"px-2 m-2 py-2 rounded-lg border-2 border-gray-300",children:[Object(g.jsxs)("div",{class:"m-2 px-2 py-2 content-center flex flex-row h-48 rounded-xl from-blue-500",children:[this.state.isCameraOn?Object(g.jsx)(pn.a,{audio:!1,id:"videoid",ref:this.webcamRef,videoConstraints:{width:200,height:200,facingMode:"user"},class:"rounded-2xl object-cover  w-full"}):Object(g.jsx)("img",{class:"rounded-2xl object-cover  w-full",src:this.props.imageFile?this.props.imageFile:sn,id:"uploadimg",name:"uploadimg"}),Object(g.jsx)("div",{class:"absolute  right-4 float-right  content-center",children:Object(g.jsxs)("div",{class:"mt-8 relative items-center rounded-xl ",children:[Object(g.jsx)("img",{class:"cursor-pointer h-12",src:on,onClick:function(){return e.uploadImage()}}),Object(g.jsx)("img",{class:"cursor-pointer  h-12",src:cn,onClick:function(){e.state.isCameraOn?(e.captureImage(),e.setState({isCameraOn:!1})):e.setState({isCameraOn:!0})}})]})})]}),Object(g.jsxs)("div",{class:" m-2   px-2 py-2 flex flex-col rounded-xl",children:[Object(g.jsxs)("div",{class:"w-full  flex flex-col",children:[Object(g.jsx)("div",{class:"px-6 pt-2 w-full ",children:Object(g.jsx)($t.a,{value:this.state.weight,onChange:function(t){return e.setState({weight:""===t.target.value?"":Number(t.target.value)})},min:45,max:100,width:"20px",valueLabelDisplay:"auto",valueLabelFormat:function(e){return e+" KG"},label:"Weight",defaultValue:[20,37]})}),Object(g.jsxs)("div",{class:"text-center   text-white text-xl",children:[" Weight : ",this.state.weight," KG"]})]}),Object(g.jsxs)("div",{class:"px-2 w-full  flex flex-col",children:[Object(g.jsx)("div",{class:"px-3 w-full",children:Object(g.jsx)($t.a,{value:this.state.height,onChange:function(t){return e.setState({height:""===t.target.value?"":Number(t.target.value)})},min:130,max:200,width:"20px",valueLabelDisplay:"auto",valueLabelFormat:function(e){return e+" cm"},label:"height",defaultValue:[20,37]})}),Object(g.jsxs)("div",{class:"text-center text-white text-xl",children:[" Height : ",this.state.height," cm"]})]}),Object(g.jsxs)("div",{class:"px-1 gap-2 py-2 flex flex-row mt-3 justify-items-center",children:[Object(g.jsx)("img",{class:"h-20 border-2  rounded-full ".concat("custom"===this.state.hairStyle?"border-green-500":"border-gray-500"," "),src:ln,onClick:function(){return e.setState({hairStyle:"custom"})}}),Object(g.jsx)("img",{class:"h-20 border-2  rounded-full ".concat("ponytail_with_bangs"===this.state.hairStyle?"border-green-500":"border-gray-500"," "),src:dn,onClick:function(){return e.setState({hairStyle:"ponytail_with_bangs"})}}),Object(g.jsx)("img",{class:"h-20 border-2  rounded-full ".concat("long_wavy"===this.state.hairStyle?"border-green-500":"border-gray-500"," "),src:un,onClick:function(){return e.setState({hairStyle:"long_wavy"})}})]}),Object(g.jsx)("div",{class:"text-center py-1 text-white text-xl",children:" Hair Styles"})]})]}),Object(g.jsx)("div",{class:"grid justify-items-center pb-3",children:Object(g.jsx)("button",{class:"content-center align-center py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-green-500 hover:bg-green-700",onClick:function(){return e.props.proceedGenerate(e.state)},children:"Generate 3D"})})]})}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{class:"fixed flex-shrink-0  sm:hidden md:block  z-10 right-5 top-5",children:this.page()}),Object(g.jsx)("div",{class:"fixed flex-shrink-0  md:hidden sm:block md:h-full xl:w-48 sm:w-full  z-10 sm:right-0",children:this.page()}),Object(g.jsx)("input",{style:{visibility:"hidden",display:"none"},id:"chooseImage",type:"file",accept:"image/*",onChange:this.props.showFile})]})}}]),n}(r.a.Component),mn=n.p+"static/media/girl.6166a39a.png",xn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAA0CAIAAACGg7ZXAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADlSURBVFhH7ZNNCoMwGERzlBYsUjW2h6gVEz2I1Cbq/RedYski3WYgkMDbZCK8fD+KubtYJXfdGC2trtnsutqHWrz6Egejqm2S69iwsWNrx7tYHqdN4QntpuSqWyooD2I0Vcx9AT8ig+jvu7AYfYMFTcVcz/Cj3G36PoTKPlwhwjTF+1mivdimo3wuqBijVVIsXXFEOPzu+CRrPX5kHjFZXcomW9kka/UWPTgxWV3KJlvZJGv1Fj04MVldyiZb2SRr9RY9ODFZXcomW9kka/UWPTgxWV3KJlvZJGv1Fj04MVldymVsPvWEJU66FTfVAAAAAElFTkSuQmCC",bn=n.p+"static/media/pause.31070d48.png",vn=n.p+"static/media/add1.a5a9ba64.png",On=n.p+"static/media/LFA_POSE.7dfb3824.png",yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAuCAIAAAA6B6cZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADtSURBVFhH7ZPNDoIwDID3/kcTNTBk8RGAsPIwyoCNn7MG49GyxEm8Nxxo8qVZu8PX/VS8x3udR32Z2lI2IHtQnZa2vFDjSimek2uy4wDSQuoqhdW2SrADTGnRSryHm80PFmJMLCTfPVzQ0oIS82RMdkbfUF2xhEd32l9AaJCKRDwm0xWR7wWVl0Wvl7WvEOIgxr9m8L0Xq1b4zP7EuLdukIQWUvGaTFOclr+HeRWvxL8eafDuNj99ZX+Rlt2657HepZv/GrtDpGVTN883u0Okhd0buHm+2R0iLezewM3zze4QaWH3Bm6e7x25If0Ao1VsX0WtqG8AAAAASUVORK5CYII=",wn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAuCAIAAADVxcwnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACzSURBVFhH7ZNbCsQgDEXd/1ps7WMhxtnHVO0KetNAmc5/8mPgEASFkxtJqLTWkjppM3Va75p63k+aQs/x/UIFZGtlO2iG+0tLpT1IF7hQ5WRr5ENGH5w+HAUTeHWnRMtz+yxyQEXihG+WOz0gQ2h254iZc+K/F0pgwvhgmTkqpg2x0aiF28oYJX5wsRkuNuNX7HusiovNGFvse6yKi80YW+x7rIqLzRhb7HusiovNGFZM6QKfK4WsSHFITgAAAABJRU5ErkJggg==",Cn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAxCAIAAADWTifkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADjSURBVFhH5dHrCcMwDARgz908RrHadRqHrtSTj2iDEwLDYZ/y58NKu/px2T7e2+g4j9t8VKeBmdiGEzNOeexs/sTuPma827/OL7r8bHP1/pxQv92f66P5nnUZ/TU3/EizTFsZbLT59fxOlIRfC6KFxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyqjy2/wGf4TsTb9Sa1gAAAABJRU5ErkJggg==",kn=n.p+"static/media/play.ac34b2e7.png",Sn=n.p+"static/media/sareeIcon.362adcdd.jpg",An=n.p+"static/media/Logo.44c1d73b.png",Ln=n(206),Tn=n.n(Ln),Nn=n(207),Pn=n.n(Nn),In=n(208),_n=n.n(In),Rn=function(){function e(t){var n=this;Object(O.a)(this,e),this.GetProjectionMatrix=function(){return n.perspectiveMatrix(n.fov,n.AspectRatio,10,200)},this.GetViewMatrix=function(){var e=Wt.a.create(),t=Wt.c.create();return Wt.c.add(t,n.Position,n._front),Wt.a.lookAt(e,n.Position,t,n._up),e},this.GetModelMatrix=function(){var e=Wt.a.create(),t=Wt.a.create(),a=Wt.a.create(),r=Wt.a.create();return Wt.a.fromXRotation(n.rotateXMatrix,.2),Wt.a.fromYRotation(n.rotateYMatrix,-n.yawAngle),Wt.a.multiply(e,n.rotateXMatrix,n.rotateYMatrix),Wt.a.fromTranslation(t,n.Translational),Wt.a.multiply(a,t,e),Wt.a.fromScaling(r,Wt.c.fromValues(.5,.5,.5)),Wt.a.multiply(n.model,r,a),n.model},this.MouseMove=function(e){if(e.preventDefault(),e.stopPropagation(),1==e.buttons){n.pitchAngle+=n.DegreetoRadians(e.pageY-n.prevLocation[1]),n.yawAngle+=n.DegreetoRadians(e.pageX-n.prevLocation[0]);var t=2*Math.PI;n.pitchAngle<0?n.pitchAngle+=t:n.pitchAngle>t&&(n.pitchAngle-=t),n.prevLocation=Wt.b.fromValues(e.pageX,e.pageY)}else 2==e.buttons&&(n.Translational[1]-=n.DegreetoRadians(e.pageY-n.prevLocation[1]),n.Translational[0]+=n.DegreetoRadians(e.pageX-n.prevLocation[0]),n.prevLocation=Wt.b.fromValues(e.pageX,e.pageY))},this.MouseWheel=function(e){n.fov-=n.DegreetoRadians(e.wheelDelta*(1/120)),n.fov<.01?n.fov=.01:n.fov>2.5&&(n.fov=2.5)},this.TouchStart=function(e){e.preventDefault(),e.touches.length>=2?(n.MultiPrev[0]=Wt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY),n.MultiPrev[1]=Wt.b.fromValues(e.touches[1].pageX,e.touches[1].pageY)):n.prevLocation=Wt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY)},this.TouchEnd=function(e){e.preventDefault(),e.touches.length>=2?(n.MultiPrev[0]=Wt.b.fromValues(0,0),n.MultiPrev[1]=Wt.b.fromValues(0,0)):n.prevLocation=Wt.b.fromValues(0,0)},this.TouchMove=function(e){if(e.preventDefault(),e.touches.length>=2){var t=e.touches[0].pageY-n.MultiPrev[0][1];t+=e.touches[1].pageY-n.MultiPrev[1][1],t+=e.touches[0].pageX-n.MultiPrev[0][0],t=1/12*-(t+=e.touches[1].pageX-n.MultiPrev[1][0]),n.fov-=n.DegreetoRadians(t),n.fov<.01?n.fov=.01:n.fov>2.5&&(n.fov=2.5),n.MultiPrev[0]=Wt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY),n.MultiPrev[1]=Wt.b.fromValues(e.touches[1].pageX,e.touches[1].pageY)}else{if(0==n.prevLocation[0]&&0==n.prevLocation[1])return;n.pitchAngle+=n.DegreetoRadians(e.touches[0].pageY-n.prevLocation[1]),n.yawAngle+=n.DegreetoRadians(e.touches[0].pageX-n.prevLocation[0]);var a=2*Math.PI;n.pitchAngle<0?n.pitchAngle+=a:n.pitchAngle>a&&(n.pitchAngle-=a)}n.prevLocation=Wt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY)},this.perspectiveMatrix=function(e,t,n,a){var r=1/Math.tan(e/2),i=1/(n-a);return[r/t,0,0,0,0,r,0,0,0,0,(n+a)*i,-1,0,0,n*a*i*2,0]},this.clamp=function(e,t,n){return e<=t?t:e>=n?n:e},this.RadianstoDegrees=function(e){return e*(180/Math.PI)},this.DegreetoRadians=function(e){return e*(Math.PI/180)},this.pitchAngle=0,this.yawAngle=0,this.Translational=Wt.c.fromValues(0,-80,0),this.prevLocation=Wt.b.create(),this.MultiPrev=[],this.model=Wt.a.create(),this.modelMatrix=Wt.a.create(),this.rotateXMatrix=Wt.a.create(),this.rotateYMatrix=Wt.a.create(),this.projMatrix=Wt.a.create(),this.angleX=0,this.angleY=0,this.fov=1.57079637,this.yaw=-1.57079637,this.AspectRatio=0,this._front=Wt.c.fromValues(0,0,-1),this._up=Wt.c.fromValues(0,1,0),this.Position=Wt.c.fromValues(0,0,100),this.AspectRatio=t,this.fov=this.DegreetoRadians(57),this.pointerdown_handler=this.pointerdown_handler.bind(this),this.pointermove_handler=this.pointermove_handler.bind(this),this.pointerup_handler=this.pointerup_handler.bind(this),this.remove_event=this.remove_event.bind(this),this.evCache=[],this.prevDiff=null,this.prevScale=0}return Object(y.a)(e,[{key:"reset",value:function(){this.Translational=Wt.c.fromValues(0,-80,0),this.fov=this.DegreetoRadians(57),this.yawAngle=0}},{key:"rotate",value:function(e){"panleft"!==e.type&&"panright"!==e.type||(this.yawAngle+=window.devicePixelRatio>2?e.velocity/2:e.velocity/12)}},{key:"pan",value:function(e){"panleft"===e.type||"panright"===e.type?this.Translational[0]+=window.devicePixelRatio>2?8*e.velocity:e.velocity:"panup"!==e.type&&"pandown"!==e.type||(this.Translational[1]-=window.devicePixelRatio>2?8*e.velocity:e.velocity)}},{key:"pinch",value:function(e){this.prevScale,e.scale;if(e.scale>1){var t=this.prevScale-1-(e.scale-1);t=1/12*-t,console.log("in",t),t<.3&&t>0&&(this.fov-=t)}else{var n=1-this.prevScale-(1-e.scale);console.log("out",n),n>-.3&&(n=n,this.fov-=n)}this.fov<.01?this.fov=.01:this.fov>2.5&&(this.fov=2.5),this.prevScale=e.scale,e.isFinal&&(this.prevScale=1)}},{key:"pointerdown_handler",value:function(e){e.preventDefault(),this.evCache.push(e)}},{key:"pointermove_handler",value:function(e){e.preventDefault();for(var t=0;t<this.evCache.length;t++)if(e.pointerId==this.evCache[t].pointerId){this.evCache[t]=e;break}if(2==this.evCache.length){var n=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX),a=n-this.prevDiff;0!==a&&Math.abs(a)<1&&(a*=.2,console.log(a),this.fov-=a,this.fov<.01?this.fov=.01:this.fov>2.5&&(this.fov=2.5)),this.prevDiff=n}}},{key:"pointerup_handler",value:function(e){e.preventDefault(),this.remove_event(e),e.target.style.background="white",e.target.style.border="1px solid black",this.evCache.length<2&&(this.prevDiff=-1)}},{key:"remove_event",value:function(e){for(var t=0;t<this.evCache.length;t++)if(this.evCache[t].pointerId==e.pointerId){this.evCache.splice(t,1);break}}}]),e}(),En=Object(y.a)((function e(t,n,a,r){var i=this;Object(O.a)(this,e),this.setAttributes=function(e){var t=new Float32Array(i.ToPosition(i.vertices));i.PositionBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i.PositionBuff),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);var n=new Float32Array(i.ToNormal(i.vertices));i.NormalBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i.NormalBuff),e.bufferData(e.ARRAY_BUFFER,n,e.DYNAMIC_DRAW);var a=new Float32Array(i.ToTexture(i.vertices));i.TextureBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,i.TextureBuff),e.bufferData(e.ARRAY_BUFFER,a,e.DYNAMIC_DRAW);var r=new Uint32Array(i.Tofaces(i.Faces));i.IndexBuff=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i.IndexBuff),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.DYNAMIC_DRAW),i.numVerts=r.length},this.Update=function(e,t,n){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.IndexBuff),n.bind(t);var a=n.gDirectionalLightbasecolor;new Float32Array(0,0,0);n.gDirectionalLightbasecolor=i.gDirectionalLightbasecolor,n.UpdateLighting(t,i.gDirectionalLightbasecolor);var r=n.getAttLoc("aPos"),s=n.getAttLoc("aNormal"),o=n.getAttLoc("aTexCoords");if(-1!=r&&(t.bindBuffer(t.ARRAY_BUFFER,i.PositionBuff),t.vertexAttribPointer(r,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(r)),-1!=s&&(t.bindBuffer(t.ARRAY_BUFFER,i.NormalBuff),t.vertexAttribPointer(s,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s)),-1!=o&&(t.bindBuffer(t.ARRAY_BUFFER,i.TextureBuff),i.isColor?t.vertexAttribPointer(o,3,t.FLOAT,!1,0,0):t.vertexAttribPointer(o,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o)),"LFA_IRIS"===i.Name.toUpperCase()){var c=n.getUniformLoc("LightOff");t.uniform1i(c,1)}var l=n.getUniformLoc("model");t.uniformMatrix4fv(l,!0,e.GetModelMatrix());var d=n.getUniformLoc("projection");if(t.uniformMatrix4fv(d,!0,e.GetProjectionMatrix()),t.drawElements(t.TRIANGLES,i.numVerts,t.UNSIGNED_INT,0),t.disableVertexAttribArray(r),t.disableVertexAttribArray(s),t.disableVertexAttribArray(o),"LFA_IRIS"===i.Name.toUpperCase()){c=n.getUniformLoc("LightOff");t.uniform1i(c,0)}n.gDirectionalLightbasecolor=a},this.cnvrttoarr=function(e){var t,n=[];for(t=0;t<e.length;t++){n.push(e[t].X),n.push(e[t].Y),n.push(e[t].Z),n.push(e[t].Normal.X),n.push(e[t].Normal.Y),n.push(e[t].Normal.Z),i.isColor?(n.push(e[t].Color.X),n.push(e[t].Color.Y),n.push(e[t].Color.Z)):null!=e[t].Texture?(n.push(e[t].Texture.X),n.push(e[t].Texture.Y)):(0==e[t].X?n.push(0):n.push(e[t].X),0==e[t].Y?n.push(0):n.push(e[t].Y));for(var a=0;a<10;a++)null!=e[t].BoneMap&&a<e[t].BoneMap.length?n.push(e[t].BoneMap[a]):n.push(0);for(var r=0;r<10;r++)0==r?n.push(1):n.push(0)}return n},this.ToPosition=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Position.length;a++)t.push(e[n].Position[a]);return t},this.ToNormal=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Normal.length;a++)t.push(e[n].Normal[a]);return t},this.ToTexture=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Texture.length;a++)t.push(e[n].Texture[a]);return t},this.Tofaces=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},this.vertices=[],this.Faces=null,this.sProgram=null,this.numVerts=null,this.vertBuff=null,this.textBuff=null,this.Name="",this.isColor=null,this.PositionBuff=null,this.NormalBuff=null,this.TextureBuff=null,this.IndexBuff=null,this.gDirectionalLightbasecolor=[.937,.921,.847],this._attributes={},this.vertices=t,this.Faces=n,this.numVerts=this.vertices.length,this.isColor=a,this.setAttributes(r)})),Fn=Object(y.a)((function e(t,n,a){var r=this;Object(O.a)(this,e),this.compileShader=function(e){var t=r._getShader(e,r._fragment,e.FRAGMENT_SHADER),n=r._getShader(e,r._vertex,e.VERTEX_SHADER);r.program=e.createProgram(),e.attachShader(r.program,n),e.attachShader(r.program,t),e.linkProgram(r.program),e.getProgramParameter(r.program,e.LINK_STATUS)||alert("Unable to initialize the shader program."),e.useProgram(r.program),r._loadUniforms(e),r._loadAttributes(e)},this._getShader=function(e,t,n){var a=e.createShader(n);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(a)),null)},this.bind=function(e){e.useProgram(r.program)},this._loadUniforms=function(e){var t,n,a=e.getProgramParameter(r.program,e.ACTIVE_UNIFORMS);for(n=0;n<a;n++)t=e.getActiveUniform(r.program,n).name,r._uniform[t]=e.getUniformLocation(r.program,t)},this._loadAttributes=function(e){var t,n,a=e.getProgramParameter(r.program,e.ACTIVE_ATTRIBUTES);for(n=0;n<a;n++)t=e.getActiveAttrib(r.program,n).name,r._attributes[t]=e.getAttribLocation(r.program,t)},this.getUniformLoc=function(e){if(null!==r._uniform[e])return r._uniform[e]},this.getAttLoc=function(e){if(null!==r._attributes[e])return r._attributes[e]},this.EnableButtonLight=function(e){e.useProgram(r.program);var t=r.getUniformLoc("gDirectionalLight.Direction");e.uniform3fv(t,[0,0,5]);var n=r.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,[1,1,1]);var a=r.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(a,1);var i=r.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(i,1)},this.DisableButtonLight=function(e){e.useProgram(r.program);var t=r.getUniformLoc("gDirectionalLight.Direction");r.isColor?e.uniform3fv(t,[0,0,1]):e.uniform3fv(t,[0,0,-1]);var n=r.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,r.gDirectionalLightDirectionBaseColor);var a=r.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(a,.7);var i=r.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(i,.7)},this.setUnifromLocations=function(e,t){t.useProgram(r.program);var n=r.getUniformLoc("projection");t.uniformMatrix4fv(n,!0,e.GetProjectionMatrix());var a=r.getUniformLoc("view");t.uniformMatrix4fv(a,!0,e.GetViewMatrix());var i=Wt.a.create(),s=r.getUniformLoc("model");t.uniformMatrix4fv(s,!0,i);var o=r.getUniformLoc("viewPos");t.uniform3fv(o,[0,0,100]);var c=r.getUniformLoc("gNumSpotLights");t.uniform1i(c,0);var l=r.getUniformLoc("gNumPointLights");t.uniform1i(l,0);var d=r.getUniformLoc("gColorMap");t.uniform1i(d,0);var u=r.getUniformLoc("gDirectionalLight.Direction");r.isColor?t.uniform3fv(u,[0,0,1]):t.uniform3fv(u,[0,0,-1]);var h=r.getUniformLoc("gDirectionalLight.Base.Color");t.uniform3fv(h,r.gDirectionalLightDirectionBaseColor);var p=r.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");t.uniform1f(p,.5);var g=r.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");t.uniform1f(g,.7);var f=r.getUniformLoc("gSpecularPower");t.uniform1f(f,0);var j=r.getUniformLoc("gMatSpecularIntensity");t.uniform1f(j,0)},this.SareeLighting=function(e){e.useProgram(r.program);var t=r.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(t,r.gDirectionalLightDirectionBaseColor);var n=r.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(n,.8);var a=r.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(a,.8);var i=r.getUniformLoc("gSpecularPower");e.uniform1f(i,50);var s=r.getUniformLoc("gMatSpecularIntensity");e.uniform1f(s,0)},this.DisableSareeLighting=function(e){e.useProgram(r.program);var t=r.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(t,r.gDirectionalLightDirectionBaseColor);var n=r.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(n,.7);var a=r.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(a,.7);var i=r.getUniformLoc("gSpecularPower");e.uniform1f(i,10);var s=r.getUniformLoc("gMatSpecularIntensity");e.uniform1f(s,0)},this.UpdateLighting=function(e,t){e.useProgram(r.program);var n=r.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,t)},this.program=null,this._id=t,this._vertex=n,this._fragment=a,this._uniform={},this._attributes={},this.gDirectionalLightDirectionBaseColor=[.937,.921,.847]})),Mn=Object(y.a)((function e(t,n){var a=this;Object(O.a)(this,e),this.BindTexture=function(e,t){var n=new Image;n.src=t;var r=function(t){return new Promise((function(r){t.onload=function(t){null==a.TextureId&&(a.TextureId=e.createTexture()),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.TextureId),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.src=t.src}))};function i(){return(i=Object(me.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return i.apply(this,arguments)})().then((function(e){console.log(e)})).catch(console.error)},this.Use=function(e){e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.TextureId)},this.Use2=function(e){e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,a.TextureId)},this.Name=t,this.TextureId=null})),Bn=Mn,Dn=n(155),Un=n.n(Dn),zn=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).resize=function(e){console.log("resize",null===e||void 0===e?void 0:e.target.innerWidth),e&&r.canvas&&(r.canvas.width=null===e||void 0===e?void 0:e.target.innerWidth,r.canvas.height=null===e||void 0===e?void 0:e.target.innerHeight)},r.resizeCanvas=function(e,t){r.canvas.width=t,r.canvas.height=e,r.drawCanvas()},r.setTextures=function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a,i,s,o,c,l,d;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(Ne.a)(r),a=n.gl,n.CurrntPose,n.Textures,n.textures,i=0,s=Object.entries(t);case 2:if(!(i<s.length)){e.next=11;break}return o=Object(u.a)(s[i],2),c=o[0],l=o[1],d=new Bn(c.toUpperCase(),a),e.next=7,d.BindTexture(a,l);case 7:r.Textures[c.toUpperCase()]=d;case 8:i++,e.next=2;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.ChangetoCurrent=function(){var e=Object(Ne.a)(r),t=e.gl,n=(e.CurrntPose,e.Textures),a=(e.textures,document.getElementById("saree-image-value").value),i=document.getElementById("pallu-image-value").value,s=document.getElementById("blouse-image-value").value;a&&""!==a&&i&&""!==i&&s&&""!==s&&(n.SAREE.BindTexture(t,a),n.PALLU.BindTexture(t,i),n.BLOUSE.BindTexture(t,s),r.setState({curSareeGetted:!0}),document.getElementById("saree-image-value").value="",document.getElementById("pallu-image-value").value="",document.getElementById("blouse-image-value").value="")},r.resizeEvent=function(){},r.intEvents=function(){var e=Object(Ne.a)(r),t=(e.gl,e.canvas),n=e.camera;r.mc=new Un.a.Manager(t);var a=new Un.a.Pinch,i=(new Un.a.Rotate,new Un.a.Pan);r.mc.add([a,i]);var s=Object(Ne.a)(r);r.mc.on("pinch",(function(e){s.camera.pinch(e)})),r.mc.get("pan").set({direction:Un.a.DIRECTION_ALL}),r.mc.on("panleft panright panup pandown tap press",(function(e){s.state.isRotate?s.camera.rotate(e):s.camera.pan(e)})),t.onwheel=function(e){n.MouseWheel(e)}},r.changeskintone=function(){r.mannq=r.Mannequins[r.CurrntPose];for(var e=Wt.c.fromValues(r.pixelvalue[0],r.pixelvalue[1],r.pixelvalue[2]),t=0;t<r.mannq.length;t++)r.mannq[t].Name.toUpperCase().includes("BODY")&&(r.mannq[t].gDirectionalLightbasecolor=e);r.Mannequins[r.CurrntPose]=r.mannq},r.startTimer=function(){r.timerInterval=setInterval((function(){r.camera.yawAngle+=.03}),100)},r.drawCanvas=function(){var e=Object(Ne.a)(r),t=e.gl,n=e.Mannequins,a=e.camera,i=e.shaderNormal,s=e.CurrntPose,o=(e.Buttons,e.Textures,e.logobtn,e.closebtn,r.state);o.DoRender,o.curSareeGetted,o.reqframe,o.collapsebtn;if(r.gl.viewport(0,0,r.gl.canvas.width,r.gl.canvas.height),r.camera.AspectRatio=r.gl.canvas.width/r.gl.canvas.height,t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),r.props.isTransparent?t.clearColor(0,0,0,0):t.clearColor(20/255,26/255,62/255,1),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),i.setUnifromLocations(a,t),i.bind(t),r.mannq=n[s],r.mannq)for(var c=0;c<r.mannq.length;c++){var l;if(null===(l=r.Textures[r.mannq[c].Name])||void 0===l||l.Use(t),r.mannq[c].IsAlphaMap){r.Textures["alpha"+r.mannq[c].Name].Use2(t);var d=i.getUniformLoc("isalphamap");t.uniform1i(d,1);var u=i.getUniformLoc("alphamap");t.uniform1i(u,1)}else{d=i.getUniformLoc("isalphamap");t.uniform1i(d,0)}r.mannq[c].Update(a,t,i)}d=i.getUniformLoc("isalphamap");t.uniform1i(d,0)},r.draw=function(){var e=Object(Ne.a)(r),t=e.gl,n=(e.Mannequins,e.camera,e.shaderNormal,e.CurrntPose,e.Buttons,e.Textures,e.logobtn,e.closebtn,r.state),a=n.DoRender,i=n.curSareeGetted,s=n.reqframe;n.collapsebtn;if(a)if(r.resizeCanvasToDisplaySize(t.canvas),i){r.drawCanvas();var o=Object(Ne.a)(r);s&&setTimeout((function(){requestAnimationFrame(o.draw)}),50)}else requestAnimationFrame(r.draw)},r.showFile=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r.setState({file:t.target.files[0]}),(n=new FileReader).onload=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r.setState({Imagefile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.target.files[0]&&n.readAsDataURL(t.target.files[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={isplay:!1,reqframe:!1,init:!1,file:null,showLoader:!1,height:300,width:300,isRotate:!0,DoRender:!0},r.gl=null,r.canvas=null,r.width=null,r.height=null,r.camera=null,r.shaderNormal=null,r.renderbuffer=null,r.fboPicking=null,r.PostionText=null,r.FragTexture=null,r.Mannequins={},r.Textures={},r.collapsebtn=!0,r.logobtn=null,r.closebtn=null,r.LFAPose="LFA",r.LAOPose="LAO",r.CurrntPose=null,r.assigned_var_3=null,r.curSareeGetted=!1,r.timePassed=0,r.timeLeft=0,r.timerInterval=null,r.reqframe=!0,r.oynaPanel=document.getElementById("oyna_panel"),r.serverURL="http://localhost",r.urlicon=r.serverURL+"Icons/",r.HostUrl="http://localhost:3001",r.mannq=[],r.Buttons=[],r.canvasRef=a.createRef(),r.losecontext=null,r.resize=r.resize.bind(Object(Ne.a)(r)),r.resizeCanvas=r.resizeCanvas.bind(Object(Ne.a)(r)),window.addEventListener("resize",r.resize),r}return Object(y.a)(n,[{key:"componentWillMount",value:function(){}},{key:"changePose",value:function(e){"lao"===e?this.CurrntPose=this.LAOPose:"lfa"===e&&(this.CurrntPose=this.LFAPose)}},{key:"Init",value:function(){var e=Object(me.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showLoader:!0}),this.canvas=document.getElementById("webglcanvas"),this.canvas.width=document.body.clientWidth>0?document.body.clientWidth:window.innerWidth,this.canvas.height=document.body.clientHeight>0?document.body.clientHeight:window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height,this.gl=this.canvas.getContext("webgl2",{alpha:!!this.props.isTransparent,antialias:!0}),this.gl||(console.error("WebGL 2 not available"),document.body.innerHTML="This Module requires WebGL 2 which is unavailable on this system."),this.gl.getExtension("EXT_color_buffer_float"),this.gl.viewport(0,0,this.width,this.height),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),this.camera=new Rn(this.width/this.height),this.shaderNormal=new Fn("Normal Rendering","#version 300 es\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aNormal;\nlayout (location = 2) in vec2 aTexCoords;\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nout vec3 Normal;\nout vec3 FragPos;\nout vec2 TexCoords;\nout vec4 OriginalPos;\n\nuniform int WithoutModel;\nvoid main()\n{\n  if(WithoutModel==0)\n  OriginalPos = vec4(aPos, 1.0)*model;\n  else\n  OriginalPos = vec4(aPos, 1.0) ;\n  vec4 PosL   = vec4(aPos, 1.0);\n  gl_Position  =PosL*model* view * projection ;// *projection ;\n  TexCoords = aTexCoords;\n  vec4 NormalL =vec4(aNormal, 0.0) ;\n  Normal=(NormalL*model).xyz;\n  FragPos = (PosL*model).xyz;\n  //gl_Position = vec4(aPos, 1.0) * model*inverse(BoneTransform)* view * projection;\n  //FragPos = vec3(vec4(aPos, 1.0)  * model);\n  //Normal = aNormal * mat3(transpose(inverse(model )));\n  //TexCoords = aTexCoords;\n}","#version 300 es\nprecision highp float;\nconst int MAX_POINT_LIGHTS = 2;\nconst int MAX_SPOT_LIGHTS = 2;\n\nin vec2 TexCoords;\nin vec3 Normal;                                                                   \nin vec3 FragPos;  \nin vec4 OriginalPos;\n\nstruct VSOutput\n{\n    vec2 TexCoord;\n    vec3 Normal;                                                                   \n    vec3 WorldPos;                                                                 \n};\n\n\nstruct BaseLight\n{\n    vec3 Color;\n    float AmbientIntensity;\n    float DiffuseIntensity;\n};\n\nstruct DirectionalLight\n{\n    BaseLight Base;\n    vec3 Direction;\n};\n                                                                                    \nstruct Attenuation                                                                  \n{                                                                                   \n    float Constant;                                                                 \n    float Linear;                                                                   \n    float Exp;                                                                      \n};                                                                                  \n                                                                                    \nstruct PointLight                                                                           \n{                                                                                           \n    BaseLight Base;                                                                  \n    vec3 Position;                                                                          \n    Attenuation Atten;                                                                      \n};                                                                                          \n                                                                                            \nstruct SpotLight                                                                            \n{                                                                                           \n    PointLight Base;                                                                 \n    vec3 Direction;                                                                         \n    float Cutoff;                                                                           \n};                                                                                          \n                                                                                            \nuniform int gNumPointLights;                                                                \nuniform int gNumSpotLights;                                                                 \nuniform DirectionalLight gDirectionalLight;        \nuniform DirectionalLight gDirectionalLight2;    \nuniform PointLight gPointLights[MAX_POINT_LIGHTS];                                          \nuniform SpotLight gSpotLights[MAX_SPOT_LIGHTS];                                             \nuniform sampler2D gColorMap;    \nuniform sampler2D alphamap; \nuniform int isalphamap; \nuniform vec3 viewPos;                                                                  \nuniform float gMatSpecularIntensity;                                                        \nuniform float gSpecularPower; \nuniform int LightOff; \nlayout(location = 0) out vec4 FragColor;\nlayout(location = 1) out vec4 position;\nlayout(location = 2) out vec4 normal;\n\nvec4 CalcLightInternal(BaseLight Light, vec3 LightDirection, VSOutput In)            \n{                                                                                           \n    vec4 AmbientColor = vec4(Light.Color * Light.AmbientIntensity, 1.0);\n    float DiffuseFactor = dot(In.Normal, -LightDirection);                                     \n                                                                                            \n    vec4 DiffuseColor  = vec4(0, 0, 0, 0);                                                  \n    vec4 SpecularColor = vec4(0, 0, 0, 0);                                                  \n                                                                                            \n    if (DiffuseFactor > 0.0) {                                                                \n        DiffuseColor = vec4(Light.Color * Light.DiffuseIntensity * DiffuseFactor, 1.0);\n                                                                                            \n        vec3 VertexToEye = normalize(viewPos - In.WorldPos);                             \n        vec3 LightReflect = normalize(reflect(LightDirection, In.Normal));                     \n        float SpecularFactor = dot(VertexToEye, LightReflect);                                      \n        if (SpecularFactor > 0.0) {                                                         \n            SpecularFactor = pow(SpecularFactor, gSpecularPower);\n            SpecularColor = vec4(Light.Color * gMatSpecularIntensity * SpecularFactor, 1.0);\n        }                                                                                   \n    }                                                                                       \n                                                                                            \n    return (AmbientColor + DiffuseColor + SpecularColor);                                   \n}                                                                                           \n                                                                                            \nvec4 CalcDirectionalLight(VSOutput In ,DirectionalLight dirlight)                                                      \n{                                                                                           \n    return CalcLightInternal(dirlight.Base, dirlight.Direction, In);  \n}                                                                                           \n                                                                                            \nvec4 CalcPointLight(PointLight l, VSOutput In)                                       \n{                                                                                           \n    vec3 LightDirection = In.WorldPos - l.Position;                                           \n    float Distance = length(LightDirection);                                                \n    LightDirection = normalize(LightDirection);                                             \n                                                                                            \n    vec4 Color = CalcLightInternal(l.Base, LightDirection, In);                         \n    float Attenuation =  l.Atten.Constant +                                                 \n                         l.Atten.Linear * Distance +                                        \n                         l.Atten.Exp * Distance * Distance;                                 \n                                                                                            \n    return Color / Attenuation;                                                             \n}                                                                                           \n                                                                                            \nvec4 CalcSpotLight(SpotLight l, VSOutput In)                                         \n{                                                                                           \n    vec3 LightToPixel = normalize(In.WorldPos - l.Base.Position);                             \n    float SpotFactor = dot(LightToPixel, l.Direction);                                      \n                                                                                            \n    if (SpotFactor > l.Cutoff) {                                                            \n        vec4 Color = CalcPointLight(l.Base, In);                                        \n        return Color * (1.0 - (1.0 - SpotFactor) * 1.0/(1.0 - l.Cutoff));                   \n    }                                                                                                                                                                            \n}                                                                                           \n                            \n\n                                                                \nvoid main()\n{                                    \n    VSOutput In;\n    In.TexCoord = TexCoords;\n    In.Normal   = normalize(Normal);\n    In.WorldPos = FragPos;\n    position = OriginalPos;\n    normal= vec4(normalize(Normal),0.0);\n    vec4 TotalLight = CalcDirectionalLight(In,gDirectionalLight);                                         \n    TotalLight += CalcDirectionalLight(In,gDirectionalLight2);                                                                                  \n    for (int i = 0 ; i < gNumPointLights ; i++) {                                           \n        TotalLight += CalcPointLight(gPointLights[i], In);                              \n    }                                                                                       \n                                                                                            \n    for (int i = 0 ; i < gNumSpotLights ; i++) {                                            \n        TotalLight += CalcSpotLight(gSpotLights[i], In);                                \n    }                                                                                       \n    // TotalLight *=  vec4(1);      \n    if(isalphamap==1)\n    {\n    //vec4 texcolor=texture(gColorMap, In.TexCoord.xy)*TotalLight ;\n    //vec4 aphacolor=texture(gColorMap, In.TexCoord.xy) ;\n    //FragColor = vec4(0.0,0.0,0.0, aphacolor.r);\n    vec4 texcolor=texture(gColorMap, In.TexCoord.xy);\n    vec4 aphacolor=texture(alphamap, In.TexCoord.xy) ;\n  if(aphacolor.r<0.1)\n   discard;\n    FragColor = vec4(texcolor.x,texcolor.y,texcolor.z,aphacolor.r);//*TotalLight;\n   \n    }\n    else\n    {\n        if(LightOff==1)\n        {\n         vec4 finalcolor =texture(gColorMap, In.TexCoord.xy);  \n        FragColor = vec4(finalcolor.x,finalcolor.y,finalcolor.z,1.0);\n        }\n    else\n    {\n    vec4 finalcolor =texture(gColorMap, In.TexCoord.xy)*TotalLight ;  \n        FragColor = finalcolor ;\n    }\n        \n    }\n\n}\n"),this.shaderNormal.compileShader(this.gl),this.shaderNormal.bind(this.gl),this.shaderNormal.setUnifromLocations(this.camera,this.gl),this.losecontext=this.gl.getExtension("WEBGL_lose_context"),window.addEventListener("resize",this.resizeEvent);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.resize();var e=this;this.props.normalLoad?this.Init():window.addEventListener("message",(function(t){"sendValue"==t.data.call?e.state.sareetextures||(e.setState({sareetextures:t.data}),e.Init()):"openPanel"==t.data.call?e.losecontext.restoreContext():"closePanel"==t.data.call&&e.losecontext.loseContext()}),!1)}},{key:"ColorToImg",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=400,t.height=400;return n.fillStyle="rgba("+255*e[0]+","+255*e[1]+","+255*e[2]+", 0.8)",n.fillRect(0,0,t.width,t.height),t.toDataURL()}},{key:"playpause",value:function(){this.state.isplay?(clearInterval(this.timerInterval),this.setState({reqframe:!0})):(this.setState({reqframe:!0}),this.startTimer()),this.setState({isplay:!this.state.isplay})}},{key:"LoadModelMen",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a,r,i,s,o,c;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.gl,this.LFAPose,this.urlicon,this.timerInterval,r=this.state,r.collapsebtn,r.isplay,r.reqframe,i=JSON.parse(t),this.CurrntPose=n,this.mannq=[],this.Buttons=[],this,s=0;s<i.meshes.length;s++)(o=new En(i.meshes[s].vertices,i.meshes[s].Faces,i.meshes[s].IsColor,a)).Name=i.meshes[s].Name,o.IsAlphaMap=i.meshes[s].IsAlphaMap,this.mannq.push(o);for(this.Mannequins[n]=this.mannq,s=0;s<i.Textures.length;s++)"SHERWANI_SHIRT"!==i.Textures[s].Name.toUpperCase()&&"SHERWANI_PANT"!==i.Textures[s].Name.toUpperCase()&&"SHERWANI_SHAWL"!==i.Textures[s].Name.toUpperCase()&&"SHALL"!==i.Textures[s].Name.toUpperCase()&&"PANT"!==i.Textures[s].Name.toUpperCase()&&"BUTTON"!==i.Textures[s].Name.toUpperCase()&&"SHIRT"!==i.Textures[s].Name.toUpperCase()&&((c=new Bn(i.Textures[s].Name,a)).BindTexture(a,"data:image/"+i.Textures[s].Extention+";base64,"+i.Textures[s].ImgByte),this.Textures[i.Textures[s].Name]=c);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"LoadModel",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a,r,i,s,o,c;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.gl,this.LFAPose,this.urlicon,this.timerInterval,r=this.state,r.collapsebtn,r.isplay,r.reqframe,i=JSON.parse(t),this.CurrntPose=n,this.mannq=[],this.Buttons=[],this,s=0;s<i.meshes.length;s++)(o=new En(i.meshes[s].vertices,i.meshes[s].Faces,i.meshes[s].IsColor,a)).Name=i.meshes[s].Name,o.IsAlphaMap=i.meshes[s].IsAlphaMap,this.mannq.push(o);for(this.Mannequins[n]=this.mannq,s=0;s<i.Textures.length;s++)"SAREE"!==i.Textures[s].Name.toUpperCase()&&"PALLU"!==i.Textures[s].Name.toUpperCase()&&"BLOUSE"!==i.Textures[s].Name.toUpperCase()&&((c=new Bn(i.Textures[s].Name,a)).BindTexture(a,"data:image/"+i.Textures[s].Extention+";base64,"+i.Textures[s].ImgByte),this.Textures[i.Textures[s].Name]=c);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"resizeCanvasToDisplaySize",value:function(e){var t=2*window.devicePixelRatio,n=e.getBoundingClientRect(),a=n.width,r=n.height,i=Math.round(a*t),s=Math.round(r*t),o=e.width!=i||e.height!=s;return o&&(e.width=i,e.height=s),this.gl.viewport(0,0,i,s),o}},{key:"dataURLtoFile",value:function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,s=new Uint8Array(i);i--;)s[i]=r.charCodeAt(i);return new File([s],t,{type:a})}},{key:"InitWindow",value:function(){var e=this;this.intEvents(),this.state.sareetextures?this.setTextures(this.state.sareetextures):this.setTextures({sareeImg:void 0,palluImg:void 0,blouseImg:void 0}),setTimeout((function(){e.canvas.style.display="block",e.setState({DoRender:!0,curSareeGetted:!0,reqframe:!0}),e.draw()}),2e3)}},{key:"resumeDraw",value:function(){this.setState({DoRender:!0});var e=this;setTimeout((function(){e.draw()}),20)}},{key:"render",value:function(){return Object(g.jsx)("canvas",{className:"canvas-container",onContextMenu:function(e){return e.preventDefault()},style:{height:"100%",top:0,left:0,width:"100%"},id:"webglcanvas"})}}]),n}(a.Component),Gn=zn,qn=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).resize=function(){r.setState({height:window.innerHeight,width:window.innerWidth})},r.showFile=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("Show File"),r.setState({file:t.target.files[0]}),(n=new FileReader).onload=function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r.setState({Imagefile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.target.files[0]&&n.readAsDataURL(t.target.files[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),console.log(e),r.state={collapsebtn:!0,isplay:!1,init:!1,file:null,products:[],showProducts:!1,isExpand:!1,isExpandsecond:!0},r.timePassed=0,r.timeLeft=0,r.timerInterval=null,r.serverURL="http://localhost",r.urlicon=r.serverURL+"Icons/",r.HostUrl="http://localhost:3001",r.oynaEngine=a.createRef(),r}return Object(y.a)(n,[{key:"LoadProducts",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i,s,o,c=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,Mt.getProducts("women");case 3:for(t=e.sent,console.log(t),this.setState({products:t}),n=[],a=0;a<t.length;a++)n.push(t[a].images[0].filename);if(void 0!==t[0]){e.next=10;break}return e.abrupt("return");case 10:return this.SelectProduct(t[0]),r={fileids:n},e.next=14,Mt.get_images(r);case 14:for(i=e.sent,s=function(e){t.filter((function(t){return t.images[0].filename===i[e].filename}))[0];t[e].img=i[e].img,c.setState({products:t})},o=0;o<i.length;o++)s(o);return this.setState({products:[]}),this.setState({products:t}),console.log(t),e.abrupt("return");case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"SelectProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a,r,i,s,o,c,l;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({showLoader:!0}),console.log("clicked",t),{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},n=[],a=0;a<t.images.length;a++)n.push(t.images[a].filename);return r={fileids:n},e.next=8,Mt.get_images(r);case 8:for(i=e.sent,s={},o=function(e){var n=t.images.filter((function(t){return t.filename===i[e].filename}))[0];"SAREE"===n.originalname.toUpperCase()?s.SAREE=i[e].img:"PALLU"===n.originalname.toUpperCase()?s.PALLU=i[e].img:"BLOUSE"===n.originalname.toUpperCase()&&(s.BLOUSE=i[e].img)},c=0;c<i.length;c++)o(c);return e.next=14,this.oynaEngine.current.setTextures(s);case 14:l=this,setTimeout((function(){l.state.width<1024&&l.setState({showProducts:!1}),l.setState({showLoader:!1})}),1e3);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initModels",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.a.getItem("Model");case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,this.oynaEngine.current.LoadModel(t,this.LFAPose);case 6:e.next=11;break;case 8:return n=this,e.next=11,new Ht.a.external.Promise((function(e,t){Xt.a.getBinaryContent(Rt+"Models/lao.zip",(function(n,a){n?t(n):e(a)}))})).then((function(e){return Ht.a.loadAsync(e)})).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){n.oynaEngine.current.LoadModel(e,n.oynaEngine.current.LFAPose),Qt.a.setItem("Model",e)}),(function(e){}));case 11:return e.next=13,Qt.a.getItem("Real_Model");case 13:if(!(a=e.sent)){e.next=17;break}return e.next=17,this.oynaEngine.current.LoadModel(a,this.oynaEngine.current.LAOPose);case 17:this.oynaEngine.current.InitWindow(),this.oynaEngine.current.setState({showLoader:!1});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.resize();var t=this;this.props.normalLoad?(this.oynaEngine.current.Init(),this.initModels(),this.LoadProducts()):window.addEventListener("message",(function(e){"sendValue"==e.data.call?(console.log("send value",e),t.state.sareetextures||(t.oynaEngine.current.setState({sareetextures:e.data}),t.oynaEngine.current.Init())):"openPanel"==e.data.call?(console.log("openPanel",e),t.oynaEngine.current.losecontext.restoreContext()):"closePanel"==e.data.call&&(console.log("closePanel",e),t.oynaEngine.current.losecontext.loseContext())}),!1);var n=document.getElementById("enginecanvas");n.addEventListener("resize",(function(){})),window.addEventListener("resize",(function(e){}));var a=new ResizeObserver((function(){var t,r;console.log("divEnginge.clientWidth",n.clientWidth),null===(t=e.oynaEngine)||void 0===t||null===(r=t.current)||void 0===r||r.resizeCanvas(n.clientHeight,n.clientWidth),console.log("The element was resized",a)}));a.observe(n)}},{key:"ProfileShot",value:function(){var e=this;return Object(g.jsx)("div",{style:{backgroundColor:"white",zIndex:15,position:"absolute"},id:"addbranchmodal",role:"dialog","aria-labelledby":"addbranchmodal","aria-hidden":"true",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h6",{children:"This is New Feature"}),Object(g.jsx)("input",{type:"file",onChange:function(t){return e.showFile(t)}}),Object(g.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:function(){e.setState({showModal:!1})},children:"Close"})]})})}},{key:"dataURLtoFile",value:function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,s=new Uint8Array(i);i--;)s[i]=r.charCodeAt(i);return new File([s],t,{type:a})}},{key:"GetAvatar",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a,r,i,s,o=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,console.log(n),r=this.dataURLtoFile(this.state.Imagefile,{profile:sn}),a.append("avatarfile",r),a.append("height",n.height),a.append("weight",n.weight),a.append("hairstyle",n.hairStyle),i=this,console.log(i.HostUrl+"/AvatarGenerator"),s={headers:{"content-type":"multipart/form-data",Authorization:""},responseType:"arraybuffer",onUploadProgress:function(e){console.log({progress:Math.round(100*e.loaded/e.total)}),o.setState({progress:Math.round(100*e.loaded/e.total)})}},e.next=12,Ie.a.post(i.HostUrl+"/AvatarGenerator",a,s).then(function(){var e=Object(me.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),Ht.a.loadAsync(t.data).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){console.log(e),i.LoadModel(e,i.LAOPose),Qt.a.setItem("Real_Model",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"proceedGenerate",value:function(){var e=Object(me.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showLoader:!0,showModal:!1}),e.next=3,this.GetAvatar(this.state.file,t);case 3:this.setState({showLoader:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeDraw",value:function(){this.setState({DoRender:!0});var e=this;setTimeout((function(){e.oynaEngine.current.draw()}),20)}},{key:"render",value:function(){var e=this,t=this.state,n=t.width,a=(t.showProducts,{width:"100%",height:"100%",borderRadius:"50%",clipPath:"circle(80% at center)"}),r=[{img:Object(g.jsx)("img",{src:xn,onClick:function(){e.oynaEngine.current.pixelvalue=Wt.c.fromValues(180/255,140/255,120/255),e.oynaEngine.current.changeskintone()},style:a})},{img:Object(g.jsx)("img",{src:Cn,onClick:function(){e.oynaEngine.current.pixelvalue=Wt.c.fromValues(220/255,180/255,160/255),e.oynaEngine.current.changeskintone()},style:a})},{img:Object(g.jsx)("img",{src:wn,onClick:function(){e.oynaEngine.current.pixelvalue=Wt.c.fromValues(240/255,240/255,240/255),e.oynaEngine.current.changeskintone()},style:a})},{img:Object(g.jsx)("img",{src:yn,onClick:function(){e.oynaEngine.current.pixelvalue=Wt.c.fromValues(230/255,210/255,180/255),e.oynaEngine.current.changeskintone()},style:a})}],i=[{img:Object(g.jsxs)("div",{role:"button",href:"#0",onClick:function(){e.oynaEngine.current.changePose("lfa"),window.location=window.location.href.replace("#menu","#0")},children:[" ",Object(g.jsx)("img",{src:On,style:a})]})},{img:Object(g.jsx)("div",{role:"button",onClick:function(){e.oynaEngine.current.changePose("lao"),window.location=window.location.href.replace("#menu","#0")},children:Object(g.jsx)("img",{src:this.state.Imagefile?this.state.Imagefile:vn,class:"rounded-full object-cover",style:{width:"60px",height:"50px"}})})},{img:Object(g.jsx)("div",{role:"button",onClick:function(){n<1024&&e.setState({DoRender:!1}),e.setState({showModal:!0}),window.location=window.location.href.replace("#menu","#0")},children:Object(g.jsx)("img",{role:"button",src:vn,style:a})})}];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:[this.state.isExpandsecond?Object(g.jsx)("div",{className:"z-10 fixed top-3 left-3 text-white cursor-pointer",onClick:function(){e.setState({isExpand:!e.state.isExpand}),console.log("Click me");var t=e;setTimeout((function(){t.setState({isExpandsecond:!t.state.isExpand})}),0)},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M4 6h16M4 12h16M4 18h7"})})}):Object(g.jsx)("div",{}),Object(g.jsx)("div",{className:"relative",children:Object(g.jsxs)("div",{className:"flex h-screen w-full",children:[Object(g.jsx)("div",{className:"container2 ".concat(this.state.isExpand?"w-full":"w-0"," left-0 bg-transparent"),children:Object(g.jsx)(qt,{products:this.state.products,SelectProduct:function(t){e.SelectProduct(t)},origin:"women",setTextures:function(t){e.engineRef.current.setTextures(t)},setLoading:function(t){return e.setState({showLoader:t})},Close:function(){e.setState({isExpand:!e.state.isExpand});var t=e;setTimeout((function(){t.setState({isExpandsecond:!t.state.isExpand})}),0)}})}),Object(g.jsxs)("div",{id:"enginecanvas",className:"container2  grow ".concat(this.state.isExpandsecond?"w-full":"w-1/2"," "),children:[Object(g.jsx)(Gn,{ref:this.oynaEngine}),this.state.showModal&&Object(g.jsx)("div",{style:{zIndex:3},children:Object(g.jsx)(jn,{showFile:function(t){return e.showFile(t)},imageFile:this.state.Imagefile,isMobile:this.props.isMobile,setImageFile:function(t){return e.setState({Imagefile:t})},proceedGenerate:function(t){return e.proceedGenerate(t)},close:function(){e.setState({showModal:!1}),e.resumeDraw()}})}),!this.state.showModal&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:{right:10,top:20,position:"fixed",color:"white"},children:Object(g.jsx)("button",{onClick:function(){e.oynaEngine.current.playpause(),e.setState({isplay:!e.state.isplay})},children:this.state.isplay?Object(g.jsx)("img",{src:bn,alt:"Avatar",style:{width:"70px"}}):Object(g.jsx)("img",{src:kn,alt:"Avatar",style:{width:"70px"}})})}),Object(g.jsx)("div",{style:{right:20,top:160,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(Kt,{name:"models",MenuButtons:i,MenuIcon:Object(g.jsx)("img",{src:mn,style:{backgroundColor:"rgb(20,26,62)",width:"100%",height:"100%"}})})}),Object(g.jsx)("div",{style:{right:20,top:240,position:"fixed",color:"white"},children:Object(g.jsx)(Zt,{name:"skintone",MenuButtons:r,MenuIcon:Object(g.jsx)("img",{src:xn,style:{width:"100%",height:"100%"}})})})]}),this.props.normalLoad&&!this.state.showModal&&Object(g.jsx)(g.Fragment,{children:n<1024&&Object(g.jsx)("div",{style:{right:10,top:260,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)("img",{src:Sn,style:{width:"70px",height:"70px",borderRadius:"50%",clipPath:"circle(80% at center)"},onClick:function(){e.setState({showProducts:!0,DoRender:!1})}})})}),this.state.showLoader&&Object(g.jsx)("div",{style:{position:"fixed",textAlign:"center",zIndex:25},children:Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"rotateimg",src:An,style:{display:"block",margin:"auto",position:"fixed",left:"0",right:"0",top:"0",bottom:"0",padding:"10%"}})})}),this.oynaEngine.current&&Object(g.jsx)("div",{style:{right:10,bottom:10,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(_.a,{style:{color:"white",width:"50px",height:"50px"},onClick:function(){return e.oynaEngine.current.setState({isRotate:!e.oynaEngine.current.state.isRotate})},children:this.oynaEngine.current.state.isRotate?Object(g.jsx)(Tn.a,{style:{color:"white",width:"50px",height:"50px"}}):Object(g.jsx)(Pn.a,{style:{color:"white",width:"50px",height:"50px"}})})}),Object(g.jsx)("div",{style:{right:70,bottom:10,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(_.a,{style:{color:"white",width:"50px",height:"50px"},onClick:function(){return e.oynaEngine.current.camera.reset()},children:Object(g.jsx)(_n.a,{style:{color:"white",width:"50px",height:"50px"}})})})]})]})})]})})}}]),n}(a.Component),Wn=qn,Jn=(n(555),n(691)),Hn=n(696),Vn=n(692),Xn=n(704),Yn=n(703),Qn=n(697),Kn=n(689),Zn=n(356),$n=Object(Zn.a)();$n.typography.h3=Object(M.a)({fontSize:"1.2rem","@media (min-width:600px)":{fontSize:"1.5rem"}},$n.breakpoints.up("md"),{fontSize:"2rem"});var ea=Object(tn.a)(Kn.a)((function(e){var t,n=e.theme;return t={position:"relative",height:200},Object(M.a)(t,n.breakpoints.down("sm"),{width:"100% !important",height:100}),Object(M.a)(t,"&:hover, &.Mui-focusVisible",{zIndex:1,"& .MuiImageBackdrop-root":{opacity:.5},"& .MuiImageMarked-root":{opacity:0},"& .MuiTypography-root":{border:"4px solid currentColor"}}),t})),ta=(Object(tn.a)("span")({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"}),Object(tn.a)("span")((function(e){return{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.theme.palette.common.white}}))),na=Object(tn.a)("span")((function(e){var t=e.theme;return{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:t.palette.common.black,opacity:.4,transition:t.transitions.create("opacity")}})),aa=Object(tn.a)("span")((function(e){var t=e.theme;return{height:3,width:18,backgroundColor:t.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:t.transitions.create("opacity")}}));function ra(e){var t=e.onclickBtn,n=e.images,a=e.width;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"py-2 px-1 font-bold text-base",children:"Product Images"}),Object(g.jsx)(nn.a,{sx:{borderRadius:3,display:"flex",flexDirection:"row",minWidth:300,width:{width:a},color:"secondary.main",p:1,m:1,border:1},children:n.map((function(e){return Object(g.jsxs)(ea,{focusRipple:!0,style:{width:e.width,height:e.height,top:e.top,alignItems:"center"},onClick:function(){return t(e.title)},children:[Object(g.jsx)(ta,{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%",backgroundImage:'url("'.concat(e.url,'")')}}),Object(g.jsx)(na,{className:"MuiImageBackdrop-root"}),Object(g.jsx)(ta,{children:Object(g.jsxs)(an.a,{component:"span",variant:"subtitle1",color:"inherit",sx:{position:"relative",p:4,pt:2,pb:function(e){return"calc(".concat(e.spacing(1)," + 6px)")}},children:[e.title,Object(g.jsx)(aa,{className:"MuiImageMarked-root"})]})})]},e.title)}))})]})}var ia=n(686),sa=n(680),oa=n(38);n(339);oa.a.configure();var ca=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).onFileChange=function(e){var t=new FileReader;t.onload=function(){var e=Object(me.a)(be.a.mark((function e(t){var n,r,i,s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=a.state,i=r.selectCategory,s=r.curImage,i.filter((function(e){return e.title===s}))[0].url=n,a.setState({selectCategory:[]}),a.setState({selectCategory:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.target.files[0]&&t.readAsDataURL(e.target.files[0])},a.imageClick=function(){document.getElementById("choosefile").click()},a.state={selectedFile:null,sareeFile:null,palluFile:null,blouseFile:null,productprice:0,isUpdate:!1,buttontext:"Add Product",productname:"",productquantity:1,name:"",qr:"",quantity:"",price:"",types:[],selectWidth:"0%",selectCategory:[],images:[{url:"",title:"Saree",width:"30%",height:"300px",top:"0px"},{url:"",title:"Pallu",width:"30%",height:"300px",top:"0px"},{url:"",title:"Blouse",width:"40%",height:"200px",top:"50px"}],nonSareeImages:[{url:"",title:"",width:"100%",height:"300px",top:"0px"}]},a.onFileChange=a.onFileChange.bind(Object(Ne.a)(a)),a.createProduct=a.createProduct.bind(Object(Ne.a)(a)),a.updateProduct=a.updateProduct.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"LoadData",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if({headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},!(t=this.props.location.state.selectdata)){e.next=4;break}return e.delegateYield(be.a.mark((function e(){var r,i,s,o,c,l;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a.setState({selectData:t,name:t.name,qr:t.qr,quantity:t.quantity,price:t.price,isUpdate:!0,buttontext:"Update Product"}),r=[],i=0;i<t.images.length;i++)r.push(t.images[i].filename);return n={fileids:r},s=a.state.images,e.next=7,Mt.get_images(n);case 7:for(o=e.sent,{},c=function(e){var n=t.images.filter((function(t){return t.filename===o[e].filename}))[0];if("SAREE"===n.originalname.toUpperCase())s.filter((function(e){return"Saree"===e.title}))[0].url=o[e].img;else if("PALLU"===n.originalname.toUpperCase()){s.filter((function(e){return"Pallu"===e.title}))[0].url=o[e].img}else if("BLOUSE"===n.originalname.toUpperCase()){s.filter((function(e){return"Blouse"===e.title}))[0].url=o[e].img}},l=0;l<o.length;l++)c(l);a.setState({images:[]}),a.setState({images:s});case 13:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){console.log("this.props",this.props),this.props.location.state&&this.LoadData(),this.loadCatlog()}},{key:"loadCatlog",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i,s,o,c,l,d=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,Mt.get_alltype();case 3:n=e.sent,a=0;case 5:if(!(a<n.length)){e.next=13;break}return r={_id:n[a]._id},e.next=9,Mt.get_Categories(r);case 9:n[a].catlog=e.sent;case 10:a++,e.next=5;break;case 13:for(i=n[0].catlog,s=[],o=0;o<i.length;o++)c=i[o],"saree"===c.name.toString().toLowerCase()?c.selectedImage=this.state.images:(l=this.state.nonSareeImages,c.selectedImage=l),s[o]=c;this.setState({types:n,type:n[0]._id.toString(),Categories:s,Category:null===(t=n[0].catlog[0])||void 0===t?void 0:t._id}),setTimeout((function(){d.setState({type:n[0]._id.toString()})}),20);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataURLtoFile",value:function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,s=new Uint8Array(i);i--;)s[i]=r.charCodeAt(i);return new File([s],t,{type:a})}},{key:"createProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=this.addProduct(),a=this,oa.a.promise(n,{pending:{render:function(){return"Adding.."},icon:!1},success:{render:function(e){return a.setState({qr:"",name:"",quantity:"",price:""}),"Product created successfully!"},icon:"\ud83d\udfe2"},error:{render:function(e){var t=e.res;return"".concat(t," cannot added!")}}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for({headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("token")).token},onUploadProgress:function(e){console.log({progress:Math.round(100*e.loaded/e.total)}),r.setState({progress:Math.round(100*e.loaded/e.total)})}},console.log("this.state.Category",this.state.Category.name),(t=new FormData).append("qr",this.state.qr),t.append("name",this.state.name),t.append("quantity",this.state.quantity),t.append("price",this.state.price),t.append("fileCount",this.state.images.length),t.append("type",this.state.type),t.append("category",this.state.Category._id),n=0;n<this.state.selectCategory.length;n++)t.append("images",this.dataURLtoFile(this.state.selectCategory[n].url,this.state.selectCategory[n].title));return e.next=13,Mt.addProduct(t);case 13:a=e.sent,console.log("response",a);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.productUpdate(),oa.a.promise(n,{pending:{render:function(){return"Updating.."},icon:!1},success:{render:function(e){return"Product Updated successfully!"},icon:"\ud83d\udfe2"},error:{render:function(e){e.res;return"cannot updated!"}}});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"productUpdate",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"content-type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},t={qr:this.state.qr,name:this.state.name,quantity:this.state.quantity,price:this.state.price,fileid:this.state.selectData.id,category:this.state.Category},e.next=4,Mt.updateProduct(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"chamgeType",value:function(e){var t=e.target.value,n=this.state.types.filter((function(e){return e._id===t._id}))[0].catlog;console.log("_type",t),console.log("newCategories",n);for(var a=[],r=0;r<n.length;r++){var i=n[r];if("saree"===i.name.toString().toLowerCase())i.selectedImage=this.state.images;else{var s=this.state.nonSareeImages;i.selectedImage=s}a[r]=i}this.setState({type:t.name,Categories:a})}},{key:"chamgeCategory",value:function(e){var t=e.target.value;console.log("selectCateogry",t);var n=t.selectedImage;n[0].title=t.name,this.setState({selectCategory:n}),this.setState({Category:e.target.value})}},{key:"render",value:function(){var e=this;return Object(g.jsx)(b,{children:Object(g.jsxs)("div",{className:"px-5 py-5",children:[Object(g.jsx)("div",{className:"px-2 py-2 font-bold text-lg",children:"Create New Product"}),Object(g.jsxs)(nn.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:["  ",Object(g.jsx)(Jn.a,{required:!0,id:"outlined-required",label:"Product QR",defaultValue:"",value:this.state.qr,onChange:function(t){return e.setState({qr:t.target.value})}}),Object(g.jsx)(Jn.a,{required:!0,id:"outlined-required",label:"Product Name",defaultValue:"",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),Object(g.jsxs)(Yn.a,{sx:{m:1},children:[Object(g.jsx)(Vn.a,{htmlFor:"outlined-adornment-amount",children:"Price"}),Object(g.jsx)(Hn.a,{id:"outlined-adornment-amount",value:this.state.price,onChange:function(t){return e.setState({price:t.target.value})},startAdornment:Object(g.jsx)(Xn.a,{position:"start",children:"\u20a8"}),label:"Price",type:"number"})]}),Object(g.jsxs)(Yn.a,{sx:{m:1},children:[Object(g.jsx)(Vn.a,{htmlFor:"outlined-adornment-amount",children:"Quantity"}),Object(g.jsx)(Hn.a,{id:"outlined-adornment-amount",value:this.state.quantity,onChange:function(t){return e.setState({quantity:t.target.value})},startAdornment:Object(g.jsx)(Xn.a,{position:"start",children:"No."}),label:"Quantity",type:"number",default:1})]}),Object(g.jsxs)(Yn.a,{sx:{m:1,minWidth:120},children:[Object(g.jsx)(Vn.a,{id:"types-label",children:"Type"}),Object(g.jsx)(sa.a,{labelId:"types",id:"types-label",value:this.state.type,label:"Types",onChange:function(t){return e.chamgeType(t)},children:this.state.types.map((function(e,t){return Object(g.jsx)(ia.a,{value:e,children:e.name})}))})]}),this.state.type&&Object(g.jsxs)(Yn.a,{sx:{m:1,minWidth:120},children:[Object(g.jsx)(Vn.a,{id:"Category-label",children:"Category"}),Object(g.jsx)(sa.a,{labelId:"Category",id:"types-label",value:this.state.Category,label:"Category",onChange:function(t){return e.chamgeCategory(t)},children:this.state.Categories&&this.state.Categories.map((function(e,t){return Object(g.jsx)(ia.a,{value:e,children:e.name})}))})]}),this.state.images&&Object(g.jsx)(ra,{onclickBtn:function(t){e.setState({curImage:t}),e.imageClick()},images:this.state.selectCategory,width:this.state.selectWidth}),Object(g.jsx)("input",{style:{visibility:"hidden"},id:"choosefile",type:"file",accept:"image/*",onChange:this.onFileChange}),Object(g.jsx)(Qn.a,{style:{left:"10%",top:"20px"},variant:"contained",size:"large",onClick:function(t){e.state.isUpdate?e.updateProduct(t):e.createProduct(t)},children:this.state.buttontext})]})]})})}}]),n}(a.PureComponent),la=(Object(l.i)(ca),n(164)),da=n.n(la),ua=n(196),ha=n.n(ua);oa.a.configure();var pa=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={rows:null,copyRows:null,columns:null,paginationCount:50,currentPage:"",paginationLimit:4},a.currentlySelected=a.currentlySelected.bind(Object(Ne.a)(a)),a.deleteprod=a.deleteprod.bind(Object(Ne.a)(a)),a.editProduct=a.editProduct.bind(Object(Ne.a)(a)),a.nextPagination=a.nextPagination.bind(Object(Ne.a)(a)),a.prevPagination=a.prevPagination.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.LoadData(),setTimeout((function(){e.setPagination(1)}),2e3)}},{key:"currentlySelected",value:function(e){var t=e.colDef.field;e.api;if("edit"===t||"delete"===t)if("edit"===t)this.props.history.push({pathname:"/products/addproducts",state:{selectdata:e.row}});else if("delete"===t){for(var n={headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},a=[],r=0;r<e.row.images.length;r++)a.push(e.row.images[r].filename);var i={fileids:a,_id:e.row._id};this.deleteSelected(i,n)}}},{key:"deleteprod",value:function(e){for(var t={headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},n=[],a=0;a<e.images.length;a++)n.push(e.images[a].filename);var r={fileids:n,_id:e.id},i=this,s=this.deleteSelected(r,t);oa.a.promise(s,{pending:{render:function(){return"deleting.."},icon:!1},success:{render:function(t){var n=i.state.rows.filter((function(t,n){return e.id!==t.id}));return i.setState({rows:n}),"".concat(e.name," deleted successfully!")},icon:"\ud83d\udfe2"},error:{render:function(e){var t=e.res;return"".concat(t," cannot deleted!")}}})}},{key:"deleteSelected",value:function(e,t){return Mt.deleteProduct(e)}},{key:"LoadData",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i,s,o,c,l=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",t=[{field:"_id",headerName:"No."},{field:"thumbnail",headerName:"Thumbnail",height:120,renderCell:function(e){return Object(g.jsx)("img",{src:e.value,width:"70",height:"70"})}},{field:"name",headerName:"Name",type:"string",minWidth:200,resizable:!0},{field:"categoryname",headerName:"Category",type:"string"},{field:"price",headerName:"Price"},{field:"quantity",headerName:"Quantity (tax excl.)"},{field:"show",headerName:"Online"},{field:"createdAt",headerName:"CreatedAt"},{field:"edit",headerName:"Edit",width:150,height:120,renderCell:function(e){return Object(g.jsx)(Qn.a,{variant:"contained",color:"primary",onClick:function(t){return l.editProduct(e)},startIcon:Object(g.jsx)(ha.a,{}),children:"Edit"})}},{field:"delete",headerName:"Delete",width:150,height:120,renderCell:function(e){return Object(g.jsx)(Qn.a,{variant:"contained",color:"secondary",startIcon:Object(g.jsx)(da.a,{}),onClick:function(t){return l.deleteprod(e)},children:"Delete"})}}],this.setState({columns:t}),[{id:1,thumbnail:ln,filename:ln,__V:"Snow",qr:"jon",name:"Normal",price:"$1233",type:"10",show:"available",store:"11",createdAt:"111"}],{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=7,Mt.getProducts("all");case 7:for(n=(n=e.sent).map((function(e,t){var n;return e.id=e._id,e.categoryname=null===(n=e.category)||void 0===n?void 0:n.name,e._id=t+1,e})),this.setState({rows:n}),a=[],r=0;r<n.length;r++)a.push(n[r].images[0].filename);return i={fileids:a},e.next=15,Mt.get_images(i);case 15:for(s=e.sent,o=function(e){n.filter((function(t){return t.images[0].filename===s[e].filename}))[0];n[e].thumbnail=s[e].img,l.setState({rows:n})},c=0;c<s.length;c++)o(c);this.setState({rows:n,copyRows:n}),this.setState({paginationCount:n.length,currentPage:1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editProduct",value:function(e){console.log("item",e),this.props.history.push({pathname:"/products/addproducts",state:{selectdata:e}})}},{key:"setPagination",value:function(e){this.setState({currentPage:e,rows:this.state.copyRows});var t=e*this.state.paginationLimit-this.state.paginationLimit,n=t+this.state.paginationLimit,a=this.state.copyRows.sort((function(e,t){return e._id>t._id?1:t._id>e._id?-1:0})).slice(t,n);this.setState({rows:a})}},{key:"nextPagination",value:function(e){if(e.preventDefault(),this.state.paginationCount!==this.state.currentPage*this.state.paginationLimit){var t=(this.state.currentPage+1)*this.state.paginationLimit-this.state.paginationLimit,n=t+this.state.paginationLimit,a=this.state.copyRows.sort((function(e,t){return e._id>t._id?1:t._id>e._id?-1:0})).slice(t,n);this.setState({rows:a,currentPage:this.state.currentPage+1})}}},{key:"prevPagination",value:function(e){if(e.preventDefault(),1!==this.state.currentPage){var t=(this.state.currentPage-1)*this.state.paginationLimit-this.state.paginationLimit,n=t+this.state.paginationLimit,a=this.state.copyRows.sort((function(e,t){return e._id>t._id?1:t._id>e._id?-1:0})).slice(t,n);this.setState({rows:a,currentPage:this.state.currentPage-1})}}},{key:"render",value:function(){for(var e=this,t=[],n=1,a=0;a<this.state.paginationCount;a+=this.state.paginationLimit)t.push(n),n+=1;return Object(g.jsxs)(b,{children:[Object(g.jsxs)("div",{className:"lg:flex lg:items-center lg:justify-between py-2 px-8",children:[Object(g.jsx)("div",{className:"flex-1 min-w-0",children:Object(g.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate mt-5 flex lg:mt-0 lg:ml-4",children:"All Products"})}),Object(g.jsxs)("div",{className:"mt-5 flex lg:mt-0 lg:ml-4",children:[Object(g.jsx)("span",{className:"sm:ml-3",children:Object(g.jsxs)("button",{type:"button",onClick:function(){return e.props.history.push("/products/addtype")},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(g.jsx)("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})}),"Add Type"]})}),Object(g.jsx)("span",{className:"sm:ml-3",children:Object(g.jsxs)("button",{type:"button",onClick:function(){return e.props.history.push("/products/addproducts")},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(g.jsx)("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})}),"New Product"]})})]})]}),Object(g.jsx)("div",{className:"flex flex-col",children:Object(g.jsx)("div",{className:"py-2 align-middle items-end inline-block min-w-full sm:px-6 lg:px-8",children:Object(g.jsx)("div",{className:"shadow overflow-auto border-b border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{className:"min-w-full divide-y divide-x divide-gray-200",children:[Object(g.jsx)("thead",{className:"bg-gray-50",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Id"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thumbnail"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category Name"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Show"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CreatedAt"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(g.jsx)("span",{className:"sr-only",children:"Edit"})}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(g.jsx)("span",{className:"sr-only",children:"Delete"})})]})}),Object(g.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 overflow-auto",children:this.state.rows&&this.state.rows.map((function(t,n){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t._id}),Object(g.jsx)("td",{className:"px-4 py-2 ",children:Object(g.jsx)("img",{className:"h-20 w-full rounded-lg object-cover ",src:t.thumbnail,alt:"Thumbnail"})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(g.jsx)("div",{class:"text-sm text-gray-900",children:t.name})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(g.jsx)("div",{class:"text-sm text-gray-900",children:t.categoryname})}),Object(g.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold",children:["Rs.",t.price]}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.quantity}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(g.jsxs)("span",{class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["*",""!=t.show?"Active":""]})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(t.createdAt).toString()}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(g.jsx)("a",{class:"text-indigo-600 hover:text-indigo-900 cursor-pointer",onClick:function(){return e.editProduct(t)},children:"Edit"})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(g.jsx)("a",{class:"text-indigo-600 hover:text-indigo-900",onClick:function(){return e.deleteprod(t)},children:"Delete"})})]})}))})]})})})}),Object(g.jsxs)("div",{className:"px-8 py-2 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[Object(g.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[Object(g.jsx)("a",{href:"#",onClick:this.prevPagination,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),Object(g.jsx)("a",{href:"#",onClick:this.nextPagination,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),Object(g.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[Object(g.jsxs)("a",{href:"#",onClick:this.prevPagination,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[Object(g.jsx)("span",{class:"sr-only",children:"Previous"}),Object(g.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})})]}),t.map((function(t){return Object(g.jsx)("a",{href:"#",onClick:function(){return e.setPagination(t)},"aria-current":"page",class:"z-10 bg-indigo-50 border-indigo-500 text-indigo-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:t})})),Object(g.jsxs)("a",{href:"#",onClick:this.nextPagination,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[Object(g.jsx)("span",{class:"sr-only",children:"Next"}),Object(g.jsx)("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})})]})]}),Object(g.jsx)("div",{})]})]})}}]),n}(a.Component),ga=Object(l.i)(pa);n(556),new(n(357).a);function fa(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(me.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.login(t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e){var t=e.setToken,n=Object(a.useState)(),r=Object(u.a)(n,2),i=r[0],s=r[1],c=Object(a.useState)(),l=Object(u.a)(c,2),d=l[0],h=l[1],p=function(){var e=Object(me.a)(be.a.mark((function e(n){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fa({username:i,password:d});case 3:a=e.sent,console.log(a),a.sucess||m.store.addNotification({title:"Login!",message:a.msg,type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),console.log(a),t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useMediaQuery)({query:"(min-width: 1224px)"});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a,{}),Object(g.jsxs)("div",{class:"container mt-5",children:[Object(g.jsx)("h1",{class:"offset-md-5",children:"Login"}),Object(g.jsx)("div",{class:"row",children:Object(g.jsx)("div",{class:"col-sm-4 offset-md-4",children:Object(g.jsx)("div",{class:"card",children:Object(g.jsx)("div",{class:"card-body",children:Object(g.jsxs)("form",{onSubmit:p,children:[Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{for:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",class:"form-control",onChange:function(e){return s(e.target.value)}})]}),Object(g.jsxs)("div",{class:"form-group",children:[Object(g.jsx)("label",{for:"password",children:"Password"}),Object(g.jsx)("input",{type:"password",class:"form-control",onChange:function(e){return h(e.target.value)}})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{type:"submit",class:"btn btn-dark",children:"Submit"}),Object(g.jsx)("a",{class:"btn btn-light",href:"/register",type:"button",children:"Register"})]})]})})})})})]})]})}oa.a.configure();var xa=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={rows:[],columns:[],newTypeTxt:""},a.AddNewType=a.AddNewType.bind(Object(Ne.a)(a)),a.CategoryMove=a.CategoryMove.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"CancelEdit",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.rows[n].isRowEdit=!1,this.setState({rows:this.state.rows});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"DeleteType",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=this.state.rows.filter((function(e){return e.id!==t.id})),{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},r={_id:t.id},e.next=6,Mt.delete_type(r);case 6:e.sent[0].success?oa.a.success("Type Deleted Successfully!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}):oa.a.error("Cannot delete!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}),this.setState({rows:a});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"CategoryMove",value:function(e){this.props.history.push({pathname:"/products/addcategory",state:{type:e}})}},{key:"EditType",value:function(e,t){this.state.rows[t].isRowEdit=!0,this.setState({rows:this.state.rows})}},{key:"SaveType",value:function(e,t){var n=this.state.rows;n[t].type=this.state.newTypeTxt,n[t].isRowEdit=!1,this.setState({rows:n})}},{key:"onchangeType",value:function(e,t){console.log(t);var n=this.state.rows;n.filter((function(e){return e.id===t.id}))[0].type=e.target.value,this.setState({rows:n}),console.log(n)}},{key:"updateType",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.rows,{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},r={_id:t.id,name:this.state.newTypeTxt},e.next=5,Mt.update_type(r);case 5:200===e.sent.status?oa.a.success("Type Updated Successfully!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}):oa.a.error("Cannot update!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}),a[n].type=this.state.newTypeTxt,a[n].isRowEdit=!1,this.setState({rows:a});case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTypes()}},{key:"getTypes",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,Mt.get_alltype();case 3:t=e.sent,n=t.map((function(e,t){return{id:e._id,type:e.name,_id:t+1}})),this.setState({rows:n});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"TypeOnchage",value:function(e){this.setState({newTypeTxt:e.target.value})}},{key:"AddNewType",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.newTypeTxt){e.next=2;break}return e.abrupt("return");case 2:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},{id:this.state.rows.length+1,type:this.state.newTypeTxt},t={name:this.state.newTypeTxt},e.next=7,Mt.add_type(t);case 7:(n=e.sent).data._id=this.state.rows.length+1,n.data.id=n.data._id,n.data.type=n.data.name,console.log(n),n.data._id?oa.a.success("Type Added Successfully!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}):oa.a.error("Cannot add!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}),this.setState({rows:[].concat(Object(d.a)(this.state.rows),[n.data])});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(g.jsxs)(b,{children:[Object(g.jsxs)("div",{className:"lg:flex lg:items-center lg:justify-between py-2 px-8",children:[Object(g.jsx)("div",{className:"flex-1 min-w-0",children:Object(g.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate mt-5 flex lg:mt-0 lg:ml-4",children:"Add Type"})}),Object(g.jsxs)("div",{className:"mt-5 flex lg:mt-0 lg:ml-4",children:[Object(g.jsx)("span",{className:"sm:ml-3",children:Object(g.jsx)("input",{onChange:function(t){return e.TypeOnchage(t)},class:"shadow appearance-none border rounded w-full px-4 py-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter Type"})}),Object(g.jsx)("span",{className:"sm:ml-3",children:Object(g.jsxs)("button",{type:"button",onClick:function(){return e.AddNewType()},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(g.jsx)("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})}),"Add Type"]})})]})]}),Object(g.jsx)("div",{className:"flex flex-col items-start",children:Object(g.jsx)("div",{className:"py-2 align-middle items-end inline-block sm:px-6 lg:px-8",children:Object(g.jsx)("div",{className:"shadow overflow-auto border-b min-w-min border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{className:"divide-y divide-x divide-gray-200 min-w-min",children:[Object(g.jsx)("thead",{className:"bg-gray-50",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Id"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:"Edit"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:"Delete"})]})}),Object(g.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 overflow-auto",children:this.state.rows&&this.state.rows.map((function(t,n){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t._id}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 underline cursor-pointer hover:text-indigo-900",children:t.isRowEdit?Object(g.jsx)("input",{onChange:function(t){return e.TypeOnchage(t)},class:"shadow appearance-none border rounded w-full px-4 py-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter Type"}):Object(g.jsx)("a",{class:"text-indigo-600 hover:text-indigo-900",onClick:function(){return e.CategoryMove(t)},children:t.type})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium underline cursor-pointer hover:text-indigo-900",children:t.isRowEdit?Object(g.jsx)("a",{onClick:function(){return e.updateType(t,n)},class:"text-indigo-600 hover:text-indigo-900",children:"Save"}):Object(g.jsx)("a",{onClick:function(){return e.EditType(t,n)},class:"text-indigo-600 hover:text-indigo-900",children:"Edit"})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium underline cursor-pointer hover:text-indigo-900",children:t.isRowEdit?Object(g.jsx)("a",{onClick:function(){return e.CancelEdit(t,n)},class:"text-indigo-600 hover:text-indigo-900",children:"Cancel"}):Object(g.jsx)("a",{onClick:function(){return e.DeleteType(t,n)},class:"text-indigo-600 hover:text-indigo-900",children:"Delete"})})]})}))})]})})})})]})}}]),n}(a.Component),ba=Object(l.i)(xa);oa.a.configure();var va=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={rows:[],columns:[],newCategoryTxt:""},a.type=a.props.location.state.type,a.AddNewCategory=a.AddNewCategory.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){console.log("this.props",this.props.location.state.type.type),this.getCatlog()}},{key:"getCatlog",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},t={_id:this.type.id},e.next=4,Mt.get_Categories(t);case 4:n=e.sent,a=n.map((function(e,t){return{id:e._id,categoryname:e.name,categorytype:e.type.name,_id:t+1}})),this.setState({rows:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"EditCategory",value:function(e,t){this.state.rows[t].isRowEdit=!0,this.setState({rows:this.state.rows})}},{key:"updateCategory",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.rows[n].isRowEdit=!1,this.state.rows[n].categoryname=this.state.newCategoryTxt,{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},a={_id:t.id,name:this.state.newCategoryTxt},e.next=6,Mt.update_Categories(a);case 6:200===e.sent.status?oa.a.success("Category Updated Successfully!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}):oa.a.error("Cannot update!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}),this.setState({rows:this.state.rows});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"CancelEdit",value:function(e,t){this.state.rows[t].isRowEdit=!1,this.setState({rows:this.state.rows})}},{key:"DeleteCategory",value:function(){var e=Object(me.a)(be.a.mark((function e(t,n){var a,r,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=this.state.rows.filter((function(e){return e.id!==t.id})),{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},r={_id:t.id},e.next=6,Mt.delete_Categories(r);case 6:i=e.sent,console.log(i),this.setState({rows:a});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"TypeOnchage",value:function(e){this.setState({newCategoryTxt:e.target.value})}},{key:"AddNewCategory",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.newCategoryTxt){e.next=2;break}return e.abrupt("return");case 2:return{id:this.state.rows.length+1,categoryname:this.state.newCategoryTxt,categorytype:this.props.location.state.type},{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},{id:this.state.rows.length+1,type:this.state.newCategoryTxt},t={name:this.state.newCategoryTxt,type:this.type.id},e.next=8,Mt.add_Categories(t);case 8:(n=e.sent).data._id?oa.a.success("Category Added Successfully!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}):oa.a.error("Cannot add!",oa.a.POSITION.BOTTOM_LEFT,{autoClose:2e3}),n.data._id=this.state.rows.length+1,n.data.id=n.data._id,n.data.categoryname=this.state.newCategoryTxt,n.data.categorytype=this.type.type,this.setState({rows:[].concat(Object(d.a)(this.state.rows),[n.data])});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(g.jsxs)(b,{children:[Object(g.jsxs)("div",{className:"lg:flex lg:items-center lg:justify-between py-2 px-8",children:[Object(g.jsx)("div",{className:"flex-1 min-w-0",children:Object(g.jsxs)("h2",{className:"text-xl font-semibold leading-7 text-gray-900 sm:text-3xl sm:truncate mt-5 flex lg:mt-0 lg:ml-4",children:["Add Category - ",Object(g.jsx)("span",{className:"text-xl font-bold leading-7 text-gray-900 sm:text-xl sm:truncate flex lg:mt-0 lg:ml-4",children:this.props.location.state.type.type})]})}),Object(g.jsxs)("div",{className:"mt-5 flex lg:mt-0 lg:ml-4",children:[Object(g.jsx)("span",{className:"sm:ml-3",children:Object(g.jsx)("input",{onChange:function(t){return e.TypeOnchage(t)},class:"shadow appearance-none border rounded w-full px-4 py-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter Type"})}),Object(g.jsx)("span",{className:"sm:ml-3",children:Object(g.jsxs)("button",{type:"button",onClick:function(){return e.AddNewCategory()},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(g.jsx)("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})}),"Add Category"]})})]})]}),Object(g.jsx)("div",{className:"flex flex-col items-start",children:Object(g.jsx)("div",{className:"py-2 align-middle items-end inline-block sm:px-6 lg:px-8",children:Object(g.jsx)("div",{className:"shadow overflow-auto border-b min-w-min border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{className:"divide-y divide-x divide-gray-200 min-w-min",children:[Object(g.jsx)("thead",{className:"bg-gray-50",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Id"}),Object(g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category Name"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:"Category Type"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:"Edit"}),Object(g.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:"Delete"})]})}),Object(g.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 overflow-auto",children:this.state.rows&&this.state.rows.map((function(t,n){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t._id}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.isRowEdit?Object(g.jsx)("input",{onChange:function(t){return e.TypeOnchage(t)},class:"shadow appearance-none border rounded w-full px-4 py-2 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter Type"}):Object(g.jsx)("a",{class:"text-indigo-600 hover:text-indigo-900",children:t.categoryname})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.categorytype}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium cursor-pointer hover:text-indigo-900",children:t.isRowEdit?Object(g.jsx)("div",{onClick:function(){return e.updateCategory(t,n)},className:"text-indigo-600 hover:text-indigo-900",children:"Save"}):Object(g.jsx)("div",{onClick:function(){return e.EditCategory(t,n)},className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"})}),Object(g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.isRowEdit?Object(g.jsx)("div",{onClick:function(){return e.CancelEdit(t,n)},class:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Cancel"}):Object(g.jsx)("div",{onClick:function(){return e.DeleteCategory(t,n)},class:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})})]})}))})]})})})})]})}}]),n}(a.Component),Oa=Object(l.i)(va),ya=(n(557),r.a.Component,n.p+"static/media/shirt.e119f0e1.png"),wa=n.p+"static/media/sherwani.0873f70f.png",Ca=(n(560),function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{id:"sherwanimenu",children:[Object(g.jsx)("a",{class:"sherwanimenu-button icon-plus",href:"#sherwanimenu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(g.jsx)("span",{class:"fas fa-share-alt"})}),Object(g.jsx)("a",{class:"sherwanimenu-button icon-minus",href:"#sherwanimenu0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(g.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(g.jsx)("div",{class:"sherwanimenu-item",children:e.img})}))]})})}}]),n}(r.a.Component)),ka=(n(340),function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={isProfile:!1,isTone:!1,isShirt:!1,showLoader:!0,height:300,width:300,modelPath:void 0,products:[],showProducts:!1,isRotate:!0,DoRender:!0,isExpand:!1,isExpandsecond:!0},a.LFAPose="LFA",a.LAOPose="LAO",a.engineRef=r.a.createRef(),a.resize=a.resize.bind(Object(Ne.a)(a)),a}return Object(y.a)(n,[{key:"resize",value:function(e){e.preventDefault(),console.log("e.target.innerWidth",e.target.innerWidth)}},{key:"componentDidMount",value:function(){var e=this;this.setState({modelPath:"MenModels/menlao.zip"});var t=document.getElementById("enginecanvas");t.addEventListener("resize",(function(){})),window.addEventListener("resize",(function(e){}));var n=new ResizeObserver((function(){var a,r;console.log("divEnginge.clientWidth",t.clientWidth),null===(a=e.engineRef)||void 0===a||null===(r=a.current)||void 0===r||r.resizeCanvas(t.clientHeight,t.clientWidth),console.log("The element was resized",n)}));n.observe(t),this.Load()}},{key:"Load",value:function(){var e=Object(me.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.engineRef.current.Init(),e.next=3,this.LoadModels();case 3:this.LoadProducts(),this.engineRef.current.CurrntPose=this.LFAPose;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"LoadModels",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,e.next=3,new Ht.a.external.Promise((function(e,t){Xt.a.getBinaryContent(Rt+"MenModels/menlao.zip",(function(n,a){n?t(n):e(a)}))})).then((function(e){return Ht.a.loadAsync(e)})).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){var t;null===(t=i.engineRef)||void 0===t||t.current.LoadModelMen(e,i.LFAPose)}));case 3:return e.next=5,new Ht.a.external.Promise((function(e,t){Xt.a.getBinaryContent(Rt+"MenModels/lao.zip",(function(n,a){n?t(n):e(a)}))})).then((function(e){return Ht.a.loadAsync(e)})).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){var t;null===(t=i.engineRef.current)||void 0===t||t.LoadModelMen(e,i.LAOPose)}));case 5:null===(t=this.engineRef)||void 0===t||null===(n=t.current)||void 0===n||n.InitWindow(),null===(a=this.engineRef)||void 0===a||null===(r=a.current)||void 0===r||r.setState({showLoader:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"LoadProducts",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i,s,o,c=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,Mt.getProducts("men");case 3:if(0!==(t=e.sent).length){e.next=7;break}return this.setState({showLoader:!1}),e.abrupt("return");case 7:for(console.log("products",t),this.setState({products:t}),n=[],a=0;a<t.length;a++)n.push(t[a].images[0].filename);return this.SelectProduct(t[0]),r={fileids:n},e.next=16,Mt.get_images(r);case 16:for(i=e.sent,s=function(e){t.filter((function(t){return t.images[0].filename===i[e].filename}))[0];t[e].img=i[e].img,c.setState({products:t})},o=0;o<i.length;o++)s(o);return this.setState({products:[]}),this.setState({products:t}),e.abrupt("return");case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"SelectProductParent",value:function(e,t){this.SelectProduct(t)}},{key:"SelectProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a,r,i,s,o,c,l,d;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({showLoader:!0}),{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},a=[],r=0;r<t.images.length;r++)a.push(t.images[r].filename);return i={fileids:a},e.next=7,Mt.get_images(i);case 7:for(s=e.sent,o={},c=function(e){"SHIRT_SHIRT"===t.images.filter((function(t){return t.filename===s[e].filename}))[0].originalname.toUpperCase()&&(o.SHIRT=s[e].img)},l=0;l<s.length;l++)c(l);return e.next=13,null===(n=this.engineRef.current)||void 0===n?void 0:n.setTextures(o);case 13:d=this,setTimeout((function(){d.state.width<1024&&d.setState({showProducts:!1}),d.setState({showLoader:!1})}),1e3);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.width,a=(t.showProducts,{width:"100%",height:"100%",borderRadius:"50%",clipPath:"circle(80% at center)"}),r=[{img:Object(g.jsx)("img",{src:xn,onClick:function(){e.engineRef.current.pixelvalue=Wt.c.fromValues(180/255,140/255,120/255),e.engineRef.current.changeskintone()},style:a})},{img:Object(g.jsx)("img",{src:Cn,onClick:function(){e.engineRef.current.pixelvalue=Wt.c.fromValues(220/255,180/255,160/255),e.engineRef.current.changeskintone()},style:a})},{img:Object(g.jsx)("img",{src:wn,onClick:function(){e.engineRef.current.pixelvalue=Wt.c.fromValues(240/255,240/255,240/255),e.engineRef.current.changeskintone()},style:a})},{img:Object(g.jsx)("img",{src:yn,onClick:function(){e.engineRef.current.pixelvalue=Wt.c.fromValues(230/255,210/255,180/255),e.engineRef.current.changeskintone()},style:a})}],i=[{img:Object(g.jsxs)("div",{role:"button",href:"#0",onClick:function(){e.engineRef.current.CurrntPose=e.LFAPose,window.location=window.location.href.replace("#menu","#0")},children:[" ",Object(g.jsx)("img",{src:ya,style:a})]})},{img:Object(g.jsx)("div",{role:"button",onClick:function(){e.engineRef.current.changePose("lao"),window.location=window.location.href.replace("#menu","#0")},children:Object(g.jsx)("img",{src:this.state.Imagefile?this.state.Imagefile:vn,class:"rounded-full object-cover",style:{width:"60px",height:"50px"}})})},{img:Object(g.jsx)("div",{role:"button",onClick:function(){n<1024&&e.setState({DoRender:!1}),e.setState({showModal:!0}),window.location=window.location.href.replace("#menu","#0")},children:Object(g.jsx)("img",{role:"button",src:vn,style:a})})}],s=[{img:Object(g.jsxs)("div",{role:"button",href:"#sherwanimenu0",onClick:function(){e.engineRef.current.CurrntPose=e.LAOPose,window.location=window.location.href.replace("#sherwanimenu","#sherwanimenu0")},children:[" ",Object(g.jsx)("img",{src:wa,style:a})]})},{img:Object(g.jsx)("div",{role:"button",onClick:function(){e.engineRef.current.changePose("lao"),window.location=window.location.href.replace("#sherwanimenu","#sherwanimenu0")},children:Object(g.jsx)("img",{src:this.state.Imagefile?this.state.Imagefile:vn,class:"rounded-full object-cover",style:{width:"60px",height:"50px"}})})},{img:Object(g.jsx)("div",{role:"button",onClick:function(){n<1024&&e.setState({DoRender:!1}),e.setState({showModal:!0}),window.location=window.location.href.replace("#sherwanimenu","#sherwanimenu0")},children:Object(g.jsx)("img",{role:"button",src:vn,style:a})})}];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:[this.state.isExpandsecond?Object(g.jsx)("div",{className:"z-10 fixed top-3 left-3 text-white cursor-pointer",onClick:function(){e.setState({isExpand:!e.state.isExpand}),console.log("Click me");var t=e;setTimeout((function(){t.setState({isExpandsecond:!t.state.isExpand})}),0)},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M4 6h16M4 12h16M4 18h7"})})}):Object(g.jsx)("div",{}),Object(g.jsx)("div",{className:"relative",children:Object(g.jsxs)("div",{className:"flex h-screen w-full",children:[Object(g.jsx)("div",{className:"container2 ".concat(this.state.isExpand?"2xl:w-full sm:w-screen":"w-0"," left-0 bg-opacity-75 bg-black"),children:Object(g.jsx)(qt,{products:this.state.products,SelectProduct:function(t,n){e.SelectProductParent(t,n)},origin:"men",isMen:!0,setTextures:function(t){e.engineRef.current.setTextures(t)},setLoading:function(t){return e.setState({showLoader:t})},Close:function(){e.setState({isExpand:!e.state.isExpand});var t=e;setTimeout((function(){t.setState({isExpandsecond:!t.state.isExpand})}),0)}})}),Object(g.jsxs)("div",{id:"enginecanvas",className:"container2  grow ".concat(this.state.isExpandsecond?"w-full sm:w-0":"2xl:w-1/2 sm:w-screen"," border-2 border-orange-400"),children:[Object(g.jsx)(Gn,{ref:this.engineRef}),this.state.showModal&&Object(g.jsx)("div",{style:{zIndex:3},children:Object(g.jsx)(jn,{showFile:function(t){return e.showFile(t)},imageFile:this.state.Imagefile,isMobile:this.props.isMobile,setImageFile:function(t){return e.setState({Imagefile:t})},proceedGenerate:function(t){return e.proceedGenerate(t)},close:function(){e.setState({showModal:!1}),e.engineRef.current.resumeDraw()}})}),!this.state.showModal&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{style:{right:10,top:20,position:"fixed",color:"white"},children:Object(g.jsx)("button",{onClick:function(){e.engineRef.current.playpause(),e.setState({isplay:!e.state.isplay})},children:this.state.isplay?Object(g.jsx)("img",{src:bn,alt:"Avatar",style:{width:"70px"}}):Object(g.jsx)("img",{src:kn,alt:"Avatar",style:{width:"70px"}})})}),Object(g.jsx)("div",{style:{right:20,top:160,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(Kt,{name:"models",MenuButtons:i,MenuIcon:Object(g.jsx)("img",{src:ya,style:{backgroundColor:"rgb(20,26,62)",width:"100%",height:"100%"}})})}),Object(g.jsx)("div",{style:{right:20,top:240,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(Ca,{name:"sherwanimodels",MenuButtons:s,MenuIcon:Object(g.jsx)("img",{src:wa,style:{backgroundColor:"rgb(20,26,62)",width:"100%",height:"100%"}})})}),Object(g.jsx)("div",{style:{right:20,top:320,position:"fixed",color:"white"},children:Object(g.jsx)(Zt,{name:"skintone",MenuButtons:r,MenuIcon:Object(g.jsx)("img",{src:xn,style:{width:"100%",height:"100%"}})})})]}),this.props.normalLoad&&!this.state.showModal&&Object(g.jsx)(g.Fragment,{children:n<1024&&Object(g.jsx)("div",{style:{right:10,top:260,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)("img",{src:Sn,style:{width:"70px",height:"70px",borderRadius:"50%",clipPath:"circle(80% at center)"},onClick:function(){e.setState({showProducts:!0,DoRender:!1})}})})}),this.state.showLoader&&Object(g.jsx)("div",{style:{position:"fixed",textAlign:"center",zIndex:25},children:Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"rotateimg",src:An,style:{display:"block",margin:"auto",position:"fixed",left:"0",right:"0",top:"0",bottom:"0",padding:"10%"}})})}),this.engineRef.current&&Object(g.jsx)("div",{style:{right:this.props.normalLoad?n<1024?10:530:10,bottom:10,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(_.a,{style:{color:"white",width:"50px",height:"50px"},onClick:function(){return e.engineRef.current.setState({isRotate:!e.engineRef.current.state.isRotate})},children:this.engineRef.current.state.isRotate?Object(g.jsx)(Tn.a,{style:{color:"white",width:"50px",height:"50px"}}):Object(g.jsx)(Pn.a,{style:{color:"white",width:"50px",height:"50px"}})})}),Object(g.jsx)("div",{style:{right:this.props.normalLoad?n<1024?70:600:70,bottom:10,zIndex:2,position:"fixed",color:"white"},children:Object(g.jsx)(_.a,{style:{color:"white",width:"50px",height:"50px"},onClick:function(){return e.engineRef.current.camera.reset()},children:Object(g.jsx)(_n.a,{style:{color:"white",width:"50px",height:"50px"}})})})]})]})})]})})}}]),n}(r.a.Component)),Sa=ka,Aa=(n.p,n(354)),La=n.n(Aa),Ta=n(705),Na=n(687),Pa=n(86),Ia=n(355),_a=n.n(Ia),Ra=["bgColor","color","labelIcon","labelInfo","labelText"],Ea=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a,r;return Object(O.a)(this,n),(r=t.call(this,e)).state=(a={isMen:!1,uploadSaree:null,uploadSareeTitle:"",uploadBlouse:null,uploadBlouseTitle:"",uploadPallu:null,uploadPalluTitle:"",uploadFab:null,uploadFabTitle:"",isFabUpload:!1,descString:[],type:"Type",allTypes:[],categoryName:"Category Name",qr:"",typeId:"",categoryId:"",origin:"men",name:"",quantity:0,price:0},Object(M.a)(a,"type",""),Object(M.a)(a,"isUpdate",!1),Object(M.a)(a,"buttontext","Add Product"),Object(M.a)(a,"selectedData",void 0),a),r.onSareeChange=r.onSareeChange.bind(Object(Ne.a)(r)),r.onBlouseChange=r.onBlouseChange.bind(Object(Ne.a)(r)),r.onPalluChange=r.onPalluChange.bind(Object(Ne.a)(r)),r.addProduct=r.addProduct.bind(Object(Ne.a)(r)),r.onFabChange=r.onFabChange.bind(Object(Ne.a)(r)),r.descOnChange=r.descOnChange.bind(Object(Ne.a)(r)),r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=null===(e=this.props.location)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.selectdata;n&&this.EditLoadData(n),this.loadCatlog()}},{key:"EditLoadData",value:function(){var e=Object(me.a)(be.a.mark((function e(t){var n,a,r,i,s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=0;a<t.images.length;a++)n.push(t.images[a].filename);return r={fileids:n},e.next=5,Mt.get_images(r);case 5:return i=e.sent,e.next=8,Mt.get_Type(t.category.type);case 8:s=e.sent,console.log("selectedData",t),this.setState({selectedData:t,name:t.name,qr:t.qr,quantity:t.quantity,price:t.price,isUpdate:!0,buttontext:"Update Product",type:s[0].name,categoryName:t.category.name}),"men"===t.origin?(document.getElementById("womenToggle").style.pointerEvents="none",document.getElementById("menToggle").style.pointerEvents="none",document.getElementById("womenToggle").style.opacity=.3,this.setState({isMen:!0,isFabUpload:!0,uploadFab:i[0].img})):"women"===t.origin&&(document.getElementById("menToggle").style.pointerEvents="none",document.getElementById("womenToggle").style.pointerEvents="none",document.getElementById("menToggle").style.opacity=.3,this.setState({isMen:!1})),console.log("getType",s),console.log("allfilesImage",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"descOnChange",value:function(e){}},{key:"loadCatlog",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a,r,i,s,o,c,l=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}},e.next=3,Mt.get_alltype();case 3:t=e.sent,n=0;case 5:if(!(n<t.length)){e.next=13;break}return a={_id:t[n]._id},e.next=9,Mt.get_Categories(a);case 9:t[n].catlog=e.sent;case 10:n++,e.next=5;break;case 13:for(r=t[0].catlog,i=[],s=0;s<r.length;s++)o=r[s],"saree"===o.name.toString().toLowerCase()?o.selectedImage=this.state.images:(c=this.state.nonSareeImages,o.selectedImage=c),i[s]=o;this.setState({types:t,allTypes:t,type:t[0]._id.toString(),Categories:i,Category:t[0].catlog[0]._id}),setTimeout((function(){l.setState({type:t[0]._id.toString()})}),20);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onFabChange",value:function(e){var t=this,n=new FileReader;n.onload=function(){var e=Object(me.a)(be.a.mark((function e(n){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.result,t.setState({isFabUpload:!0,uploadFab:a,uploadFabTitle:n.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.target.files[0]&&n.readAsDataURL(e.target.files[0])}},{key:"onSareeChange",value:function(e){var t=this,n=new FileReader;n.onload=function(){var e=Object(me.a)(be.a.mark((function e(n){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.result,t.setState({isSareeUpload:!0,uploadSaree:a,uploadSareeTitle:n.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.target.files[0]&&n.readAsDataURL(e.target.files[0])}},{key:"onBlouseChange",value:function(e){var t=this,n=new FileReader;n.onload=function(){var e=Object(me.a)(be.a.mark((function e(n){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.result,t.setState({isBlouseUpload:!0,uploadBlouse:a,uploadBlouseTitle:n.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.target.files[0]&&n.readAsDataURL(e.target.files[0])}},{key:"onPalluChange",value:function(e){var t=this,n=new FileReader;n.onload=function(){var e=Object(me.a)(be.a.mark((function e(n){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.target.result,t.setState({isPalluUpload:!0,uploadPallu:a,uploadPalluTitle:n.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.target.files[0]&&n.readAsDataURL(e.target.files[0])}},{key:"getString",value:function(e){var t=e.target;return Dt()(t).text()}},{key:"dataURLtoFile",value:function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,s=new Uint8Array(i);i--;)s[i]=r.charCodeAt(i);return new File([s],t,{type:a})}},{key:"addProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.isUpdate?this.updateProduct():this._addProduct();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_addProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("token")).token},onUploadProgress:function(e){console.log({progress:Math.round(100*e.loaded/e.total)}),a.setState({progress:Math.round(100*e.loaded/e.total)})}},(t=new FormData).append("qr",this.state.qr),t.append("name",this.state.name),t.append("quantity",this.state.quantity),t.append("price",this.state.price),t.append("type",this.state.type),t.append("category",this.state.categoryId),t.append("origin",this.state.origin),"men"===this.state.origin?t.append("images",this.dataURLtoFile(this.state.uploadFab,this.state.categoryName)):"women"===this.state.origin&&(t.append("images",this.dataURLtoFile(this.state.uploadSaree,this.state.categoryName)),t.append("images",this.dataURLtoFile(this.state.uploadPallu,this.state.categoryName)),t.append("images",this.dataURLtoFile(this.state.uploadBlouse,this.state.categoryName))),e.next=12,Mt.addProduct(t);case 12:n=e.sent,console.log(n);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var e=Object(me.a)(be.a.mark((function e(){var t,n,a=this;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("token")).token},onUploadProgress:function(e){console.log({progress:Math.round(100*e.loaded/e.total)}),a.setState({progress:Math.round(100*e.loaded/e.total)})}},(t=new FormData).append("qr",this.state.qr),t.append("name",this.state.name),t.append("quantity",this.state.quantity),t.append("price",this.state.price),t.append("type",this.state.type),t.append("category",this.state.categoryId),t.append("origin",this.state.origin),"men"===this.state.origin?t.append("images",this.dataURLtoFile(this.state.uploadFab,this.state.categoryName)):"women"===this.state.origin&&(t.append("images",this.dataURLtoFile(this.state.uploadSaree,this.state.categoryName)),t.append("images",this.dataURLtoFile(this.state.uploadPallu,this.state.categoryName)),t.append("images",this.dataURLtoFile(this.state.uploadBlouse,this.state.categoryName))),e.next=12,Mt.updateProduct(t);case 12:n=e.sent,console.log(n);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,n=Object(tn.a)(Na.a)((function(e){var t,n=e.theme;return t={color:n.palette.text.secondary},Object(M.a)(t,"& .".concat(Pa.a.content),Object(M.a)({color:n.palette.text.secondary,borderTopRightRadius:n.spacing(2),borderBottomRightRadius:n.spacing(2),paddingRight:n.spacing(1),fontWeight:n.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:n.typography.fontWeightRegular},"&:hover":{backgroundColor:n.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:"var(--tree-view-bg-color, ".concat(n.palette.action.selected,")"),color:"var(--tree-view-color)"}},"& .".concat(Pa.a.label),{fontWeight:"inherit",color:"inherit"})),Object(M.a)(t,"& .".concat(Pa.a.group),Object(M.a)({marginLeft:0},"& .".concat(Pa.a.content),{paddingLeft:n.spacing(2)})),t})),a=function(e){var t=e.bgColor,a=e.color,r=e.labelIcon,i=e.labelInfo,s=e.labelText,o=Object(Ge.a)(e,Ra);return Object(g.jsx)(n,Object(ze.a)({label:Object(g.jsxs)(nn.a,{sx:{display:"flex",alignItems:"right",p:1.5,pr:5},children:[Object(g.jsx)(nn.a,{component:r,color:"inherit",sx:{mr:0}}),Object(g.jsx)(an.a,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:s}),Object(g.jsx)(an.a,{variant:"caption",color:"inherit",children:i})]}),style:{"--tree-view-color":a,"--tree-view-bg-color":t}},o))};return Object(g.jsx)(b,{children:Object(g.jsxs)("div",{class:"h-screen",children:[Object(g.jsxs)("div",{class:"px-4 py-3 bg-gray-50 sm:px-6 flex",children:[Object(g.jsxs)("div",{className:"text-gray-500 font-serif text-xl font-bold text-left mt-3 w-2/3 select-text",children:[this.state.isUpdate?"Edit Product":"Add New Product"," "]}),Object(g.jsxs)("div",{className:"text-gray-500 font-serif text-xl font-bold text-center mt-3 flex",children:[Object(g.jsxs)("div",{id:"menToggle",className:"px-2 cursor-pointer group",onClick:function(){t.setState({isMen:!0,origin:"men"});var e=t.state.allTypes.filter((function(e,t){return"men"===e.origin}));t.setState({types:e})},children:[Object(g.jsx)("div",{className:"".concat(this.state.isMen?"text-blue-600":"text-gray-600","  group-hover:text-indigo-800 font-bold text-base"),children:"Men"}),Object(g.jsx)("div",{className:"h-1 ".concat(this.state.isMen?"bg-blue-600":"bg-gray-600","  group-hover:bg-indigo-800")})]}),Object(g.jsxs)("div",{id:"womenToggle",className:"px-2 cursor-pointer group",onClick:function(){t.setState({isMen:!1,origin:"women"});var e=t.state.allTypes.filter((function(e,t){return"women"===e.origin}));t.setState({types:e})},children:[Object(g.jsx)("div",{className:"".concat(this.state.isMen?"text-gray-600":"text-blue-600","  group-hover:text-indigo-800 font-bold text-base"),children:"Women"}),Object(g.jsx)("div",{className:"h-1 ".concat(this.state.isMen?"bg-gray-600":"bg-blue-600","  group-hover:bg-indigo-800")})]})]})]}),Object(g.jsx)("div",{class:"md:grid md:grid-cols-3 md:gap-6 h-5/6 overflow-y-scroll w-full px-3",children:Object(g.jsx)("div",{class:"mt-2 text-center w-full md:mt-0 md:col-span-2",children:Object(g.jsx)("form",{method:"POST",onSubmit:this.addProduct,children:Object(g.jsxs)("div",{class:"shadow sm:rounded-md sm:overflow-hidden bg-white",children:[Object(g.jsxs)("div",{class:"px-4 py-2 sm:p-6 w-2/3",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-xl text-gray-700 text-left",children:"Product Name"}),Object(g.jsx)("input",{type:"text",name:"name",id:"name",class:"ml-3 focus:ring-indigo-500 font-serif font-semibold text-lg focus:border-indigo-500 px-2 flex-1 block w-full rounded-lg sm:text-sm border-gray-300",placeholder:"Enter Your Product Name",value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})}})]}),Object(g.jsxs)("div",{className:"shadow sm:rounded-md lg:flex sm:overflow-hidden bg-white",children:[Object(g.jsxs)("div",{class:"px-4 py-2 space-y-6 sm:p-6 lg:w-2/3 sm:w-full",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-lg text-gray-700 text-left",children:"Product Image"}),this.state.isMen?Object(g.jsx)("div",{class:"ml-3 py-3 mt-1 flex justify-center border-2 border-gray-300 rounded-md",children:this.state.isFabUpload?Object(g.jsx)("div",{class:"w-56 shadow-lg rounded-xl p-3 px-2 m-2 cursor-pointer",children:Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:"",children:Object(g.jsxs)("div",{class:"relative ",children:[Object(g.jsx)("div",{class:"absolute flex flex-col -right-6 -top-5",children:Object(g.jsx)("div",{class:"w-8 h-8 text-center p-0 rounded-full border-4 border-gray-600 transform hover:border-blue-600 transition duration-500 hover:scale-125",onClick:function(){t.setState({isFabUpload:!1,uploadFab:null})},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),Object(g.jsx)("img",{src:this.state.uploadFab,alt:"Fabric Image",class:"h-48 w-full object-fill rounded-2xl"})]})})})}):Object(g.jsxs)("div",{class:"space-y-1 text-center",children:[Object(g.jsx)("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"True",children:Object(g.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),Object(g.jsxs)("div",{class:"flex text-sm text-gray-600",children:[Object(g.jsxs)("label",{for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[Object(g.jsx)("span",{children:"Upload a file"}),Object(g.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:this.onFabChange})]}),Object(g.jsx)("p",{class:"pl-1",children:"or drag and drop"})]}),Object(g.jsx)("p",{class:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})}):Object(g.jsxs)("div",{class:"ml-3 py-3 mt-1 flex justify-center border-2 border-gray-300 rounded-md",children:[this.state.isSareeUpload?Object(g.jsx)("div",{class:"w-56 shadow-lg rounded-xl px-2 m-2 p-3 cursor-pointer",children:Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:"",children:Object(g.jsxs)("div",{class:"relative ",children:[Object(g.jsx)("div",{class:"absolute flex flex-col -right-6 -top-5",children:Object(g.jsx)("div",{class:"w-8 h-8 text-center p-0 rounded-full border-4 border-gray-600 transform hover:border-blue-600 transition duration-500 hover:scale-125",onClick:function(){t.setState({isSareeUpload:!1,uploadSaree:null})},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),Object(g.jsx)("img",{src:this.state.uploadSaree,alt:"Fabric Image",class:"h-48 w-full object-fill rounded-2xl"})]})})})}):Object(g.jsxs)("div",{class:"space-y-1 px-2 text-center",children:[Object(g.jsx)("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"True",children:Object(g.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),Object(g.jsxs)("div",{class:"flex text-sm text-gray-600",children:[Object(g.jsxs)("label",{for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[Object(g.jsx)("span",{children:"Upload a Saree file"}),Object(g.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:this.onSareeChange})]}),Object(g.jsx)("p",{class:"pl-1",children:"or drag and drop"})]}),Object(g.jsx)("p",{class:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),this.state.isBlouseUpload?Object(g.jsx)("div",{class:"w-56 shadow-lg rounded-xl p-3 px-2 m-2 cursor-pointer",children:Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:"",children:Object(g.jsxs)("div",{class:"relative ",children:[Object(g.jsx)("div",{class:"absolute flex flex-col -right-6 -top-5",children:Object(g.jsx)("div",{class:"w-8 h-8 text-center p-0 rounded-full border-4 border-gray-600 transform hover:border-blue-600 transition duration-500 hover:scale-125",onClick:function(){t.setState({isBlouseUpload:!1,uploadBlouse:null})},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),Object(g.jsx)("img",{src:this.state.uploadBlouse,alt:"Fabric Image",class:"h-48 w-full object-fill rounded-2xl"})]})})})}):Object(g.jsxs)("div",{class:"space-y-1 px-2 m-2 text-center",children:[Object(g.jsx)("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"True",children:Object(g.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),Object(g.jsxs)("div",{class:"flex text-sm text-gray-600",children:[Object(g.jsxs)("label",{for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[Object(g.jsx)("span",{children:"Upload a Blouse file"}),Object(g.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:this.onBlouseChange})]}),Object(g.jsx)("p",{class:"pl-1",children:"or drag and drop"})]}),Object(g.jsx)("p",{class:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),this.state.isPalluUpload?Object(g.jsx)("div",{class:"w-56 shadow-lg rounded-xl p-3 px-2 m-2 cursor-pointer",children:Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:"",children:Object(g.jsxs)("div",{class:"relative ",children:[Object(g.jsx)("div",{class:"absolute flex flex-col -right-6 -top-5",children:Object(g.jsx)("div",{class:"w-8 h-8 text-center p-0 rounded-full border-4 border-gray-600 transform hover:border-blue-600 transition duration-500 hover:scale-125",onClick:function(){t.setState({isPalluUpload:!1,uploadPallu:null})},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),Object(g.jsx)("img",{src:this.state.uploadPallu,alt:"Fabric Image",class:"h-48 w-full object-fill rounded-2xl"})]})})})}):Object(g.jsxs)("div",{class:"space-y-1 px-2 m-2 text-center",children:[Object(g.jsx)("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"True",children:Object(g.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})}),Object(g.jsxs)("div",{class:"flex text-sm text-gray-600",children:[Object(g.jsxs)("label",{for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[Object(g.jsx)("span",{children:"Upload a Pallu file"}),Object(g.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:this.onPalluChange})]}),Object(g.jsx)("p",{class:"pl-1",children:"or drag and drop"})]}),Object(g.jsx)("p",{class:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})]}),Object(g.jsx)("div",{class:"grid-cols-3 gap-6 flex",children:Object(g.jsxs)("div",{class:"col-span-3 sm:col-span-2 w-full",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-lg text-gray-700 text-left",children:"Description"}),Object(g.jsx)("div",{className:"ml-3",children:Object(g.jsx)(La.a,{tabIndex:1,config:{showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1},onChange:this.descOnChange})})]})})]}),Object(g.jsxs)("div",{class:"px-4 py-2 space-y-6 sm:p-6 lg:w-1/3 sm:w-full",children:[Object(g.jsxs)("div",{className:"py-2",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-lg text-gray-700 text-left",children:"Product QR"}),Object(g.jsx)("input",{type:"text",name:"qr",id:"qr",class:"ml-2 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-lg sm:text-sm border-gray-300",placeholder:"Awq789z1234567",value:this.state.qr,onChange:function(e){return t.setState({qr:e.target.value})}})]}),Object(g.jsxs)("div",{className:"py-2",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-lg text-gray-700 text-left",children:"Quantity"}),Object(g.jsx)("input",{type:"text",name:"quantity",id:"quantity",class:"ml-2 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-lg sm:text-sm border-gray-300",placeholder:"0",value:this.state.quantity,onChange:function(e){return t.setState({quantity:e.target.value})}})]}),Object(g.jsxs)("div",{className:"py-2",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-lg text-gray-700 text-left",children:"Pricing"}),Object(g.jsxs)("div",{class:"flex ml-2",children:[Object(g.jsx)("span",{class:"text-base border-1 rounded-l font-bold px-4 py-2 bg-gray-300 whitespace-no-wrap",children:"\u20b9"}),Object(g.jsx)("input",(e={name:"field_name",id:"price"},Object(M.a)(e,"name","price"),Object(M.a)(e,"class","border rounded-r font-serif px-2 py-2 w-full"),Object(M.a)(e,"type","text"),Object(M.a)(e,"placeholder","Enter Price"),Object(M.a)(e,"value",this.state.price),Object(M.a)(e,"onChange",(function(e){return t.setState({price:e.target.value})})),e))]})]}),Object(g.jsxs)("div",{class:"col-span-3 py-2 sm:col-span-2 w-full",children:[Object(g.jsx)("label",{class:"block font-serif font-bold text-lg text-gray-700 text-left",children:"Category"}),Object(g.jsx)("div",{className:"ml-2 px-2",children:Object(g.jsx)(Ta.a,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:Object(g.jsx)(_a.a,{}),defaultEndIcon:Object(g.jsx)("div",{style:{width:"10"}}),sx:{height:150,flexGrow:1,maxWidth:275,overflowY:"auto"},children:this.state.types&&this.state.types.map((function(e,n){return Object(g.jsx)(a,{nodeId:n,labelText:e.name,labelIcon:Tt,onClick:function(n){console.log(e),t.setState({type:t.getString(n),typeId:e._id})},children:e.catlog&&e.catlog.map((function(e,n){return Object(g.jsx)(a,{nodeId:n,labelText:e.name,labelIcon:Tt,color:"#1a73e8",bgColor:"#e8f0fe",onClick:function(n){console.log(e),t.setState({categoryName:t.getString(n),categoryId:e._id})}})}))})}))})})]}),Object(g.jsxs)("div",{class:"col-span-3 py-2 sm:col-span-2 w-full",children:[Object(g.jsx)("label",{class:"block text-sm font-bold text-gray-700 text-left",children:"Selected Category"}),Object(g.jsxs)("div",{className:"flex ml-2",children:[Object(g.jsxs)("div",{className:"py-2 font-serif font-bold sm:col-span-2 w-1/3",children:[this.state.type,"  - "]}),Object(g.jsx)("div",{className:"py-2 font-serif font-semibold text-gray-700 sm:col-span-2 text-left w-full",children:this.state.categoryName})]})]}),Object(g.jsxs)("div",{class:"col-span-3 sm:col-span-2 w-full",children:[Object(g.jsx)("label",{class:"block text-sm font-bold text-gray-700 text-left",children:"Add New Category"}),Object(g.jsxs)("div",{class:"flex ml-2",children:[Object(g.jsx)("span",{class:"text-base border-1 rounded-l font-bold px-4 py-2 bg-gray-300 whitespace-no-wrap",children:this.state.type}),Object(g.jsx)("input",{name:"field_name",class:"border rounded-r font-serif px-2 py-2 w-full",type:"text",placeholder:"Enter Category Name"})]}),Object(g.jsx)("div",{className:"w-full py-4 text-right",children:Object(g.jsx)("button",{className:"text-right py-2 px-2 bg-blue-600 text-white rounded-lg font-bold",children:"Add Category"})})]}),Object(g.jsx)("div",{})]})]})]})})})}),Object(g.jsx)("div",{class:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:Object(g.jsx)("button",{onClick:this.addProduct,type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:this.state.isUpdate?"Update Product":"Add Product"})})]})})}}]),n}(a.Component),Fa=Object(l.i)(Ea),Ma=(r.a.Component,function(e){return console.log(e),Object(g.jsx)(c.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{path:"/logout",component:De}),Object(g.jsx)(l.b,{path:"/oynaviewer",children:Object(g.jsx)(Wn,Object(ze.a)({normalLoad:!0},e))}),Object(g.jsx)(l.b,{path:"/loadbar",children:Object(g.jsx)(fn.a,{})}),Object(g.jsx)(l.b,{path:"/men",children:Object(g.jsx)(Sa,{})}),Object(g.jsx)(l.b,{path:"/products/allproducts",children:Object(g.jsx)(ga,{})}),Object(g.jsx)(l.b,{path:"/products/addproducts",children:Object(g.jsx)(Fa,{})}),Object(g.jsx)(l.b,{path:"/products/addtype",children:Object(g.jsx)(ba,{})}),Object(g.jsx)(l.b,{path:"/products/addcategory",children:Object(g.jsx)(Oa,{})}),Object(g.jsx)(l.b,{path:"/products",children:Object(g.jsx)(ga,{})}),Object(g.jsx)(l.b,{path:"/Branches/Users",children:Object(g.jsx)(Te,{})}),Object(g.jsx)(l.b,{path:"/Branches/Files",component:Be}),Object(g.jsx)(l.b,{path:"/Branches/AllBranches",children:Object(g.jsx)(je,{})}),Object(g.jsx)(l.b,{path:"/Branches",children:Object(g.jsx)(je,{})}),Object(g.jsx)(l.b,{path:"/about",children:Object(g.jsx)(Ue,{})}),Object(g.jsx)(l.b,{path:"/another/teams",children:Object(g.jsx)(vt,{})}),Object(g.jsx)(l.b,{path:"/another",children:Object(g.jsx)(vt,{})}),Object(g.jsx)(l.b,{path:"/another/processmessage",children:Object(g.jsx)(wt,{})}),Object(g.jsx)(l.b,{path:"/settings",children:Object(g.jsx)(v,{})}),Object(g.jsx)(l.b,{path:"/client",children:Object(g.jsx)(At,{})}),Object(g.jsx)(l.b,{path:"/branch/:id",component:Ce}),Object(g.jsx)(l.b,{path:"/users/:id",component:Le}),Object(g.jsx)(l.b,{path:"/logout",component:De}),Object(g.jsx)(l.b,{path:"/dashboard",children:Object(g.jsx)(vt,{})}),Object(g.jsx)(l.b,{path:"/",children:Object(g.jsx)(Wn,Object(ze.a)({normalLoad:!0},e))})]})})}),Ba=function(){var e=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return console.log("get token",t),null===t||void 0===t?void 0:t.token}()),t=Object(u.a)(e,2),n=t[0],r=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),r(e.token)},token:n}}(),t=e.token,n=e.setToken,r=Object(o.useMediaQuery)({query:"(max-width: 1224px)"});return console.log(window.location.pathname),console.log(window.location.href),"/oynaiframe"===window.location.pathname?Object(g.jsx)(Wn,{isMobile:r}):t?Object(g.jsx)(Ma,{isMobile:r}):Object(g.jsx)(ma,{setToken:n})};n(562),n(563);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Ba,{})}),document.getElementById("root"))}},[[564,1,2]]]);
//# sourceMappingURL=main.ab4fae1e.chunk.js.map