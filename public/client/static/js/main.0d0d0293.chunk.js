(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{282:function(e,t,n){},376:function(e,t){},383:function(e,t){},385:function(e,t){},395:function(e,t){},397:function(e,t){},423:function(e,t){},425:function(e,t){},426:function(e,t){},431:function(e,t){},433:function(e,t){},439:function(e,t){},441:function(e,t){},460:function(e,t){},472:function(e,t){},475:function(e,t){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},505:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(26),o=n.n(r),s=n(167),c=n(34),l=(n(47),n(39)),u=n(29),d=n(207),h=n(95),f=(n(330),n(1));var g=function(){var e=Object(l.g)(),t=Object(l.h)(),n=Object(a.useState)(!1),r=Object(u.a)(n,2),o=r[0],s=r[1],c=Object(a.useState)(),g=Object(u.a)(c,2),m=g[0],p=g[1],b=[{title:"Clients",itemId:"/client",elemBefore:function(){return Object(f.jsx)(h.a,{name:"coffee"})}},{title:"Branches",itemId:"/Branches",elemBefore:function(){return Object(f.jsx)(h.a,{name:"user"})},subNav:[{title:"All Branches",itemId:"/Branches/AllBranches"},{title:"Files",itemId:"/Branches/Files"}]},{title:"Dashboard",itemId:"/another",subNav:[{title:"Dashboard",itemId:"/another/teams"},{title:"ProcessMessage",itemId:"/another/processmessage"}]},{title:"Oyna Viewer",itemId:"/oynaviewer",elemBefore:function(){return Object(f.jsx)(h.a,{name:"coffee"})}},{title:"Oyna Viewer Normal",itemId:"/oynaviewerNormal",elemBefore:function(){return Object(f.jsx)(h.a,{name:"coffee"})}},{title:"LaodBar",itemId:"/loadbar",elemBefore:function(){return Object(f.jsx)(h.a,{name:"coffee"})}}];return m||localStorage.getItem("token")&&("Super Admin"!==JSON.parse(localStorage.getItem("token")).role&&b.shift(),p(b)),Object(f.jsxs)(i.a.Fragment,{children:[Object(f.jsx)("div",{onClick:function(){return s(!1)},className:"fixed inset-0 z-20 block transition-opacity bg-black opacity-50 2xl:hidden ".concat(o?"block":"hidden")}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{style:{zIndex:1,position:"fixed"},className:"btn-menu",onClick:function(){return s(!0)},type:"button",children:Object(f.jsx)(h.a,{name:"burger",className:"w-6 h-6"})})}),Object(f.jsxs)("div",{className:"fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 ease-out transform translate-x-0 bg-white border-r-2 2xl:translate-x-0 2xl:static  2xl:inset-0\n       ".concat(o?"ease-out translate-x-0":"ease-in -translate-x-full"),children:[Object(f.jsx)("div",{className:"flex items-center justify-center",style:{width:200,margin:30},children:Object(f.jsx)("img",{src:"/logo512.png"})}),Object(f.jsx)("div",{className:"flex items-center justify-center mt-10 text-center py-6",children:Object(f.jsx)("span",{className:"mx-2 text-2xl font-semibold text-black",children:"Oyna Cloud"})}),Object(f.jsx)(d.Navigation,{activeItemId:t.pathname,onSelect:function(t){var n=t.itemId;e.push(n)},items:m||b}),Object(f.jsx)("div",{className:"absolute bottom-0 w-full my-8",children:Object(f.jsx)(d.Navigation,{activeItemId:t.pathname,items:[{title:"Logout",itemId:"/logout",elemBefore:function(){return Object(f.jsx)(h.a,{name:"activity"})}}],onSelect:function(t){var n=t.itemId;e.push(n)}})})]})]})},m=function(e){var t=e.children;return Object(f.jsx)("div",{className:"relative min-h-screen",children:Object(f.jsx)("main",{className:"w-full min-h-screen",children:t})})},p=n(31),b=n.n(p),j=(n(213),function(e){var t=e.children;return Object(f.jsxs)(m,{children:[Object(f.jsx)(b.a,{}),Object(f.jsxs)("div",{className:"flex h-screen bg-gray-200",children:[Object(f.jsx)(g,{}),Object(f.jsx)("div",{className:"flex flex-col flex-1 overflow-hidden",children:Object(f.jsx)("main",{className:"content",children:Object(f.jsx)("section",{className:"sm:flex-row flex flex-col flex-1",children:Object(f.jsx)("div",{className:"content-box",style:{flexGrow:2,flexBasis:"0%"},children:t})})})})]})]})}),x=n(4),v=n(5),O=n(6),y=n(7),A=n(570),T=n(40),L=n(582),C=n(583),E=n(289),w=n(590),S=n(592),R=n(599),I=n(509),P=n(78),k=n.n(P),B=n(508),F=n(17),_=n(12),D=n(18),N=n(575),U=n(576),M=n(568),G=n(574),X=n(572),V=n(591),W=n(569),H=n(603),z=n(571),Y=n(573),q=n(597),J=n(580),Q=n(581),K=n(116),Z=n.n(K),$=n(115),ee=n.n($);var te=Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(M.a),ne=Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a);function ae(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ie(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var re=Object(A.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(T.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),oe=function(e){var t=re(),n=e.numSelected;e.Titlebar;return Object(f.jsxs)(z.a,{className:Object(_.a)(t.root,Object(F.a)({},t.highlight,n>0)),children:[n>0?Object(f.jsxs)(B.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(f.jsx)(B.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:e.Title}),e.Titlebar]})},se=(Object(A.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).handleRequestSort=function(e,t){var n=a.state.orderBy===t&&"asc"===a.state.order;a.setState({order:n?"desc":"asc"}),a.setState({orderBy:t})},a.handleSelectAllClick=function(e){if(e.target.checked){var t=a.props.tableData.map((function(e){return e.name}));a.setState({selected:t})}else a.setState({selected:[]})},a.componentWillMount=function(){},a.handleClick=function(e,t){},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:parseInt(e.target.value,10)}),a.setState({page:0})},a.handleChangeDense=function(e){a.setState({dense:e.target.checked})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.emptyRows=function(){return a.state.rowsPerPage-Math.min(a.state.rowsPerPage,a.props.tableData.length-a.state.page*a.state.rowsPerPage)},a.EnhancedTableHead=function(e){e.classes;var t=e.onSelectAllClick,n=e.order,i=e.orderBy,r=e.numSelected,o=e.rowCount,s=(e.onRequestSort,{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1});return Object(f.jsx)(X.a,{children:Object(f.jsxs)(ne,{children:[Object(f.jsx)(te,{padding:"checkbox",children:Object(f.jsx)(q.a,{indeterminate:r>0&&r<o,checked:o>0&&r===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),a.props.headCells.map((function(e){var t,r;return Object(f.jsx)(te,(t={align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&n},Object(F.a)(t,"align","left"),Object(F.a)(t,"children",Object(f.jsxs)(H.a,{align:"left",active:i===e.id,direction:i===e.id?n:"asc",onClick:(r=e.id,function(e){a.handleRequestSort(e,r)}),children:[e.label,i===e.id?Object(f.jsx)("span",{style:s,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})),t),e.id)})),Object(f.jsx)(te,{children:"Actions"})]})})},a.state={show:e.show,dataget:void 0,order:"asc",orderBy:"calories",selected:[],page:0,dense:!1,rowsPerPage:5,classes:{root:{width:"100%"},paper:{width:"100%",marginBottom:2},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}},a}return Object(v.a)(n,[{key:"render",value:function(){var e,t,n=this;return Object(f.jsxs)("div",{children:[Object(f.jsxs)(Y.a,{children:[Object(f.jsx)(oe,{numSelected:this.state.selected.length,Title:this.props.Title,Titlebar:this.props.Titlebar}),Object(f.jsx)(G.a,{style:{maxHeight:500},children:Object(f.jsxs)(N.a,{"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table",children:[Object(f.jsx)(this.EnhancedTableHead,{numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onSelectAllClick:this.state.handleSelectAllClick,onRequestSort:this.state.handleRequestSort,rowCount:this.props.tableData.length}),Object(f.jsxs)(U.a,{children:[ie(this.props.tableData,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,n){return ae(e,n,t)}:function(e,n){return-ae(e,n,t)})).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(e,t){var a=n.isSelected(e.filename),i="enhanced-table-checkbox-".concat(t);return Object(f.jsxs)(ne,{hover:!0,onClick:function(t){return n.handleClick(t,e)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(f.jsx)(te,{padding:"checkbox"}),n.props.headCells.map((function(t){return Object(f.jsx)(te,{component:"th",id:i,scope:"row",align:"left",children:t.link?Object(f.jsxs)("a",{href:"",onClick:function(t){n.props.clickLink(t,e)},children:[" ",e[t.id]]}):Array.isArray(e[t.id])?e[t.id].map((function(e){return e.user})).join(", "):e[t.id]})})),Object(f.jsxs)(te,{align:"center",children:[n.props.isedit&&Object(f.jsx)(I.a,{onClick:function(t){return n.props.edit(e)},children:Object(f.jsx)(ee.a,{})}),Object(f.jsx)(I.a,{onClick:function(t){return n.props.delete(e)},children:Object(f.jsx)(Z.a,{})})]})]},e._id)})),this.emptyRows>0&&Object(f.jsx)(ne,{style:{height:(this.state.dense?33:53)*this.emptyRows},children:Object(f.jsx)(M.a,{colSpan:6})})]})]})}),Object(f.jsx)(V.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.props.tableData.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})]}),Object(f.jsx)(J.a,{control:Object(f.jsx)(Q.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"})]})}}]),n}(a.Component)),ce=n(62),le=n.n(ce);n(128).config();var ue=Object(A.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(T.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),de=function(e){var t=ue();return Object(f.jsxs)(B.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(f.jsx)(I.a,{onClick:e.clickfun,children:Object(f.jsx)(k.a,{style:{fontSize:40}})}),"Add Branch"]})},he=(Object(A.a)({table:{minWidth:700}}),[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!0},{id:"addressline2",numeric:!0,disablePadding:!1,label:"Address",link:!1},{id:"city",numeric:!0,disablePadding:!1,label:"City",link:!1},{id:"state",numeric:!0,disablePadding:!1,label:"State",link:!1}]),fe=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0,showLoader:!0},e}return Object(v.a)(n,[{key:"GetAllBranches",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("https://oyna-gw.cdssapps.in//Allbranches",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"edit",value:function(e){this.setState({update:!0}),this.setState({show:!0}),this.setState({name:e.name}),this.setState({addr1:e.addressline1}),this.setState({addr2:e.addressline2}),this.setState({city:e.city}),this.setState({state:e.state}),this.setState({postcode:e.postcode}),this.setState({country:e.country}),this.setState({branchUsers:e.branchUsers}),this.setState({id:e._id})}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})};fetch("https://oyna-gw.cdssapps.in//deletebranch",n).then((function(e){return e.json()})).then((function(e){t.GetAllBranches(),p.store.addNotification({title:"Branch!",message:"Branch has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllBranches()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(f.jsxs)(j,{children:[Object(f.jsx)(L.a,{style:{height:30}}),Object(f.jsxs)(C.a,{fluid:!0,children:[Object(f.jsx)(L.a,{className:"offset-8"}),Object(f.jsx)(L.a,{style:{height:30}}),Object(f.jsxs)(L.a,{children:[Object(f.jsx)(le.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),Object(f.jsx)(E.a,{xs:10,children:this.state.dataget&&Object(f.jsx)(se,{Title:"Branches",headCells:he,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!0,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:Object(f.jsx)(de,{clickfun:function(){return e.setState({show:!0})}})})})]})]}),Object(f.jsx)(w.a,{show:this.state.show,onHide:t,children:Object(f.jsxs)(S.a,{onSubmit:function(t){e.setState({showLoader:!0});t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country,branchUsers:e.state.branchUsers,id:e.state.id})},a="https://oyna-gw.cdssapps.in//addbranch";e.state.update&&(a="https://oyna-gw.cdssapps.in//updatebranch"),fetch(a,n).then((function(e){return e.json()})).then((function(t){e.GetAllBranches(),p.store.addNotification({title:"Branch!",message:e.state.update?"Updated Branch":"Branch Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),e.setState({showLoader:!1})}))},children:[Object(f.jsx)(w.a.Header,{closeButton:!0,children:Object(f.jsx)(w.a.Title,{children:"New Branch"})}),Object(f.jsxs)(w.a.Body,{children:[Object(f.jsx)(S.a.Group,{controlId:"name",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Name"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Branch Name",name:"name",value:this.state.name})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"addressline1",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Address Line 1"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({addr1:t.target.value})},placeholder:"Address Line 1",name:"addressline1",value:this.state.addr1})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"addressline2",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Address Line 2"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({addr2:t.target.value})},placeholder:"Address Line 2",name:"addressline1",value:this.state.addr2})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"city",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"City"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",name:"city",value:this.state.city})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"state",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"State"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",name:"state",value:this.state.state})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"postcode",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Postcode"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"number",onChange:function(t){return e.setState({postcode:t.target.value})},placeholder:"Postcode",name:"postcode",value:this.state.postcode})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"country",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Country"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({country:t.target.value})},placeholder:"country",name:"postcode",value:this.state.country})," "]})]})})]}),Object(f.jsxs)(w.a.Footer,{children:[Object(f.jsx)(R.a,{variant:"secondary",onClick:t,children:"Close"}),Object(f.jsx)(R.a,{type:"submit",variant:"primary",onClick:t,children:this.state.update?"update":"Add Branch"})]})]})})]})}}]),n}(a.Component),ge=(Object(l.i)(fe),n(20)),me=n.n(ge),pe=n(33);n(153),n(215),n(216),n(218),n(219);n(128).config();Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(M.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),Object(A.a)({table:{minWidth:700}});var be=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!0},{id:"username",numeric:!0,disablePadding:!1,label:"Email",link:!1},{id:"apptype",numeric:!0,disablePadding:!1,label:"Application",link:!1}],je=Object(A.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(T.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),xe=function(e){var t=je();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(B.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(f.jsx)("input",{type:"file",onChange:e.showfilefun}),Object(f.jsx)(I.a,{variant:"h6",onClick:e.clickfun,children:Object(f.jsx)(k.a,{variant:"h6",style:{fontSize:40}})}),"Add Node"]})})},ve=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).showFile=function(){var e=Object(pe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=Object(pe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,a.setState({reqfile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={show:!1,dataget:void 0,showLoader:!0},a}return Object(v.a)(n,[{key:"GetBrancheUsers",value:function(){var e=this,t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("https://oyna-gw.cdssapps.in//GetUsers",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetBrancheUsers()}},{key:"addNewNodeToBranch",value:function(){var e=this;this.setState({showLoader:!0});var t={method:"POST",body:JSON.stringify({branchid:this.props.match.params.id,reqfile:this.state.reqfile}),headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("https://oyna-gw.cdssapps.in//adduser",t).then((function(e){return e.json()})).then((function(t){e.GetBrancheUsers(),p.store.addNotification({title:"User!",message:"New User Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),e.setState({showLoader:!1})}))}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})};fetch("https://oyna-gw.cdssapps.in//deleteuser",n).then((function(e){return e.json()})).then((function(e){t.GetBrancheUsers(),p.store.addNotification({title:"User!",message:"User has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"render",value:function(){var e=this;return Object(f.jsx)(j,{children:Object(f.jsxs)(C.a,{fluid:!0,children:[Object(f.jsx)(L.a,{style:{height:60}}),Object(f.jsx)(L.a,{children:Object(f.jsxs)(E.a,{xs:10,children:[Object(f.jsx)(le.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.dataget&&Object(f.jsx)(se,{Title:"Nodes",headCells:be,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/users/"+n._id)},Titlebar:Object(f.jsx)(xe,{clickfun:function(t){return e.addNewNodeToBranch()},showfilefun:function(t){return e.showFile(t)}})})]})})]})})}}]),n}(a.Component),Oe=(Object(l.i)(ve),n(600)),ye=n(593);n(219);n(128).config();a.Component;var Ae=n(27),Te=n(143),Le=n.n(Te),Ce=n(291),Ee=n.n(Ce);n(128).config();Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(M.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),Object(A.a)({table:{minWidth:700}});var we=[{id:"filename",numeric:!1,disablePadding:!0,label:"filename",link:!0},{id:"created",numeric:!0,disablePadding:!1,label:"Date",link:!1},{id:"assigned",numeric:!0,disablePadding:!1,label:"Assigned Nodes",link:!1},{id:"delivered",numeric:!0,disablePadding:!1,label:"Deleivered Nodes",link:!1}],Se=Object(A.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(T.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Re=function(e){var t=Se();return Object(f.jsxs)(B.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(f.jsx)(I.a,{onClick:e.clickfun,children:Object(f.jsx)(Ee.a,{style:{fontSize:40}})}),"Upload File"]})},Ie=(a.Component,a.Component,n(146)),Pe=n(37),ke=n(28),Be=n(10),Fe=n(595),_e=["text","style"],De=["hoverIndex"],Ne=["state"],Ue=["data","text","style"],Me=function(e,t){return function(n){var a=n.text,i=n.style,r=Object(Ie.a)(n,_e);return Object(f.jsx)(Pe.j.Label,Object(c.a)({text:"".concat(a," ").concat(e),style:Object(c.a)({fill:t},i)},r))}},Ge=Me("$","#fcd45a"),Xe=Me("k","#41c0f0"),Ve=function(e){var t=e.hoverIndex,n=Object(Ie.a)(e,De);return Object(c.a)({state:n.index===t?"hovered":null},n)},We=function(e){return Object(f.jsx)(Pe.c.Point,Object(c.a)({},Ve(e)))},He={size:7},ze=function(e){var t,n=Ve(e);return Object(f.jsx)(Pe.f.Point,Object(c.a)({point:(t=n.state,t?{size:7}:{size:0})},n))},Ye=function(e){e.state;var t=Object(Ie.a)(e,Ne);return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(Pe.a.Path,Object(c.a)({},t)),Object(f.jsx)(Pe.f.Path,Object(c.a)({},t))]})},qe=function(e){return Object(f.jsx)(Pe.f.Point,Object(c.a)({point:He},Ve(e)))},Je=function(e){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(Pe.g.Path,Object(c.a)({},e)),Object(f.jsx)(Pe.f.Path,Object(c.a)({},e))]})},Qe=[{name:"import",key:"import",color:"#08abbd"},{name:"Scan",key:"scan",color:"#d4d67e"},{name:"Routine",key:"routine",color:"#78bc97"}],Ke={display:"flex",margin:"auto",flexDirection:"row"},Ze=function(e){return Object(f.jsx)(Pe.e.Root,Object(c.a)(Object(c.a)({},e),{},{style:Ke}))},$e={flexDirection:"column",marginLeft:"-2px",marginRight:"-2px"},et=function(e){return Object(f.jsx)(Pe.e.Item,Object(c.a)(Object(c.a)({},e),{},{style:$e}))},tt={whiteSpace:"nowrap"},nt=function(e){return Object(f.jsx)(Pe.e.Label,Object(c.a)(Object(c.a)({},e),{},{style:tt}))},at=Object(Fe.a)(".1f"),it=function(e){var t=e.data,n=(e.text,e.style),a=Object(Ie.a)(e,Ue),i=Object(c.a)(Object(c.a)({},n),{},{paddingLeft:"10px"}),r=Qe.map((function(e){var n=e.name,r=e.key,o=e.color,s=t[r];return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("svg",{width:"10",height:"10",children:Object(f.jsx)("circle",{cx:"5",cy:"5",r:"5",fill:o})})}),Object(f.jsx)("td",{children:Object(f.jsx)(Pe.i.Content,Object(c.a)({style:i,text:n},a))}),Object(f.jsx)("td",{align:"right",children:Object(f.jsx)(Pe.i.Content,Object(c.a)({style:i,text:s?at(s):"N/A"},a))})]},r)}));return Object(f.jsx)("table",{children:r})},rt=[{series:Qe.filter((function(e){return!e.type})).map((function(e){return e.name}))}],ot=function(e){return[e[0],2200]},st=function(){return[0,110]},ct=function(e){var t=e.target;return t?t.point:-1};a.PureComponent;n(128).config();Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(M.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),Object(A.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(T.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Object(A.a)({table:{minWidth:700}});var lt,ut=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",link:!1},{id:"store",numeric:!0,disablePadding:!1,label:"Store",link:!1},{id:"date",numeric:!0,disablePadding:!1,label:"Date",link:!1},{id:"processType",numeric:!0,disablePadding:!1,label:"Process Type",link:!1},{id:"result",numeric:!0,disablePadding:!1,label:"Message",link:!1}],dt=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={show:!1,dataget:void 0,showLoader:!0},e}return Object(v.a)(n,[{key:"GetAllMessages",value:function(){var e=this,t={method:"GET",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token}};fetch("https://oyna-gw.cdssapps.in//AllMessages",t).then((function(e){return e.json()})).then((function(t){e.setState({dataget:t}),e.setState({showLoader:!1})}))}},{key:"delete",value:function(e){var t=this;this.setState({showLoader:!0});new FormData;var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({id:e._id})};fetch("https://oyna-gw.cdssapps.in//deletemessage",n).then((function(e){return e.json()})).then((function(e){t.GetAllMessages(),p.store.addNotification({title:"Branch!",message:"Branch has deleted",type:"danger",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}}),t.setState({showLoader:!1})}))}},{key:"componentWillMount",value:function(){this.GetAllMessages()}},{key:"render",value:function(){var e=this,t=function(){return e.setState({show:!1})};return Object(f.jsxs)(j,{children:[Object(f.jsx)(L.a,{style:{height:30}}),Object(f.jsxs)(C.a,{fluid:!0,children:[Object(f.jsx)(L.a,{className:"offset-8"}),Object(f.jsx)(L.a,{style:{height:30}}),Object(f.jsx)(L.a,{children:Object(f.jsxs)(E.a,{xs:10,children:[Object(f.jsx)(le.a,{type:"Watch",color:"#00BFFF",height:100,width:100,visible:this.state.showLoader,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh",position:"absolute",left:0,right:0,zIndex:1}}),this.state.dataget&&Object(f.jsx)(se,{Title:"All Messages",headCells:ut,tableData:this.state.dataget,selecting:this.selecting,delete:function(t){return e.delete(t)},edit:function(t){return e.edit(t)},isedit:!1,clickLink:function(t,n){t.preventDefault(),e.props.history.push("/branch/"+n._id)},Titlebar:""})]})})]}),Object(f.jsx)(w.a,{show:this.state.show,onHide:t,children:Object(f.jsxs)(S.a,{onSubmit:function(t){t.currentTarget,new FormData(t.currentTarget);t.preventDefault(),t.stopPropagation();var n={method:"POST",headers:{"Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("token")).token},body:JSON.stringify({name:e.state.name,addressline1:e.state.addr1,addressline2:e.state.addr2,city:e.state.city,state:e.state.state,postcode:e.state.postcode,country:e.state.country,branchUsers:e.state.branchUsers,id:e.state.id})},a="https://oyna-gw.cdssapps.in//addbranch";e.state.update&&(a="https://oyna-gw.cdssapps.in//updatebranch"),fetch(a,n).then((function(e){return e.json()})).then((function(t){e.GetAllMessages(),p.store.addNotification({title:"Branch!",message:e.state.update?"Updated Branch":"Branch Added",type:"success",insert:"top",container:"top-right",animationIn:["animate__animated animate__fadeIn"],animationOut:["animate__animated animate__fadeOut"],dismiss:{duration:5e3,onScreen:!1},slidingExit:{duration:800,timingFunction:"ease-out",delay:0}})}))},children:[Object(f.jsx)(w.a.Header,{closeButton:!0,children:Object(f.jsx)(w.a.Title,{children:"New Branch"})}),Object(f.jsxs)(w.a.Body,{children:[Object(f.jsx)(S.a.Group,{controlId:"name",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Name"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Branch Name",name:"name",value:this.state.name})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"addressline1",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Address Line 1"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({addr1:t.target.value})},placeholder:"Address Line 1",name:"addressline1",value:this.state.addr1})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"addressline2",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Address Line 2"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({addr2:t.target.value})},placeholder:"Address Line 2",name:"addressline1",value:this.state.addr2})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"city",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"City"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({city:t.target.value})},placeholder:"City",name:"city",value:this.state.city})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"state",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"State"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({state:t.target.value})},placeholder:"State",name:"state",value:this.state.state})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"postcode",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Postcode"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"number",onChange:function(t){return e.setState({postcode:t.target.value})},placeholder:"Postcode",name:"postcode",value:this.state.postcode})," "]})]})}),Object(f.jsx)(S.a.Group,{controlId:"country",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{xs:4,children:[" ",Object(f.jsx)(S.a.Label,{children:"Country"})," "]}),Object(f.jsxs)(E.a,{xs:8,children:[" ",Object(f.jsx)(S.a.Control,{type:"text",onChange:function(t){return e.setState({country:t.target.value})},placeholder:"country",name:"postcode",value:this.state.country})," "]})]})})]}),Object(f.jsxs)(w.a.Footer,{children:[Object(f.jsx)(R.a,{variant:"secondary",onClick:t,children:"Close"}),Object(f.jsx)(R.a,{type:"submit",variant:"primary",onClick:t,children:this.state.update?"update":"Add Branch"})]})]})})]})}}]),n}(a.Component),ht=(Object(l.i)(dt),Object(D.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(M.a),Object(D.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),Object(A.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(T.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}))),ft=function(e){var t=ht();return Object(f.jsxs)(B.a,{align:"right",className:t.title,component:"div",style:{width:40},children:[Object(f.jsx)(I.a,{onClick:e.clickfun,children:Object(f.jsx)(k.a,{style:{fontSize:40}})}),"Add Client"]})},gt=(Object(A.a)({table:{minWidth:700}}),[{id:"name",numeric:!1,disablePadding:!0,label:"Client Name",link:!1},{id:"username",numeric:!1,disablePadding:!0,label:"Email",link:!1}]),mt=(a.Component,n(21)),pt=function e(t){var n=this;Object(x.a)(this,e),this.GetProjectionMatrix=function(){return n.perspectiveMatrix(n.fov,n.AspectRatio,10,200)},this.GetViewMatrix=function(){var e=mt.a.create(),t=mt.c.create();return mt.c.add(t,n.Position,n._front),mt.a.lookAt(e,n.Position,t,n._up),e},this.GetModelMatrix=function(){var e=mt.a.create(),t=mt.a.create(),a=mt.a.create(),i=mt.a.create();return mt.a.fromXRotation(n.rotateXMatrix,.2),mt.a.fromYRotation(n.rotateYMatrix,-n.yawAngle),mt.a.multiply(e,n.rotateXMatrix,n.rotateYMatrix),mt.a.fromTranslation(t,n.Translational),mt.a.multiply(a,t,e),mt.a.fromScaling(i,mt.c.fromValues(.5,.5,.5)),mt.a.multiply(n.model,i,a),n.model},this.MouseMove=function(e){if(e.preventDefault(),e.stopPropagation(),1==e.buttons){n.pitchAngle+=n.DegreetoRadians(e.pageY-n.prevLocation[1]),n.yawAngle+=n.DegreetoRadians(e.pageX-n.prevLocation[0]);var t=2*Math.PI;n.pitchAngle<0?n.pitchAngle+=t:n.pitchAngle>t&&(n.pitchAngle-=t),n.prevLocation=mt.b.fromValues(e.pageX,e.pageY)}else 2==e.buttons&&(n.Translational[1]-=n.DegreetoRadians(e.pageY-n.prevLocation[1]),n.Translational[0]+=n.DegreetoRadians(e.pageX-n.prevLocation[0]),n.prevLocation=mt.b.fromValues(e.pageX,e.pageY))},this.MouseWheel=function(e){n.fov-=n.DegreetoRadians(e.wheelDelta*(1/120)),n.fov<.01?n.fov=.01:n.fov>2.5&&(n.fov=2.5)},this.TouchStart=function(e){e.preventDefault(),e.touches.length>=2?(n.MultiPrev[0]=mt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY),n.MultiPrev[1]=mt.b.fromValues(e.touches[1].pageX,e.touches[1].pageY)):n.prevLocation=mt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY)},this.TouchEnd=function(e){e.preventDefault(),e.touches.length>=2?(n.MultiPrev[0]=mt.b.fromValues(0,0),n.MultiPrev[1]=mt.b.fromValues(0,0)):n.prevLocation=mt.b.fromValues(0,0)},this.TouchMove=function(e){if(e.preventDefault(),e.touches.length>=2){var t=e.touches[0].pageY-n.MultiPrev[0][1];t+=e.touches[1].pageY-n.MultiPrev[1][1],t+=e.touches[0].pageX-n.MultiPrev[0][0],t=1/12*-(t+=e.touches[1].pageX-n.MultiPrev[1][0]),n.fov-=n.DegreetoRadians(t),n.fov<.01?n.fov=.01:n.fov>2.5&&(n.fov=2.5),n.MultiPrev[0]=mt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY),n.MultiPrev[1]=mt.b.fromValues(e.touches[1].pageX,e.touches[1].pageY)}else{if(0==n.prevLocation[0]&&0==n.prevLocation[1])return;n.pitchAngle+=n.DegreetoRadians(e.touches[0].pageY-n.prevLocation[1]),n.yawAngle+=n.DegreetoRadians(e.touches[0].pageX-n.prevLocation[0]);var a=2*Math.PI;n.pitchAngle<0?n.pitchAngle+=a:n.pitchAngle>a&&(n.pitchAngle-=a)}n.prevLocation=mt.b.fromValues(e.touches[0].pageX,e.touches[0].pageY)},this.perspectiveMatrix=function(e,t,n,a){var i=1/Math.tan(e/2),r=1/(n-a);return[i/t,0,0,0,0,i,0,0,0,0,(n+a)*r,-1,0,0,n*a*r*2,0]},this.clamp=function(e,t,n){return e<=t?t:e>=n?n:e},this.RadianstoDegrees=function(e){return e*(180/Math.PI)},this.DegreetoRadians=function(e){return e*(Math.PI/180)},this.pitchAngle=0,this.yawAngle=0,this.Translational=mt.c.fromValues(0,-80,0),this.prevLocation=mt.b.create(),this.MultiPrev=[],this.model=mt.a.create(),this.modelMatrix=mt.a.create(),this.rotateXMatrix=mt.a.create(),this.rotateYMatrix=mt.a.create(),this.projMatrix=mt.a.create(),this.angleX=0,this.angleY=0,this.fov=1.57079637,this.yaw=-1.57079637,this.AspectRatio=0,this._front=mt.c.fromValues(0,0,-1),this._up=mt.c.fromValues(0,1,0),this.Position=mt.c.fromValues(0,0,100),this.AspectRatio=t,this.fov=this.DegreetoRadians(57)},bt=function e(t,n){var a=this;Object(x.a)(this,e),this.BindTexture=function(e,t){var n=new Image;n.src=t;var i=function(t){return new Promise((function(i){t.onload=function(t){null==a.TextureId&&(a.TextureId=e.createTexture()),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.TextureId),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.src=t.src}))};function r(){return(r=Object(pe.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return r.apply(this,arguments)})().then((function(e){console.log(e)})).catch(console.error)},this.Use=function(e){e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.TextureId)},this.Use2=function(e){e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,a.TextureId)},this.Name=t,this.TextureId=null},jt=(n(126),function e(t,n,a,i){var r=this;Object(x.a)(this,e),this.setAttributes=function(e){var t=new Float32Array(r.ToPosition(r.vertices));r.PositionBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.PositionBuff),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);var n=new Float32Array(r.ToNormal(r.vertices));r.NormalBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.NormalBuff),e.bufferData(e.ARRAY_BUFFER,n,e.DYNAMIC_DRAW);var a=new Float32Array(r.ToTexture(r.vertices));r.TextureBuff=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.TextureBuff),e.bufferData(e.ARRAY_BUFFER,a,e.DYNAMIC_DRAW);var i=new Uint32Array(r.Tofaces(r.Faces));r.IndexBuff=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.IndexBuff),e.bufferData(e.ELEMENT_ARRAY_BUFFER,i,e.DYNAMIC_DRAW),r.numVerts=i.length},this.Update=function(e,t,n){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.IndexBuff),n.bind(t);var a=n.gDirectionalLightbasecolor;new Float32Array(0,0,0);n.gDirectionalLightbasecolor=r.gDirectionalLightbasecolor,n.UpdateLighting(t,r.gDirectionalLightbasecolor);var i=n.getAttLoc("aPos"),o=n.getAttLoc("aNormal"),s=n.getAttLoc("aTexCoords");if(-1!=i&&(t.bindBuffer(t.ARRAY_BUFFER,r.PositionBuff),t.vertexAttribPointer(i,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(i)),-1!=o&&(t.bindBuffer(t.ARRAY_BUFFER,r.NormalBuff),t.vertexAttribPointer(o,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o)),-1!=s&&(t.bindBuffer(t.ARRAY_BUFFER,r.TextureBuff),r.isColor?t.vertexAttribPointer(s,3,t.FLOAT,!1,0,0):t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s)),"LFA_IRIS"===r.Name.toUpperCase()){var c=n.getUniformLoc("LightOff");t.uniform1i(c,1)}var l=n.getUniformLoc("model");t.uniformMatrix4fv(l,!0,e.GetModelMatrix());var u=n.getUniformLoc("projection");if(t.uniformMatrix4fv(u,!0,e.GetProjectionMatrix()),t.drawElements(t.TRIANGLES,r.numVerts,t.UNSIGNED_INT,0),t.disableVertexAttribArray(i),t.disableVertexAttribArray(o),t.disableVertexAttribArray(s),"LFA_IRIS"===r.Name.toUpperCase()){c=n.getUniformLoc("LightOff");t.uniform1i(c,0)}n.gDirectionalLightbasecolor=a},this.cnvrttoarr=function(e){var t,n=[];for(t=0;t<e.length;t++){n.push(e[t].X),n.push(e[t].Y),n.push(e[t].Z),n.push(e[t].Normal.X),n.push(e[t].Normal.Y),n.push(e[t].Normal.Z),r.isColor?(n.push(e[t].Color.X),n.push(e[t].Color.Y),n.push(e[t].Color.Z)):null!=e[t].Texture?(n.push(e[t].Texture.X),n.push(e[t].Texture.Y)):(0==e[t].X?n.push(0):n.push(e[t].X),0==e[t].Y?n.push(0):n.push(e[t].Y));for(var a=0;a<10;a++)null!=e[t].BoneMap&&a<e[t].BoneMap.length?n.push(e[t].BoneMap[a]):n.push(0);for(var i=0;i<10;i++)0==i?n.push(1):n.push(0)}return n},this.ToPosition=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Position.length;a++)t.push(e[n].Position[a]);return t},this.ToNormal=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Normal.length;a++)t.push(e[n].Normal[a]);return t},this.ToTexture=function(e){for(var t=[],n=0;n<e.length;n++)for(var a=0;a<e[n].Texture.length;a++)t.push(e[n].Texture[a]);return t},this.Tofaces=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},this.vertices=[],this.Faces=null,this.sProgram=null,this.numVerts=null,this.vertBuff=null,this.textBuff=null,this.Name="",this.isColor=null,this.PositionBuff=null,this.NormalBuff=null,this.TextureBuff=null,this.IndexBuff=null,this.gDirectionalLightbasecolor=[.937,.921,.847],this._attributes={},this.vertices=t,this.Faces=n,this.numVerts=this.vertices.length,this.isColor=a,this.setAttributes(i)}),xt=function e(t,n,a){var i=this;Object(x.a)(this,e),this.compileShader=function(e){var t=i._getShader(e,i._fragment,e.FRAGMENT_SHADER),n=i._getShader(e,i._vertex,e.VERTEX_SHADER);i.program=e.createProgram(),e.attachShader(i.program,n),e.attachShader(i.program,t),e.linkProgram(i.program),e.getProgramParameter(i.program,e.LINK_STATUS)||alert("Unable to initialize the shader program."),e.useProgram(i.program),i._loadUniforms(e),i._loadAttributes(e)},this._getShader=function(e,t,n){var a=e.createShader(n);return e.shaderSource(a,t),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(a)),null)},this.bind=function(e){e.useProgram(i.program)},this._loadUniforms=function(e){var t,n,a=e.getProgramParameter(i.program,e.ACTIVE_UNIFORMS);for(n=0;n<a;n++)t=e.getActiveUniform(i.program,n).name,i._uniform[t]=e.getUniformLocation(i.program,t)},this._loadAttributes=function(e){var t,n,a=e.getProgramParameter(i.program,e.ACTIVE_ATTRIBUTES);for(n=0;n<a;n++)t=e.getActiveAttrib(i.program,n).name,i._attributes[t]=e.getAttribLocation(i.program,t)},this.getUniformLoc=function(e){if(null!==i._uniform[e])return i._uniform[e]},this.getAttLoc=function(e){if(null!==i._attributes[e])return i._attributes[e]},this.EnableButtonLight=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Direction");e.uniform3fv(t,[0,0,5]);var n=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,[1,1,1]);var a=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(a,1);var r=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(r,1)},this.DisableButtonLight=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Direction");i.isColor?e.uniform3fv(t,[0,0,1]):e.uniform3fv(t,[0,0,-1]);var n=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,i.gDirectionalLightDirectionBaseColor);var a=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(a,.7);var r=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(r,.7)},this.setUnifromLocations=function(e,t){t.useProgram(i.program);var n=i.getUniformLoc("projection");t.uniformMatrix4fv(n,!0,e.GetProjectionMatrix());var a=i.getUniformLoc("view");t.uniformMatrix4fv(a,!0,e.GetViewMatrix());var r=mt.a.create(),o=i.getUniformLoc("model");t.uniformMatrix4fv(o,!0,r);var s=i.getUniformLoc("viewPos");t.uniform3fv(s,[0,0,100]);var c=i.getUniformLoc("gNumSpotLights");t.uniform1i(c,0);var l=i.getUniformLoc("gNumPointLights");t.uniform1i(l,0);var u=i.getUniformLoc("gColorMap");t.uniform1i(u,0);var d=i.getUniformLoc("gDirectionalLight.Direction");i.isColor?t.uniform3fv(d,[0,0,1]):t.uniform3fv(d,[0,0,-1]);var h=i.getUniformLoc("gDirectionalLight.Base.Color");t.uniform3fv(h,i.gDirectionalLightDirectionBaseColor);var f=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");t.uniform1f(f,.5);var g=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");t.uniform1f(g,.7);var m=i.getUniformLoc("gSpecularPower");t.uniform1f(m,0);var p=i.getUniformLoc("gMatSpecularIntensity");t.uniform1f(p,0)},this.SareeLighting=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(t,i.gDirectionalLightDirectionBaseColor);var n=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(n,.8);var a=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(a,.8);var r=i.getUniformLoc("gSpecularPower");e.uniform1f(r,50);var o=i.getUniformLoc("gMatSpecularIntensity");e.uniform1f(o,0)},this.DisableSareeLighting=function(e){e.useProgram(i.program);var t=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(t,i.gDirectionalLightDirectionBaseColor);var n=i.getUniformLoc("gDirectionalLight.Base.AmbientIntensity");e.uniform1f(n,.7);var a=i.getUniformLoc("gDirectionalLight.Base.DiffuseIntensity");e.uniform1f(a,.7);var r=i.getUniformLoc("gSpecularPower");e.uniform1f(r,10);var o=i.getUniformLoc("gMatSpecularIntensity");e.uniform1f(o,0)},this.UpdateLighting=function(e,t){e.useProgram(i.program);var n=i.getUniformLoc("gDirectionalLight.Base.Color");e.uniform3fv(n,t)},this.program=null,this._id=t,this._vertex=n,this._fragment=a,this._uniform={},this._attributes={},this.gDirectionalLightDirectionBaseColor=[.937,.921,.847]},vt=(n(497),n(498),n(172)),Ot=n.n(vt),yt=n(293),At=n.n(yt),Tt=n(145),Lt=n.n(Tt),Ct=(n(499),n(500),function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{id:"menu",children:[Object(f.jsx)("a",{class:"menu-button icon-plus",href:"#menu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(f.jsx)("span",{class:"fas fa-share-alt"})}),Object(f.jsx)("a",{class:"menu-button icon-minus",href:"#0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(f.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(f.jsx)("div",{class:"menu-item",children:e.img})}))]})})}}]),n}(i.a.Component)),Et=(n(501),function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={show:!1},a}return Object(v.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{id:"skinmenu",children:[Object(f.jsx)("a",{class:"skinmenu-button icon-plus",href:"#skinmenu",title:"Show navigation",onClick:function(){return e.setState({show:!e.state})},children:this.props.MenuIcon?this.props.MenuIcon:Object(f.jsx)("span",{class:"fas fa-share-alt"})}),Object(f.jsx)("a",{class:"skinmenu-button icon-minus",href:"#skinmenu0",title:"Hide navigation",children:this.props.MenuIcon?this.props.MenuIcon:Object(f.jsx)("span",{class:"fas fa-share-alt"})}),this.props.MenuButtons.map((function(e){return Object(f.jsx)("div",{class:"skinmenu-item",children:e.img})}))]})})}}]),n}(i.a.Component)),wt=(n(282),n(294)),St=n(41),Rt=n(602),It=n(601),Pt=n(604),kt=n(596),Bt=n(594),Ft=Object(St.a)(Bt.a)(lt||(lt=Object(wt.a)(["width: 80px;"])));function _t(e){var t=e.value;return Object(f.jsxs)(Rt.a,{sx:{flexGrow:1},children:[Object(f.jsx)(Pt.a,{id:"input-slider",gutterBottom:!0,children:e.label}),Object(f.jsx)(It.a,{item:!0,xs:6,md:8,children:Object(f.jsx)(kt.a,{value:"number"===typeof t?t:0,onChange:function(t,n){e.setValue(n)},min:e.Min,max:e.Max,"aria-labelledby":"input-slider"})}),Object(f.jsx)(It.a,{item:!0,xs:6,md:4,children:Object(f.jsx)(Ft,{value:t,style:{color:"white"},size:"small",onChange:function(t){e.setValue(""===t.target.value?"":Number(t.target.value))},onBlur:function(){t<e.Min?e.setValue(0):t>e.Max&&e.setValue(100)},inputProps:{step:10,min:e.Min,max:e.Max,type:"number","aria-labelledby":"input-slider"}})})]})}var Dt=n.p+"static/media/profile.05aaebe7.png",Nt=n.p+"static/media/folder.b88d3da4.png",Ut=n.p+"static/media/webcam.12fe78bf.png",Mt=n.p+"static/media/submit.0e433847.png",Gt=n.p+"static/media/hair1.2b256a15.png",Xt=n.p+"static/media/hair2.f834fc22.png",Vt=n.p+"static/media/hair3.2f651080.png",Wt=n(205),Ht=n.n(Wt),zt=n(3),Yt=n(299),qt=n(300),Jt=(n(506),i.a.Component,function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={height:165,weight:45,hairStyle:"custom",imagePath:{profile:Dt}},a.webcamRef=i.a.createRef(),a.uploadImage=a.uploadImage.bind(Object(Ae.a)(a)),a}return Object(v.a)(n,[{key:"uploadImage",value:function(){console.log("Upload Image"),document.getElementById("chooseImage").click(),this.setState({isCameraOn:!1})}},{key:"componentDidMount",value:function(){}},{key:"captureImage",value:function(){var e=this.webcamRef.current.getScreenshot({width:1920,height:1080});console.log(e),this.setState({isCameraOn:!1}),this.props.setImageFile(e)}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"",id:"addbranchmodal",role:"dialog","aria-labelledby":"addbranchmodal",children:Object(f.jsx)("form",{style:{position:"absolute",width:!0===this.props.isMobile?"100%":"25%",right:!0===this.props.isMobile?"0%":"5%",top:!0===this.props.isMobile?"0%":"5%",backgroundColor:(this.props.isMobile,"#1A1C3E")},id:"subscribe-email-form",className:"form-horizontal formborder",role:"form",method:"post",children:Object(f.jsx)("div",{className:"",role:"document",children:Object(f.jsx)("div",{className:"modal-form",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"form-header",children:[Object(f.jsx)("h6",{className:"titlebar",id:"exampleModalCenterTitle",children:"Oyna Profile Shoot - SAREE"}),Object(f.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.props.close()},children:Object(f.jsx)("h5",{className:"closetitle",children:" x"})})]}),Object(f.jsx)("div",{className:"modal-body",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:this.state.isCameraOn?Object(f.jsx)(Ht.a,{audio:!1,id:"videoid",ref:this.webcamRef,videoConstraints:{width:200,height:200,facingMode:"user"},style:{clipPath:"circle(50% at 50% 50%)",width:"200px",height:"200px",transform:"translateX(0%) translateY(0%)"}}):Object(f.jsx)("img",{style:{clipPath:"circle(50% at 50% 50%)",width:"200px",height:"200px",transform:"translateX(0%) translateY(0%)"},src:this.props.imageFile?this.props.imageFile:Dt,id:"uploadimg",name:"uploadimg"})}),Object(f.jsxs)("div",{className:"defaulticon",children:[Object(f.jsx)("input",{style:{visibility:"hidden",display:"none"},id:"chooseImage",type:"file",accept:"image/*",onChange:this.props.showFile}),Object(f.jsx)("img",{src:Nt,className:"col-3",style:{cursor:"pointer"},onClick:function(){return e.uploadImage()}}),Object(f.jsx)("img",{src:Ut,className:"col-3",style:{cursor:"pointer"},onClick:function(){e.state.isCameraOn?(e.captureImage(),e.setState({isCameraOn:!1})):e.setState({isCameraOn:!0})}}),Object(f.jsx)("img",{src:Mt,className:"col-3",style:{cursor:"pointer"},onClick:function(){return e.props.proceedGenerate(e.state)}})]}),Object(f.jsxs)("div",{className:"defaulticon",children:[Object(f.jsx)(_t,{value:this.state.weight,setValue:function(t){return e.setState({weight:t})},Min:45,Max:100,label:"Weight"}),Object(f.jsx)(_t,{value:this.state.height,setValue:function(t){return e.setState({height:t})},Min:140,Max:200,label:"Height"})]}),Object(f.jsx)("h6",{className:"titlebar",id:"exampleModalCenterTitle",style:{marginTop:"2%"},children:"HairStyle"}),Object(f.jsxs)("div",{className:"bottombuttons",children:[Object(f.jsx)("div",{className:"selectbtn",id:"custom",name:"custom",style:{borderColor:"custom"===this.state.hairStyle?"green":"#F14FC5",width:!0===this.props.isMobile?"70px":"100px",height:!0===this.props.isMobile?"70px":"100px"},onClick:function(){return e.setState({hairStyle:"custom"})},children:Object(f.jsx)("img",{src:Gt})}),Object(f.jsx)("div",{className:"selectbtn",id:"ponytail_with_bangs",name:"ponytail_with_bangs",style:{borderColor:"ponytail_with_bangs"===this.state.hairStyle?"green":"#F14FC5",width:!0===this.props.isMobile?"70px":"100px",height:!0===this.props.isMobile?"70px":"100px"},onClick:function(){return e.setState({hairStyle:"ponytail_with_bangs"})},children:Object(f.jsx)("img",{src:Xt})}),Object(f.jsx)("div",{className:"selectbtn",id:"long_wavy",name:"long_wavy",style:{borderColor:"long_wavy"===this.state.hairStyle?"green":"#F14FC5",width:!0===this.props.isMobile?"70px":"100px",height:!0===this.props.isMobile?"70px":"100px"},onClick:function(){return e.setState({hairStyle:"long_wavy"})},children:Object(f.jsx)("img",{src:Vt})})]})]})})]})})})})})}}]),n}(i.a.Component)),Qt=n.p+"static/media/girl.6166a39a.png",Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAA0CAIAAACGg7ZXAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADlSURBVFhH7ZNNCoMwGERzlBYsUjW2h6gVEz2I1Cbq/RedYski3WYgkMDbZCK8fD+KubtYJXfdGC2trtnsutqHWrz6Egejqm2S69iwsWNrx7tYHqdN4QntpuSqWyooD2I0Vcx9AT8ig+jvu7AYfYMFTcVcz/Cj3G36PoTKPlwhwjTF+1mivdimo3wuqBijVVIsXXFEOPzu+CRrPX5kHjFZXcomW9kka/UWPTgxWV3KJlvZJGv1Fj04MVldyiZb2SRr9RY9ODFZXcomW9kka/UWPTgxWV3KJlvZJGv1Fj04MVldymVsPvWEJU66FTfVAAAAAElFTkSuQmCC",Zt=n.p+"static/media/pause.31070d48.png",$t=n.p+"static/media/add1.a5a9ba64.png",en=n.p+"static/media/LFA_POSE.7dfb3824.png",tn=n.p+"static/media/play.ac34b2e7.png",nn=n.p+"static/media/loadergif.f167b4fb.gif",an=function(e){Object(O.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(x.a)(this,n),(i=t.call(this,e)).setTextures=function(e){var t=Object(Ae.a)(i),n=t.gl,a=(t.CurrntPose,t.Textures,t.textures,new bt("SAREE",n));a.BindTexture(n,e.sareeImg),i.Textures.SAREE=a;var r=new bt("PALLU",n);r.BindTexture(n,e.palluImg),i.Textures.PALLU=r;var o=new bt("BLOUSE",n);o.BindTexture(n,e.blouseImg),i.Textures.BLOUSE=o},i.ChangetoCurrent=function(){var e=Object(Ae.a)(i),t=e.gl,n=(e.CurrntPose,e.Textures),a=(e.textures,document.getElementById("saree-image-value").value),r=document.getElementById("pallu-image-value").value,o=document.getElementById("blouse-image-value").value;a&&""!==a&&r&&""!==r&&o&&""!==o&&(n.SAREE.BindTexture(t,a),n.PALLU.BindTexture(t,r),n.BLOUSE.BindTexture(t,o),i.setState({curSareeGetted:!0}),document.getElementById("saree-image-value").value="",document.getElementById("pallu-image-value").value="",document.getElementById("blouse-image-value").value="")},i.resizeEvent=function(){i.gl.viewport(0,0,i.canvas.width,i.canvas.height)},i.intEvents=function(){var e=Object(Ae.a)(i),t=(e.gl,e.canvas),n=e.camera;t.addEventListener("touchstart",(function(e){n.TouchStart(e)}),!1),t.addEventListener("touchend",(function(e){n.TouchEnd(e)}),!1),t.addEventListener("touchmove",(function(e){n.TouchMove(e)}),!1);Object(Ae.a)(i);t.onwheel=function(e){n.MouseWheel(e)},t.onmousedown=function(e){e.preventDefault(),n.prevLocation=mt.b.fromValues(e.x,e.y)},t.onmousemove=function(e){0===n.prevLocation[0]&&0===n.prevLocation[1]||n.MouseMove(e)}},i.changeskintone=function(){i.mannq=i.Mannequins[i.CurrntPose];for(var e=mt.c.fromValues(i.pixelvalue[0],i.pixelvalue[1],i.pixelvalue[2]),t=0;t<i.mannq.length;t++)i.mannq[t].Name.toUpperCase().includes("BODY")&&(i.mannq[t].gDirectionalLightbasecolor=e);i.Mannequins[i.CurrntPose]=i.mannq},i.startTimer=function(){i.timerInterval=setInterval((function(){i.camera.yawAngle+=.03,i.draw()}),100)},i.ClickOnScreen=function(e){var t=Object(Ae.a)(i),n=t.gl,a=(t.canvas,t.camera),r=t.fboPicking,o=t.shaderNormal,s=t.sphere,c=t.Buttons,l=t.shaderColor,u=t.logobtn,d=t.closebtn;n.bindFramebuffer(n.FRAMEBUFFER,r),n.drawBuffers([n.COLOR_ATTACHMENT0,n.COLOR_ATTACHMENT1]),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),o.bind(n);for(var h=0;h<c.length;h++)i.buttonClick(c[h],e);if(null!=u.eventClick&&i.buttonClick(u,e),null!=d.eventClick&&i.buttonClick(d,e),null!=s&&null!=s.eventClick){n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),l.setUnifromLocations(a,n),l.EnableButtonLight(n),l.bind(n),s.Update(a,n,l),n.readBuffer(n.COLOR_ATTACHMENT0);var f=new Float32Array(4);n.readPixels(e[0],i.width-e[1],1,1,n.RGBA,n.FLOAT,f),100!==f[3]&&s.eventClick(f)}n.bindFramebuffer(n.FRAMEBUFFER,null)},i.buttonClick=function(e,t){var n=Object(Ae.a)(i),a=n.gl,r=n.canvas,o=n.camera,s=n.fboPicking,c=n.shaderNormal;a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT),e.Update(o,a,c),a.bindFramebuffer(a.READ_FRAMEBUFFER,s),a.readBuffer(a.COLOR_ATTACHMENT1);var l=new Float32Array(4);a.readPixels(t[0],r.height-t[1],1,1,a.RGBA,a.FLOAT,l),0!==l[3]&&null!==e.eventClick&&e.eventClick()},i.draw=function(){var e=Object(Ae.a)(i),t=e.gl,n=e.Mannequins,a=e.camera,r=e.shaderNormal,o=e.CurrntPose,s=(e.Buttons,e.Textures,e.logobtn,e.closebtn,i.state),c=s.DoRender,l=s.curSareeGetted,u=s.reqframe;s.collapsebtn;if(c)if(l){if(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.clearColor(20/255,26/255,62/255,1),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),r.setUnifromLocations(a,t),r.bind(t),i.mannq=n[o],i.mannq)for(var d=0;d<i.mannq.length;d++){if(i.Textures[i.mannq[d].Name].Use(t),i.mannq[d].IsAlphaMap){i.Textures["alpha"+i.mannq[d].Name].Use2(t);var h=r.getUniformLoc("isalphamap");t.uniform1i(h,1);var f=r.getUniformLoc("alphamap");t.uniform1i(f,1)}else{h=r.getUniformLoc("isalphamap");t.uniform1i(h,0)}i.mannq[d].Update(a,t,r)}h=r.getUniformLoc("isalphamap");t.uniform1i(h,0),u&&requestAnimationFrame(i.draw)}else requestAnimationFrame(i.draw)},i.initPickingBuffers=function(){var e=Object(Ae.a)(i),t=e.gl,n=e.canvas,a=(e.mannq,e.shaderNormal,e.CurrntPose,e.Buttons,e.Textures,e.logobtn,e.closebtn,e.textures,e.collapsebtn,i.state),r=(a.DoRender,a.curSareeGetted,a.reqframe,n.width),o=n.height;i.renderbuffer=t.createRenderbuffer(),i.fboPicking=t.createFramebuffer(),i.PostionText=t.createTexture(),i.FragTexture=t.createTexture(),t.bindFramebuffer(t.FRAMEBUFFER,i.fboPicking),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.PostionText),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,r,o,0,t.RGBA,t.FLOAT,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_BASE_LEVEL,0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAX_LEVEL,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.FragTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,r,o,0,t.RGBA,t.FLOAT,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_BASE_LEVEL,0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAX_LEVEL,0),t.bindRenderbuffer(t.RENDERBUFFER,i.renderbuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.PostionText,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT1,t.TEXTURE_2D,i.FragTexture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,i.renderbuffer),t.bindRenderbuffer(t.RENDERBUFFER,null),t.readBuffer(t.NONE),t.drawBuffers([t.COLOR_ATTACHMENT0,t.COLOR_ATTACHMENT1]);var s=t.checkFramebufferStatus(t.FRAMEBUFFER);s!==t.FRAMEBUFFER_COMPLETE&&console.log("Problem with framebuffer "+s+". Should be "+t.FRAMEBUFFER_COMPLETE),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},i.showFile=function(){var e=Object(pe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("Show File"),i.setState({file:t.target.files[0]}),(n=new FileReader).onload=function(){var e=Object(pe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,i.setState({Imagefile:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.target.files[0]&&n.readAsDataURL(t.target.files[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.canvasClciked=function(){console.log("init event"),i.state.init||(i.setState({init:!0}),i.Init())},console.log(e),i.state={collapsebtn:!0,isplay:!1,reqframe:!1,ModalShow:!1,init:!1,file:null,showLoader:!1},i.gl=null,i.canvas=null,i.width=null,i.height=null,i.camera=null,i.shaderNormal=null,i.renderbuffer=null,i.fboPicking=null,i.PostionText=null,i.FragTexture=null,i.Mannequins={},i.Textures={},i.collapsebtn=!0,i.logobtn=null,i.closebtn=null,i.DoRender=!0,i.LFAPose="LFA",i.LAOPose="LAO",i.CurrntPose=null,i.assigned_var_3=null,i.curSareeGetted=!1,i.timePassed=0,i.timeLeft=0,i.timerInterval=null,i.reqframe=!0,i.oynaPanel=document.getElementById("oyna_panel"),i.serverURL="https://oyna-gw.cdssapps.in/",i.urlicon=i.serverURL+"Icons/",i.HostUrl="https://oyna-gw.cdssapps.in/",i.mannq=[],i.Buttons=[],i.canvasRef=a.createRef(),i}return Object(v.a)(n,[{key:"componentWillMount",value:function(){console.log("will mount")}},{key:"Init",value:function(){var e=Object(pe.a)(me.a.mark((function e(){var t,n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showLoader:!0}),console.log("INIT",window,document.body.clientWidth,document.body.clientHeight),this.canvas=document.getElementById("webglcanvas"),this.canvas.width=document.body.clientWidth>0?document.body.clientWidth:this.state.sareetextures.width,this.canvas.height=document.body.clientHeight>0?document.body.clientHeight:this.state.sareetextures.height,this.width=this.canvas.width,this.height=this.canvas.height,this.gl=this.canvas.getContext("webgl2",{alpha:!1,antialias:!0}),this.gl||(console.error("WebGL 2 not available"),document.body.innerHTML="This Module requires WebGL 2 which is unavailable on this system."),this.gl.getExtension("EXT_color_buffer_float"),this.gl.viewport(0,0,this.width,this.height),this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),this.camera=new pt(this.width/this.height),this.shaderNormal=new xt("Normal Rendering","#version 300 es\nlayout (location = 0) in vec3 aPos;\nlayout (location = 1) in vec3 aNormal;\nlayout (location = 2) in vec2 aTexCoords;\nuniform mat4 model;\nuniform mat4 view;\nuniform mat4 projection;\n\nout vec3 Normal;\nout vec3 FragPos;\nout vec2 TexCoords;\nout vec4 OriginalPos;\n\nuniform int WithoutModel;\nvoid main()\n{\n  if(WithoutModel==0)\n  OriginalPos = vec4(aPos, 1.0)*model;\n  else\n  OriginalPos = vec4(aPos, 1.0) ;\n  vec4 PosL   = vec4(aPos, 1.0);\n  gl_Position  =PosL*model* view * projection ;// *projection ;\n  TexCoords = aTexCoords;\n  vec4 NormalL =vec4(aNormal, 0.0) ;\n  Normal=(NormalL*model).xyz;\n  FragPos = (PosL*model).xyz;\n  //gl_Position = vec4(aPos, 1.0) * model*inverse(BoneTransform)* view * projection;\n  //FragPos = vec3(vec4(aPos, 1.0)  * model);\n  //Normal = aNormal * mat3(transpose(inverse(model )));\n  //TexCoords = aTexCoords;\n}","#version 300 es\nprecision highp float;\nconst int MAX_POINT_LIGHTS = 2;\nconst int MAX_SPOT_LIGHTS = 2;\n\nin vec2 TexCoords;\nin vec3 Normal;                                                                   \nin vec3 FragPos;  \nin vec4 OriginalPos;\n\nstruct VSOutput\n{\n    vec2 TexCoord;\n    vec3 Normal;                                                                   \n    vec3 WorldPos;                                                                 \n};\n\n\nstruct BaseLight\n{\n    vec3 Color;\n    float AmbientIntensity;\n    float DiffuseIntensity;\n};\n\nstruct DirectionalLight\n{\n    BaseLight Base;\n    vec3 Direction;\n};\n                                                                                    \nstruct Attenuation                                                                  \n{                                                                                   \n    float Constant;                                                                 \n    float Linear;                                                                   \n    float Exp;                                                                      \n};                                                                                  \n                                                                                    \nstruct PointLight                                                                           \n{                                                                                           \n    BaseLight Base;                                                                  \n    vec3 Position;                                                                          \n    Attenuation Atten;                                                                      \n};                                                                                          \n                                                                                            \nstruct SpotLight                                                                            \n{                                                                                           \n    PointLight Base;                                                                 \n    vec3 Direction;                                                                         \n    float Cutoff;                                                                           \n};                                                                                          \n                                                                                            \nuniform int gNumPointLights;                                                                \nuniform int gNumSpotLights;                                                                 \nuniform DirectionalLight gDirectionalLight;        \nuniform DirectionalLight gDirectionalLight2;    \nuniform PointLight gPointLights[MAX_POINT_LIGHTS];                                          \nuniform SpotLight gSpotLights[MAX_SPOT_LIGHTS];                                             \nuniform sampler2D gColorMap;    \nuniform sampler2D alphamap; \nuniform int isalphamap; \nuniform vec3 viewPos;                                                                  \nuniform float gMatSpecularIntensity;                                                        \nuniform float gSpecularPower; \nuniform int LightOff; \nlayout(location = 0) out vec4 FragColor;\nlayout(location = 1) out vec4 position;\nlayout(location = 2) out vec4 normal;\n\nvec4 CalcLightInternal(BaseLight Light, vec3 LightDirection, VSOutput In)            \n{                                                                                           \n    vec4 AmbientColor = vec4(Light.Color * Light.AmbientIntensity, 1.0);\n    float DiffuseFactor = dot(In.Normal, -LightDirection);                                     \n                                                                                            \n    vec4 DiffuseColor  = vec4(0, 0, 0, 0);                                                  \n    vec4 SpecularColor = vec4(0, 0, 0, 0);                                                  \n                                                                                            \n    if (DiffuseFactor > 0.0) {                                                                \n        DiffuseColor = vec4(Light.Color * Light.DiffuseIntensity * DiffuseFactor, 1.0);\n                                                                                            \n        vec3 VertexToEye = normalize(viewPos - In.WorldPos);                             \n        vec3 LightReflect = normalize(reflect(LightDirection, In.Normal));                     \n        float SpecularFactor = dot(VertexToEye, LightReflect);                                      \n        if (SpecularFactor > 0.0) {                                                         \n            SpecularFactor = pow(SpecularFactor, gSpecularPower);\n            SpecularColor = vec4(Light.Color * gMatSpecularIntensity * SpecularFactor, 1.0);\n        }                                                                                   \n    }                                                                                       \n                                                                                            \n    return (AmbientColor + DiffuseColor + SpecularColor);                                   \n}                                                                                           \n                                                                                            \nvec4 CalcDirectionalLight(VSOutput In ,DirectionalLight dirlight)                                                      \n{                                                                                           \n    return CalcLightInternal(dirlight.Base, dirlight.Direction, In);  \n}                                                                                           \n                                                                                            \nvec4 CalcPointLight(PointLight l, VSOutput In)                                       \n{                                                                                           \n    vec3 LightDirection = In.WorldPos - l.Position;                                           \n    float Distance = length(LightDirection);                                                \n    LightDirection = normalize(LightDirection);                                             \n                                                                                            \n    vec4 Color = CalcLightInternal(l.Base, LightDirection, In);                         \n    float Attenuation =  l.Atten.Constant +                                                 \n                         l.Atten.Linear * Distance +                                        \n                         l.Atten.Exp * Distance * Distance;                                 \n                                                                                            \n    return Color / Attenuation;                                                             \n}                                                                                           \n                                                                                            \nvec4 CalcSpotLight(SpotLight l, VSOutput In)                                         \n{                                                                                           \n    vec3 LightToPixel = normalize(In.WorldPos - l.Base.Position);                             \n    float SpotFactor = dot(LightToPixel, l.Direction);                                      \n                                                                                            \n    if (SpotFactor > l.Cutoff) {                                                            \n        vec4 Color = CalcPointLight(l.Base, In);                                        \n        return Color * (1.0 - (1.0 - SpotFactor) * 1.0/(1.0 - l.Cutoff));                   \n    }                                                                                                                                                                            \n}                                                                                           \n                            \n\n                                                                \nvoid main()\n{                                    \n    VSOutput In;\n    In.TexCoord = TexCoords;\n    In.Normal   = normalize(Normal);\n    In.WorldPos = FragPos;\n    position = OriginalPos;\n    normal= vec4(normalize(Normal),0.0);\n    vec4 TotalLight = CalcDirectionalLight(In,gDirectionalLight);                                         \n    TotalLight += CalcDirectionalLight(In,gDirectionalLight2);                                                                                  \n    for (int i = 0 ; i < gNumPointLights ; i++) {                                           \n        TotalLight += CalcPointLight(gPointLights[i], In);                              \n    }                                                                                       \n                                                                                            \n    for (int i = 0 ; i < gNumSpotLights ; i++) {                                            \n        TotalLight += CalcSpotLight(gSpotLights[i], In);                                \n    }                                                                                       \n    // TotalLight *=  vec4(1);      \n    if(isalphamap==1)\n    {\n    //vec4 texcolor=texture(gColorMap, In.TexCoord.xy)*TotalLight ;\n    //vec4 aphacolor=texture(gColorMap, In.TexCoord.xy) ;\n    //FragColor = vec4(0.0,0.0,0.0, aphacolor.r);\n    vec4 texcolor=texture(gColorMap, In.TexCoord.xy);\n    vec4 aphacolor=texture(alphamap, In.TexCoord.xy) ;\n  if(aphacolor.r<0.1)\n   discard;\n    FragColor = vec4(texcolor.x,texcolor.y,texcolor.z,aphacolor.r);//*TotalLight;\n   \n    }\n    else\n    {\n        if(LightOff==1)\n        {\n         vec4 finalcolor =texture(gColorMap, In.TexCoord.xy);  \n        FragColor = vec4(finalcolor.x,finalcolor.y,finalcolor.z,1.0);\n        }\n    else\n    {\n    vec4 finalcolor =texture(gColorMap, In.TexCoord.xy)*TotalLight ;  \n        FragColor = finalcolor ;\n    }\n        \n    }\n\n}\n"),this.shaderNormal.compileShader(this.gl),this.shaderNormal.bind(this.gl),this.shaderNormal.setUnifromLocations(this.camera,this.gl),window.addEventListener("resize",this.resizeEvent),console.log("cache"),e.next=22,Lt.a.getItem("Model");case 22:if(!(t=e.sent)){e.next=28;break}return e.next=26,this.LoadModel(t,this.LFAPose);case 26:e.next=31;break;case 28:return n=this,e.next=31,new Ot.a.external.Promise((function(e,t){At.a.getBinaryContent(n.serverURL+"Models/lao.zip",(function(n,a){n?t(n):e(a)}))})).then((function(e){return Ot.a.loadAsync(e)})).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){n.LoadModel(e,n.LFAPose),Lt.a.setItem("Model",e)}),(function(e){}));case 31:return e.next=33,Lt.a.getItem("Real_Model");case 33:if(!(a=e.sent)){e.next=37;break}return e.next=37,this.LoadModel(a,this.LAOPose);case 37:this.InitWindow(),this.setState({showLoader:!1});case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.props.normalLoad?this.Init():window.addEventListener("message",(function(t){"sendValue"==t.data.call&&(console.log("send value",t),e.state.sareetextures||(e.setState({sareetextures:t.data}),e.Init()))}),!1)}},{key:"ColorToImg",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=400,t.height=400;return n.fillStyle="rgba("+255*e[0]+","+255*e[1]+","+255*e[2]+", 0.8)",n.fillRect(0,0,t.width,t.height),t.toDataURL()}},{key:"playpause",value:function(){this.state.isplay?(clearInterval(this.timerInterval),this.setState({reqframe:!0}),this.draw()):(this.setState({reqframe:!0}),this.startTimer()),this.setState({isplay:!this.state.isplay})}},{key:"LoadModel",value:function(){var e=Object(pe.a)(me.a.mark((function e(t,n){var a,i,r,o,s,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.gl,this.LFAPose,this.urlicon,this.timerInterval,i=this.state,i.collapsebtn,i.isplay,i.reqframe,r=JSON.parse(t),this.CurrntPose=n,this.mannq=[],this.Buttons=[],this,o=0;o<r.meshes.length;o++)(s=new jt(r.meshes[o].vertices,r.meshes[o].Faces,r.meshes[o].IsColor,a)).Name=r.meshes[o].Name,s.IsAlphaMap=r.meshes[o].IsAlphaMap,this.mannq.push(s);for(this.Mannequins[n]=this.mannq,o=0;o<r.Textures.length;o++)"SAREE"!==r.Textures[o].Name.toUpperCase()&&"PALLU"!==r.Textures[o].Name.toUpperCase()&&"BLOUSE"!==r.Textures[o].Name.toUpperCase()&&(console.log(r.Textures[o].Name),(c=new bt(r.Textures[o].Name,a)).BindTexture(a,"data:image/"+r.Textures[o].Extention+";base64,"+r.Textures[o].ImgByte),this.Textures[r.Textures[o].Name]=c);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"ProfileShot",value:function(){var e=this;return Object(f.jsx)("div",{style:{backgroundColor:"white",zIndex:15,position:"absolute"},id:"addbranchmodal",role:"dialog","aria-labelledby":"addbranchmodal","aria-hidden":"true",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("h6",{children:"This is New Feature"}),Object(f.jsx)("input",{type:"file",onChange:function(t){return e.showFile(t)}}),Object(f.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:function(){e.setState({showModal:!1})},children:"Close"})]})})}},{key:"dataURLtoFile",value:function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],i=atob(n[1]),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);return new File([o],t,{type:a})}},{key:"GetAvatar",value:function(){var e=Object(pe.a)(me.a.mark((function e(t,n){var a,i,r,o,s=this;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,console.log(t),i=this.dataURLtoFile(this.state.Imagefile,{profile:Dt}),a.append("avatarfile",i),a.append("height",n.height),a.append("weight",n.weight),a.append("hairstyle",n.hairStyle),r=this,console.log(r.HostUrl+"AvatarGenerator"),o={headers:{"content-type":"multipart/form-data",Authorization:""},responseType:"arraybuffer",onUploadProgress:function(e){console.log({progress:Math.round(100*e.loaded/e.total)}),s.setState({progress:Math.round(100*e.loaded/e.total)})}},e.next=12,Le.a.post(r.HostUrl+"AvatarGenerator",a,o).then(function(){var e=Object(pe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),Ot.a.loadAsync(t.data).then((function(e){return e.file("lao.txt").async("string")})).then((function(e){console.log(e),r.LoadModel(e,r.LAOPose),Lt.a.setItem("Real_Model",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"InitWindow",value:function(){var e=this;this.intEvents(),this.state.sareetextures&&this.setTextures(this.state.sareetextures),this.draw(),setTimeout((function(){console.log("Changes"),e.canvas.style.display="block",e.setState({DoRender:!0,curSareeGetted:!0,reqframe:!0}),e.draw()}),2e3)}},{key:"proceedGenerate",value:function(){var e=Object(pe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showLoader:!0,showModal:!1}),e.next=3,this.GetAvatar(this.state.file,t);case 3:this.setState({showLoader:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={width:"100%",height:"100%",clipPath:"circle(80% at center)"},n=[{img:Object(f.jsx)("img",{src:Kt,onClick:function(){e.pixelvalue=mt.c.fromValues(180/255,140/255,120/255),e.changeskintone()},style:t})},{img:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAxCAIAAADWTifkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADjSURBVFhH5dHrCcMwDARgz908RrHadRqHrtSTj2iDEwLDYZ/y58NKu/px2T7e2+g4j9t8VKeBmdiGEzNOeexs/sTuPma827/OL7r8bHP1/pxQv92f66P5nnUZ/TU3/EizTFsZbLT59fxOlIRfC6KFxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyakLKqNyDLiCWUnnFnKSGxMIuDYgyqjy2/wGf4TsTb9Sa1gAAAABJRU5ErkJggg==",onClick:function(){e.pixelvalue=mt.c.fromValues(220/255,180/255,160/255),e.changeskintone()},style:t})},{img:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAuCAIAAADVxcwnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACzSURBVFhH7ZNbCsQgDEXd/1ps7WMhxtnHVO0KetNAmc5/8mPgEASFkxtJqLTWkjppM3Va75p63k+aQs/x/UIFZGtlO2iG+0tLpT1IF7hQ5WRr5ENGH5w+HAUTeHWnRMtz+yxyQEXihG+WOz0gQ2h254iZc+K/F0pgwvhgmTkqpg2x0aiF28oYJX5wsRkuNuNX7HusiovNGFvse6yKi80YW+x7rIqLzRhb7HusiovNGFZM6QKfK4WsSHFITgAAAABJRU5ErkJggg==",onClick:function(){e.pixelvalue=mt.c.fromValues(240/255,240/255,240/255),e.changeskintone()},style:t})},{img:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAuCAIAAAA6B6cZAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAADtSURBVFhH7ZPNDoIwDID3/kcTNTBk8RGAsPIwyoCNn7MG49GyxEm8Nxxo8qVZu8PX/VS8x3udR32Z2lI2IHtQnZa2vFDjSimek2uy4wDSQuoqhdW2SrADTGnRSryHm80PFmJMLCTfPVzQ0oIS82RMdkbfUF2xhEd32l9AaJCKRDwm0xWR7wWVl0Wvl7WvEOIgxr9m8L0Xq1b4zP7EuLdukIQWUvGaTFOclr+HeRWvxL8eafDuNj99ZX+Rlt2657HepZv/GrtDpGVTN883u0Okhd0buHm+2R0iLezewM3zze4QaWH3Bm6e7x25If0Ao1VsX0WtqG8AAAAASUVORK5CYII=",onClick:function(){e.pixelvalue=mt.c.fromValues(230/255,210/255,180/255),e.changeskintone()},style:t})}],a=[{img:Object(f.jsxs)("div",{role:"button",href:"#0",onClick:function(){e.CurrntPose=e.LFAPose,e.draw(),window.location=window.location.href.replace("#menu","#0")},children:[" ",Object(f.jsx)("img",{src:en,style:t})]})},{img:Object(f.jsx)("div",{role:"button",onClick:function(){e.CurrntPose=e.LAOPose,e.draw(),window.location=window.location.href.replace("#menu","#0")},children:Object(f.jsx)("img",{src:this.state.Imagefile?this.state.Imagefile:$t,style:t})})},{img:Object(f.jsx)("div",{role:"button",onClick:function(){e.setState({showModal:!0}),window.location=window.location.href.replace("#menu","#0")},children:Object(f.jsx)("img",{role:"button",src:$t,style:t})})}];return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("canvas",{className:"canvas-container",style:{height:"100%",position:"fixed",top:0,left:0,width:"100%"},id:"webglcanvas"}),!this.state.showModal&&Object(f.jsx)("div",{style:{right:10,top:20,position:"fixed",color:"white"},children:Object(f.jsx)("button",{onClick:function(){return e.playpause()},children:this.state.isplay?Object(f.jsx)("img",{src:Zt,alt:"Avatar",style:{width:"70px"}}):Object(f.jsx)("img",{src:tn,alt:"Avatar",style:{width:"70px"}})})}),this.state.showModal&&Object(f.jsx)("div",{style:{zIndex:20},children:Object(f.jsx)(Jt,{showFile:function(t){return e.showFile(t)},imageFile:this.state.Imagefile,isMobile:this.props.isMobile,setImageFile:function(t){return e.setState({Imagefile:t})},proceedGenerate:function(t){return e.proceedGenerate(t)},close:function(){return e.setState({showModal:!1})}})}),!this.state.showModal&&Object(f.jsx)("div",{style:{right:20,top:160,zIndex:15,position:"fixed",color:"white"},children:Object(f.jsx)(Ct,{name:"models",MenuButtons:a,MenuIcon:Object(f.jsx)("img",{src:Qt,style:{backgroundColor:"rgb(20,26,62)",width:"100%",height:"100%"}})})}),this.state.showLoader&&Object(f.jsx)("div",{style:{position:"fixed",textAlign:"center",zIndex:20},children:Object(f.jsx)("img",{src:nn})}),!this.state.showModal&&Object(f.jsx)("div",{style:{right:20,top:240,position:"fixed",color:"white"},children:Object(f.jsx)(Et,{name:"skintone",MenuButtons:n,MenuIcon:Object(f.jsx)("img",{src:Kt,style:{width:"100%",height:"100%"}})})})]})})}}]),n}(a.Component),rn=an;n(502),new(n(302).a);var on=function(){var e=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return console.log("get token",t),null===t||void 0===t?void 0:t.token}()),t=Object(u.a)(e,2),n=t[0],i=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),i(e.token)},token:n}}(),t=(e.token,e.setToken,Object(s.useMediaQuery)({query:"(max-width: 1224px)"}));return Object(f.jsx)(rn,{isMobile:t})};n(503),n(504);o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(on,{})}),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.0d0d0293.chunk.js.map